<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
  <title>Java-Success Blog: February 2012</title>

  <link href='http://www.java-success.com' rel='canonical'/>

  


  <script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(l){}};this.tick("start",null,a)}var a,e;window.performance&&(e=(a=window.performance.timing)&&a.responseStart);var h=0<e?new c(e):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_","_wtsrt",
e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Blogger" />
<link rel="icon" type="image/vnd.microsoft.icon" href="https://www.blogger.com/favicon.ico"/>
<link rel="alternate" type="application/atom+xml" title="Java-Success Blog - Atom" href="http://java-success.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Java-Success Blog - RSS" href="http://java-success.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Java-Success Blog - Atom" href="https://www.blogger.com/feeds/35897879/posts/default" />
<link rel="stylesheet" type="text/css" href="https://www.blogger.com/static/v1/v-css/50269083-blog_controls.css"/>
<link rel="stylesheet" type="text/css" href="https://www.blogger.com/dyn-css/authorization.css?targetBlogID=35897879&zx=32ffd7df-5810-469f-a666-048e5011b3eb"/>
<script type="text/javascript" src="https://www.blogger.com/static/v1/v-js/979395223-backlink.js"></script>
<script type="text/javascript" src="https://www.blogger.com/static/v1/v-js/4080670514-backlink_control.js"></script>
<script type="text/javascript">var BL_backlinkURL = "https://www.blogger.com/dyn-js/backlink_count.js";var BL_blogId = "35897879";</script>


  <style type="text/css">
/*
-----------------------------------------------
Blogger Template Style
Name:     Harbor
Designer: Douglas Bowman
URL:      www.stopdesign.com
Date:     24 Feb 2004
----------------------------------------------- */


body {
  background:#fff url("http://www.blogblog.com/harbor/rocks.jpg") no-repeat right bottom;
  background-attachment:fixed;
  margin:0;
  padding:0;
  font:x-small Georgia,Serif;
  color:#333;
  font-size/* */:/**/small;
  font-size: /**/small;
  }
/* Commented Backslash Hack hides rule from IE5-Mac \*/
  body {background-attachment:scroll;}
  /* End IE5-Mac hack */
a:link {
  color:#36a;
  text-decoration:none;
  }
a:visited {
  color:#764;
  text-decoration:none;
  }
a:hover {
  color:#933;
  text-decoration:underline;
  }
a img {
  border-width:0;
  }


/* Page Structure
----------------------------------------------- */
#wrap {
  background:url("http://www.blogblog.com/harbor/sky.jpg") repeat-x left top;
  min-width:740px;
  margin:0;
  padding:0;
  text-align:left;
  }
#wrap2 {
  background:url("http://www.blogblog.com/harbor/lighthouse.jpg") no-repeat left top;
  }
#wrap3 {
  background:url("http://www.blogblog.com/harbor/cloud.jpg") no-repeat 100% 75px;
  }
#wrap4 {
  background:url("http://www.blogblog.com/harbor/center_cloud.jpg") no-repeat 50% 0;
  padding:15px;
  width:100%;
  width/* */:/**/auto;
  width: /**/auto;
  }
@media all {
  #content {
    max-width:890px;
    padding:0 30px 50px;
    width:100%;
    width/* */:/**/auto;
    width: /**/auto;
    }
  html>body #content {
    border:3px double #fff;
    }
  #main {
    width:64%;
    float:right;
    }
  #main2 {
    margin:0;
    padding:0;
    }
  #sidebar {
    width:32%;
    float:left;
    }
  #sidebar2 {
    margin:0;
    padding:170px 0 20px;
    }
  }
@media handheld {
  #content {
    width:90%;
    }
  #main {
    width:100%;
    float:none;
    }
  #sidebar {
    width:100%;
    float:none;
    }
  }

/* Header
----------------------------------------------- */
@media all {
  #header {
    padding:15px 0 10px 110px;
    }
  }
@media handheld {
  #header {
    width:100%;
    padding:15px 0 10px 0;
    }
  }
#blog-title {
  margin:0 0 .25em;
  font-size:270%;
  font-weight:normal;
  color:#678;
  }
#blog-title a {
  color:#678;
  text-decoration:none;
  }
#description {
  margin:0;
  max-width:700px;
  font-size:75%;
  line-height:1.8em;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#789;
  }


/* Headings
----------------------------------------------- */
h2 {
  margin:1.5em 0 .75em;
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#933;
  }


/* Posts
----------------------------------------------- */
.date-header {
  margin:2em 0 .5em;
  }
.post {
  margin:.5em 0 1.5em;
  line-height:1.6em;
  }
.post-title {
  margin:.25em 0 0;
  padding:0 0 4px;
  font-size:140%;
  font-weight:normal;
  line-height:1.4em;
  }
.post-title a, .post-title strong {
  background:url("http://www.blogblog.com/harbor/icon_lighthouse.gif") no-repeat 0 .15em;
  display:block;
  padding-left:20px;
  text-decoration:none;
  color:#368;
  font-weight:normal;
  }
.post-title strong {
  background-image:url("http://www.blogblog.com/harbor/icon_lighthouse2.gif");
  color:#000;
  }
.post-title a:hover {
  color:#933;
  }
.post-body {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  padding-top:12px;
  }
.post p {
  margin:0 0 .75em;
  }
p.post-footer {
  color:#999;
  }
.post-footer em, .comment-link {
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
.post-footer em {
  font-style:normal;
  color:#666;
  margin-right:.4em;
  }
.comment-link strong {
  font-size:130%;
  }
.comment-link {
  margin-left:.4em;
  }
.post img {
  padding:4px;
  border:1px solid #cde;
  }


/* Comments
----------------------------------------------- */
#comments {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  padding:15px 0 0;
  }
#comments h4 {
  margin:1em 0;
  font:bold 78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#933;
  }
#comments h4 strong {
  font-size:130%;
  }
#comments-block {
  margin:1em 0 1.5em;
  line-height:1.4em;
  }
#comments-block dt {
  margin:.5em 0;
  }
#comments-block dd {
  margin:.25em 20px 0;
  }
#comments-block dd.comment-timestamp {
  margin:-.25em 20px 1.5em;
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
#comments-block dd p {
  margin:0 0 .75em;
  }
.deleted-comment {
  font-style:italic;
  color:gray;
  }


/* Sidebar Content
----------------------------------------------- */
#sidebar ul {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center bottom;
  margin:0 0 15px;
  padding:0 0 15px;
  list-style:none;
  }
#sidebar li {
  margin:0;
  padding:0 0 .25em 15px;
  text-indent:-15px;
  line-height:1.5em;
  }
#sidebar p {
  color:#666;
  line-height:1.5em;
  }


/* Profile
----------------------------------------------- */
#profile-container {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center bottom;
  margin:0 0 2em;
  padding:0 0 15px;
  }
.profile-datablock {
  margin:.5em 0 .5em;
  }
.profile-img {
  display:inline;
  }
.profile-img img {
  float:left;
  padding:4px;
  border:1px solid #cde;
  margin:0 8px 3px 0;
  }
.profile-data {
  margin:0;
  font:bold 78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
.profile-data strong {
  display:none;
  }
.profile-textblock {
  margin:0 0 .5em;
  }
.profile-link {
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }


/* Footer
----------------------------------------------- */
#footer {
  clear:both;
  padding:15px 30px 0 50px;
  }
#footer hr {
  display:none;
  }
#footer p {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  margin:0;
  padding-top:15px;
  font:78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }


/* Feeds
----------------------------------------------- */
#blogfeeds {
  }
#postfeeds {
  }
  </style>
<!-- --><style type="text/css">@import url(https://www.blogger.com/static/v1/v-css/navbar/3334278262-classic.css);
div.b-mobile {display:none;}
</style>

</head>

<body><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d35897879\x26blogName\x3dJava-Success+Blog\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dBLUE\x26layoutType\x3dCLASSIC\x26searchRoot\x3dhttp://java-success.blogspot.com/search\x26blogLocale\x3den\x26v\x3d2\x26homepageUrl\x3dhttp://java-success.blogspot.com/\x26vt\x3d2978101103701820782',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script>

<!-- Begin wraps -->

<div id="wrap"><div id="wrap2"><div id="wrap3"><div id="wrap4">


<!-- Begin #content -->
<div id="content">


<div id="header">

  <h1 id="blog-title">
    
	Java-Success Blog
	
  </h1>

  <p id="description">Java/JEE blog containing interview questions and answers and tutorials</p>

</div>


<!-- Begin #main -->
<div id="main"><div id="main2">

<div class='adsense' style='text-align:center; padding: 0px 3px 0.5em 3px;'>
<script type="text/javascript"><!--
google_ad_client="pub-3764234023451771";
google_ad_host="pub-1556223355139109";
google_ad_width=468;
google_ad_height=60;
google_ad_format="468x60_as";
google_ad_type="text";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="333333";
google_color_url="009900";
google_color_text="993333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>



</div>

<!-- Search Google -->
<center>
<form method="get" action="http://www.google.com/custom" target="_top">
<table bgcolor="#ffffff">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
<label for="sbi" style="display: none">Enter your search terms</label>
<input type="text" name="q" size="31" maxlength="255" value="" id="sbi"></input>
<label for="sbb" style="display: none">Submit search form</label>
<input type="submit" name="sa" value="Search" id="sbb"></input>
<input type="hidden" name="client" value="pub-3764234023451771"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
</center>
<!-- Search Google -->









<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Feb 21, 2012</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="5991485718826386640"></a>
    
         
    


    <h3 class="post-title">
	 
	 Java Web Services Interview Questions and Answers: SOAP clients
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><table>
<tr>
<td>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* LHS - Medium Rectangle */
google_ad_slot = "1728948974";
google_ad_width = 336;
google_ad_height = 280;
google_ad_channel ="6353655268";
google_page_url = "http://java-success.blogspot.com.au/2011/09/java-multi-threading-interview.html";
//-->
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
</td>
<td>
<b>Q.</b> How would you go about generating a SOAP Web service client in Java?<br />
<b>A.</b> There are number of IDE based and other tools to achive this. The steps involved include<br />
<br />
<b>1.</b> Get hold of the WSDL file for the service.<br />
<b>2.</b> Generate the client Java code using the relevant IDE or maven plugin like jaxws-maven-plugin.<br />
<b>3.</b> Use the generated code within your client Java file to invoke the service. Read the server details like host name and port-number from an environment based configuration file. The URL specified in the WSDL is hard-coded just for the contract sake.
</td>
</tr>
</table>

The WSDL file can be drawn as shown below.<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-MwcddmKb4Rc/Tz3uvHXT1FI/AAAAAAAAAT4/EwMPVlV9Sg8/s1600/Soap-wsdl-definition.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://4.bp.blogspot.com/-MwcddmKb4Rc/Tz3uvHXT1FI/AAAAAAAAAT4/EwMPVlV9Sg8/s640/Soap-wsdl-definition.JPG" width="528" /></a></div>
<br />
<br />
<br />
The sample WSDL file is <b>OrderServices.WS_getOrdersForAccount.wsdl</b>. This WSDL file could come from a Web service written in any language like C#, Java, etc or an enterprise Service bus like Tibco, Oracle Service Bus, web Methods, etc.<br />
<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsdl:definitions name="getOrdersForAccountWS" targetNamespace="http://server123/OrderExecutionServices.OrderServices.PublicServices:getOrdersForAccountWS" xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:http="http://schemas.xmlsoap.org/wsdl/http/" xmlns:soapjms="http://www.w3.org/2010/soapjms/" xmlns:tns="http://server123/OrderExecutionServices.OrderServices.PublicServices:getOrdersForAccountWS" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/"&gt;
  &lt;wsdl:types&gt;
    &lt;xsd:schema targetNamespace="http://server123/OrderExecutionServices.OrderServices.PublicServices:getOrdersForAccountWS" xmlns:tns="http://server123/OrderExecutionServices.OrderServices.PublicServices:getOrdersForAccountWS" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
          &lt;xsd:element name="getOrdersForAccount" type="tns:getOrdersForAccount"/&gt;
          &lt;xsd:element name="getOrdersForAccountResponse" type="tns:getOrdersForAccountResponse"/&gt;
          &lt;xsd:complexType name="getOrdersForAccount"&gt;
            &lt;xsd:sequence&gt;
              &lt;xsd:element name="accountNo" type="xsd:string"/&gt;
              &lt;xsd:element name="fromDate" type="xsd:string"/&gt;
              &lt;xsd:element name="toDate" type="xsd:string"/&gt;
              &lt;xsd:element name="minRow" type="xsd:string"/&gt;
              &lt;xsd:element name="maxRow" type="xsd:string"/&gt;
            &lt;/xsd:sequence&gt;
          &lt;/xsd:complexType&gt;
          &lt;xsd:complexType name="getOrdersForAccountResponse"&gt;
            &lt;xsd:sequence&gt;
              &lt;xsd:element maxOccurs="unbounded" name="OrderSummaries" nillable="true" type="tns:OrderSummary"/&gt;
            &lt;/xsd:sequence&gt;

          &lt;/xsd:complexType&gt;
          &lt;xsd:complexType name="OrderSummary"&gt;
            &lt;xsd:sequence&gt;
              &lt;xsd:element name="orderNo" nillable="true" type="xsd:string"/&gt;
              &lt;xsd:element name="description" nillable="true" type="xsd:string"/&gt;
              &lt;xsd:element name="orderDate" nillable="true" type="xsd:string"/&gt;
              &lt;xsd:element name="orderStatus" nillable="true" type="xsd:string"/&gt;
              &lt;xsd:element name="unitsValue" nillable="true" type="xsd:string"/&gt;
              &lt;xsd:element name="nettValue" nillable="true" type="xsd:string"/&gt;
            &lt;/xsd:sequence&gt;
          &lt;/xsd:complexType&gt;
     &lt;/xsd:schema&gt;
  &lt;/wsdl:types&gt;
  &lt;wsdl:message name="getOrdersForAccountWS_PortType_getOrdersForAccountResponse"&gt;

    &lt;wsdl:part name="parameters" element="tns:getOrdersForAccountResponse"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:message name="getOrdersForAccountWS_PortType_getOrdersForAccount"&gt;
    &lt;wsdl:part name="parameters" element="tns:getOrdersForAccount"&gt;
    &lt;/wsdl:part&gt;
  &lt;/wsdl:message&gt;
  &lt;wsdl:portType name="getOrdersForAccountWS_PortType"&gt;
    &lt;wsdl:operation name="getOrdersForAccount"&gt;

      &lt;wsdl:input message="tns:getOrdersForAccountWS_PortType_getOrdersForAccount"&gt;
    &lt;/wsdl:input&gt;
      &lt;wsdl:output message="tns:getOrdersForAccountWS_PortType_getOrdersForAccountResponse"&gt;
    &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:portType&gt;
  &lt;wsdl:binding name="OrderExecutionServices_OrderServices_PublicServices_getOrdersForAccountWS_Binder" type="tns:getOrdersForAccountWS_PortType"&gt;
    &lt;soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/&gt;
    &lt;wsdl:operation name="getOrdersForAccount"&gt;

      &lt;soap:operation soapAction="OrderExecutionServices_OrderServices_PublicServices_getOrdersForAccountWS_Binder_getOrdersForAccount" style="document"/&gt;
      &lt;wsdl:input&gt;
        &lt;soap:body parts="parameters" use="literal"/&gt;
      &lt;/wsdl:input&gt;
      &lt;wsdl:output&gt;
        &lt;soap:body parts="parameters" use="literal"/&gt;
      &lt;/wsdl:output&gt;
    &lt;/wsdl:operation&gt;
  &lt;/wsdl:binding&gt;

  &lt;wsdl:service name="OrderExecutionServices.OrderServices.PublicServices.getOrdersForAccountWS"&gt;
    &lt;wsdl:port name="OrderExecutionServices_OrderServices_PublicServices_getOrdersForAccountWS_Port" binding="tns:OrderExecutionServices_OrderServices_PublicServices_getOrdersForAccountWS_Binder"&gt;
      &lt;soap:address location="http://server123:7555/ws/OrderExecutionServices.OrderServices.PublicServices.getOrdersForAccountWS/OrderExecutionServices_OrderServices_PublicServices_getOrdersForAccountWS_Port"/&gt;
    &lt;/wsdl:port&gt;
  &lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;


</pre>
<br />
<br />
Ensure that you have required jar files required for jaxws-rt and jaxws-tools. It depends on the version of Java and Maven you are using.<br />
<br />
<br />
The <b>jaxws-rt.jar</b> is required if you are using <b>Java version 5</b>. In Maven <b>pom.xml</b>, you will require the following dependnecy if using Java 5. The <b>Java 6 </b>comes with the relevant libraries within <b>rt.jar</b> under javax.xml.ws package. <br />
<br />
<pre class="brush: csharp">&lt;dependencies&gt;
 &lt;dependency&gt;
  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;
  &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;
  &lt;version&gt;2.2&lt;/version&gt;
 &lt;/dependency&gt;
&lt;/dependencies&gt;
</pre>
<br />
<br />
If your Maven does not have the jaxws-tools included, then you will require the following dependency jar for the jaxws-maven-plugin.<br />
<br />
<br />
<pre class="brush: csharp">&lt;dependencies&gt;
 &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;
 &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;
 &lt;version&gt;2.2.1&lt;/version&gt;
&lt;/dependencies&gt;
</pre>
<br />
<br />
<br />
Configure the Maven <b>pom.xml </b>file to generate the relevant code to invoke the Web service with the "jaxws-maven-plugin".<br />
<br />
<pre class="brush: csharp">&lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.10&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;compile-orderservice-wsdl&lt;/id&gt;
                        &lt;goals&gt;
                          &lt;goal&gt;wsimport&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;sourceDestDir&gt;${basedir}/src/main/java&lt;/sourceDestDir&gt;
                            &lt;wsdlUrls&gt;
                                &lt;wsdlUrl&gt;${basedir}/src/main/resources/wsdl/OrderServices.WS_getOrdersForAccount.wsdl&lt;/wsdlUrl&gt;
                            &lt;/wsdlUrls&gt;
                            &lt;packageName&gt;com.myapp.service.ws&lt;/packageName&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            
   
   ....
   
&lt;/build&gt;
</pre>
<br />
<br />
Finally the client class that makes use of the<b> generated classes</b> and the JAXWS classes like <b>QName </b>and <b>BindingProvider</b>.<br />
<br />
<br />
<pre class="brush: csharp">package com.myapp.ws.client;

import java.net.MalformedURLException;
import java.net.URL;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Map;

import javax.xml.namespace.QName;
import javax.xml.ws.BindingProvider;

import org.apache.log4j.Logger;

//...other imports

public class OrderServiceImpl implements OrderService {

    private static final Logger LOG = Logger.getLogger(OrderServiceImpl.class);
 
    private static final String PACKAGE_NAME = "OrderExecutionServices.OrderServices.PublicServices";
 private static final String SERVICE_NAME = PACKAGE_NAME + ".getOrdersForAccountWS";
 private static final String NAMESPACE_URI = "http://server123/OrderExecutionServices.OrderServices.PublicServices:getOrdersForAccountWS"
  
   
    @Override
    public List&lt;order&gt; getOrder(OrderQuery query) throws OrderServiceException {
        LOG.trace("getOrdersForAccount accountNumber=" + query.getAccountNumber());
  //The WSDL service element has the sample endpoint location. Here provide the actual location
  //by reading the &lt;hostname&gt;:&lt;portno&gt; from a config file
        URL url = toUrl("http://myserver:5555/" + "ws/" + SERVICE_NAME +  + "?WSDL");
  // it takes namespaceURI and the localPart as the arguments
        QName qName = new QName(NAMESPACE_URI, SERVICE_NAME);
  //OrderExecutionServicesOrderServicesPublicServicesGetOrderForAccountWS is a generated class from the WSDL using wsimport
        OrderExecutionServicesOrderServicesPublicServicesGetOrderForAccountWS service =
            new  OrderExecutionServicesOrderServicesPublicServicesGetOrderForAccountWS(url, qName);
  //GetOrderForAccountWSPortType is a generated class from the WSDL using wsimport
        GetOrdersForAccountWSPortType port = service.getOrderExecutionServicesOrderServicesPublicServicesGetOrderForAccountWSPort();
        configurePort(port);

   // The binding element in the WSDL defines the operation name as "getOrdersForAccount" 
        List&lt;order&gt; listOfOrders = port.getOrderForAccount(
                query.getAccountNumber(),
                query.getFromDate(),
                queryl.getToDate(),
                query.getStartRow(),
                query.getStartRow() + query.getPageSize());
       
        return listOfOrders;
    }

   

    private void configurePort(Object port) {
        if (port instanceof BindingProvider) {
            BindingProvider bindingProvider = BindingProvider.class.cast(port);
            Map&lt;string, Object&gt; requestContext = bindingProvider.getRequestContext();
            requestContext.put(BindingProvider.USERNAME_PROPERTY, "john"); //should be read from a properties file
            requestContext.put(BindingProvider.PASSWORD_PROPERTY, "");     //should be read from a properties file
            requestContext.put("com.sun.xml.ws.connect.timeout", 1000L);   //should be read from a properties file 
            requestContext.put("com.sun.xml.ws.request.timeout", 20L);     //should be read from a properties file in encrypted format and then decrypted
        } else {
            throw new RuntimeException("Expected " + port + " to be of " + BindingProvider.class);
        }
    }

    private static URL toUrl(String url) {
        try {
            return new URL(url);
        } catch (MalformedURLException e) {
            throw new RuntimeException(e);
        }
    }

}

</pre>
<br />
<br />
<b>Q.</b> How would you generate a sample SOAP payload from the WSDL<br />
<b>A.</b><br />
<br />
<b>1.</b> Open the soapUI tool. If not already installed, download the free version and install it.<br />
<b>2.</b> Create a new soapUI project by clicking File --&gt; New soapUI Project.<br />
<b>3.</b> In the pop-up enter a project name and where it says initial WSDL/WADL point your WSDL file. It could be a local file or a URL pointing to your WSDL.For example, <b>OrderServices.WS_getOrdersForAccount.wsdl</b>.<br />
<br />
<pre class="brush: csharp">http://server123:7555/ws/OrderExecutionServices.OrderServices.PublicServices.getOrdersForAccountWS/OrderExecutionServices_OrderServices_PublicServices_getOrdersForAccountWS_Port?wsdl
</pre>
<br />
<br />
<b>4.</b> Say okay and yiu will have a soapUI project created with a sample request contang the SOAP payload under the operation "getOrdersForAccount" subfolder. The payload will look like <br />
<br />
<pre class="brush: csharp">&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ord="http://server123/OrderExecutionServices.OrderServices.PublicServices:getOrdersForAccountWS"&gt;
   &lt;soapenv:Header/&gt;
   &lt;soapenv:Body&gt;
      &lt;ord:getOrdersForAccount&gt;
         &lt;accountNo&gt;?&lt;/accountNo&gt;
         &lt;fromDate&gt;?&lt;/fromDate&gt;
         &lt;toDate&gt;?&lt;/toDate&gt;
         &lt;minRow&gt;?&lt;/minRow&gt;
         &lt;maxRow&gt;?&lt;/maxRow&gt;
      &lt;/ord:getOrdersForAccount&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
</pre>
<br />
<br />
Fill in the "?"s and configure the actual endpoint details, etc you will be able to test the actual service from the soapUI tool.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Web%20services">Web services</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2012/02/java-web-services-interview-questions_20.html" title="permanent link"> 2/21/2012 03:03:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2012/02/java-web-services-interview-questions_20.html#comment-form"location.href=http://java-success.blogspot.com/2012/02/java-web-services-interview-questions_20.html#comment-form;><span style="text-transform:lowercase">8 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2012/02/java-web-services-interview-questions_20.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=5991485718826386640" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=5991485718826386640&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Feb 14, 2012</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="5183680927792475996"></a>
    
         
    


    <h3 class="post-title">
	 
	 Web Services Interview Questions and Answers - RESTful Web Service Overview
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript">
<!--
google_ad_client = "ca-pub-3764234023451771";
/* Leader board image and text */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
google_page_url = "http://java-success.blogspot.com.au/p/core-java-q.html";
//--&gt;
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>

<br/>
<br/>

<b>Q.</b> Why would you use a RESTful Web service? <br />
<b>A</b>. RESTful Web service is easy, straightforward, supports multiple data formats like XML, JSON, etc and easily testable. For example, <br />
<br />
It can be tested by<br />
<br />
<b>1.</b> Directly invoking the service&nbsp; from the browser by typing a URL if the RESTFul service supports GET request with query parameters. For example,<br />
<br />
<pre class="brush: csharp">http://localhost:8080/executionservices/execution/1.0/order/create?accountId=123&amp;qty=25 
</pre>
<br />
<b>2.</b> You could use a Firefox plugin like "<b>poster</b>" to post an XML request to your service. <br />
<br />
<b>3. </b>You could write a Web Service client to consume the Web service from a test class or a separate application client. You could use libraries like <i>HttpClient</i>, <i>CXF </i>Client, <i>URLConnection</i>, etc to connect to the RESTful service.   <br />
<br />
<br />
<b>Q.</b> What are the various implementations of JAX-RS available to choose from in Java?<br />
<b>A.</b> When you're developing with REST in Java, you have a lot of options to choose from in terms of the frameworks. There's <b>Jersey</b>, the reference implementation from Oracle, then you have <b>RestEasy</b>, the JBoss choice, and there is <b>CXF</b>, the Apache choice. <br />
<br />
<br />
<b>Q.</b> How would you go about implemnting the RESTful Web service using the framework of your choice?<br />
<b>A. </b>Let's look at <b>CXF </b>as it is easy<b> </b>to configure<b>. </b>The steps involved include<br />
<br />
<ul>
<li>Bringing in the relevant framework jar files for Spring and CXF. For example, via Maven using a pom.xml file.</li>
<li>If the request and responses are XML based POST, then define an XSD file and generate JAXB annotated classes for marshalling and unmarshalling the request and response.</li>
<li>Define the WebService interface and implementation classes.</li>
<li>Define any interceptor and filter classes if required to intercept the request and responses for implementing the cross-cutting concerns like security validation, logging, auditing, setting up or initializing the locale, etc</li>
<li>Wire up the classes via Spring and CXF config files. For example, webservices-config.xml and cxf.xml.</li>
<li>Finally define the CXF servlet and bootstrap the relevant config files via the web.xml file.</li>
</ul>
<br />
<br />
<br />
Firstly, configure the maven <b>pom.xml</b> file to include the relevant jar files.  <br />
<br />
<br />
<pre class="brush: csharp">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
    &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
    &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;
    &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;
    &lt;version&gt;2.2.3&lt;/version&gt;
&lt;/dependency&gt;

</pre>
<br />
Define the request and response objects with JAXB annotations as our Web service payload is XML, hence it needs to be marshalled (i.e. convert from object to XML) and unmarshalled (XML to object). <b>OrderRequest</b> &amp; <b>OrderResponse </b>classes can be generated from XSD file <b>OrderRequestResponde.xsd</b>  shown below.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;

   &lt;xs:complexType name="OrderResponse"&gt;
      &lt;xs:sequence&gt;
         &lt;xs:element name="orderId" type="xs:string" minOccurs="0" /&gt;
         &lt;xs:element name="responseCode" type="responseCode" minOccurs="0" /&gt;
         &lt;xs:element name="accountId" type="xs:string" minOccurs="0" /&gt;
      &lt;/xs:sequence&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:complexType name="OrderRequest"&gt;
      &lt;xs:sequence&gt;
         &lt;xs:element name="accountId" type="xs:string" minOccurs="0" /&gt;
         &lt;xs:element name="quantity" type="xs:int" minOccurs="0" /&gt;
      &lt;/xs:sequence&gt;
   &lt;/xs:complexType&gt;

   &lt;xs:simpleType name="responseCode"&gt;
      &lt;xs:restriction base="xs:string"&gt;
         &lt;xs:enumeration value="SUCCESS" /&gt;
         &lt;xs:enumeration value="FAILED" /&gt;
         &lt;xs:enumeration value="REJECTED" /&gt;
         &lt;xs:enumeration value="UNKNOWN" /&gt;
      &lt;/xs:restriction&gt;
   &lt;/xs:simpleType&gt;

&lt;/xs:schema&gt;

</pre>
<br />
The .java files can be generated via the <b>xjc</b> command to generate JAXB annotated classes. The <b>OrderRequest.java</b>, <b>OrderResponse.java</b>, <b>ResponseCode.java </b>and <b>ObjectFactory.java</b> files are generated under the package "com.myapp.data.order".<br />
<br />
<!--INFOLINKS_OFF-->

<br />
<pre class="brush: csharp">xjc -d "c:\temp" -p "com.myapp.data.order" "C:\temp\xsd\OrderRequestResponde.xsd" -extension
</pre>
<!--INFOLINKS_ON-->

<br />
Here are the generated files:<br />
<br />
<b>OrderRequest.java</b><br />
<br />
<pre class="brush: csharp">//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, vJAXB 2.1.3 in JDK 1.6 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2012.02.07 at 05:07:31 PM EST 
//


package com.myapp.data.order;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlType;


/**
 * Java class for OrderRequest complex type.
 * 
 * 
The following schema fragment specifies the expected content contained within this class.
 * 
 * 
<pre>* &lt;complexType name="OrderRequest"&gt;
 *   &lt;complexContent&gt;
 *     &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType"&gt;
 *       &lt;sequence&gt;
 *         &lt;element name="accountId" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/&gt;
 *         &lt;element name="quantity" type="{http://www.w3.org/2001/XMLSchema}int" minOccurs="0"/&gt;
 *       &lt;/sequence&gt;
 *     &lt;/restriction&gt;
 *   &lt;/complexContent&gt;
 * &lt;/complexType&gt;
 * </pre>
* 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "OrderRequest", propOrder = {
    "accountId",
    "quantity"
})
public class OrderRequest {

    protected String accountId;
    protected Integer quantity;

    /**
     * Gets the value of the accountId property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getAccountId() {
        return accountId;
    }

    /**
     * Sets the value of the accountId property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setAccountId(String value) {
        this.accountId = value;
    }

    /**
     * Gets the value of the quantity property.
     * 
     * @return
     *     possible object is
     *     {@link Integer }
     *     
     */
    public Integer getQuantity() {
        return quantity;
    }

    /**
     * Sets the value of the quantity property.
     * 
     * @param value
     *     allowed object is
     *     {@link Integer }
     *     
     */
    public void setQuantity(Integer value) {
        this.quantity = value;
    }

}

</pre>
<br />
<br />
<b>OrderResponse.java</b><br />
<br />
<br />
<pre class="brush: csharp">//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, vJAXB 2.1.3 in JDK 1.6 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2012.02.07 at 05:07:31 PM EST 
//


package com.myapp.data.order;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlType;


/**
 * Java class for OrderResponse complex type.
 * 
 * 
The following schema fragment specifies the expected content contained within this class.
 * 
 * 
<pre>* &lt;complexType name="OrderResponse"&gt;
 *   &lt;complexContent&gt;
 *     &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType"&gt;
 *       &lt;sequence&gt;
 *         &lt;element name="orderId" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/&gt;
 *         &lt;element name="responseCode" type="{}responseCode" minOccurs="0"/&gt;
 *         &lt;element name="accountId" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/&gt;
 *       &lt;/sequence&gt;
 *     &lt;/restriction&gt;
 *   &lt;/complexContent&gt;
 * &lt;/complexType&gt;
 * </pre>
* 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "OrderResponse", propOrder = {
    "orderId",
    "responseCode",
    "accountId"
})
public class OrderResponse {

    protected String orderId;
    protected ResponseCode responseCode;
    protected String accountId;

    /**
     * Gets the value of the orderId property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getOrderId() {
        return orderId;
    }

    /**
     * Sets the value of the orderId property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setOrderId(String value) {
        this.orderId = value;
    }

    /**
     * Gets the value of the responseCode property.
     * 
     * @return
     *     possible object is
     *     {@link ResponseCode }
     *     
     */
    public ResponseCode getResponseCode() {
        return responseCode;
    }

    /**
     * Sets the value of the responseCode property.
     * 
     * @param value
     *     allowed object is
     *     {@link ResponseCode }
     *     
     */
    public void setResponseCode(ResponseCode value) {
        this.responseCode = value;
    }

    /**
     * Gets the value of the accountId property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getAccountId() {
        return accountId;
    }

    /**
     * Sets the value of the accountId property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setAccountId(String value) {
        this.accountId = value;
    }

}


</pre>
<br />
<br />
<br />
<br />
<b>ResponseCode.java</b><br />
<br />
<br />
<pre class="brush: csharp">//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, vJAXB 2.1.3 in JDK 1.6 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2012.02.07 at 05:07:31 PM EST 
//


package com.myapp.data.order;

import javax.xml.bind.annotation.XmlEnum;
import javax.xml.bind.annotation.XmlType;


/**
 * Java class for responseCode.
 * 
 * 
The following schema fragment specifies the expected content contained within this class.
 * 
* 
<pre>* &lt;simpleType name="responseCode"&gt;
 *   &lt;restriction base="{http://www.w3.org/2001/XMLSchema}string"&gt;
 *     &lt;enumeration value="SUCCESS"/&gt;
 *     &lt;enumeration value="FAILED"/&gt;
 *     &lt;enumeration value="REJECTED"/&gt;
 *     &lt;enumeration value="UNKNOWN"/&gt;
 *   &lt;/restriction&gt;
 * &lt;/simpleType&gt;
 * </pre>
* 
 */
@XmlType(name = "responseCode")
@XmlEnum
public enum ResponseCode {

    SUCCESS,
    FAILED,
    REJECTED,
    UNKNOWN;

    public String value() {
        return name();
    }

    public static ResponseCode fromValue(String v) {
        return valueOf(v);
    }

}

</pre>
<br />
<br />
<br />
The <b>ObjectFactory.java</b><br />
<br />
<br />
<pre class="brush: csharp">//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, vJAXB 2.1.3 in JDK 1.6 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2012.02.07 at 05:07:31 PM EST 
//


package com.myapp.data.order;

import javax.xml.bind.annotation.XmlRegistry;


/**
 * This object contains factory methods for each 
 * Java content interface and Java element interface 
 * generated in the com.myapp.data.order package. 
 * An ObjectFactory allows you to programatically 
 * construct new instances of the Java representation 
 * for XML content. The Java representation of XML 
 * content can consist of schema derived interfaces 
 * and classes representing the binding of schema 
 * type definitions, element declarations and model 
 * groups.  Factory methods for each of these are 
 * provided in this class.
 * 
 */
@XmlRegistry
public class ObjectFactory {


    /**
     * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: com.myapp.data.order
     * 
     */
    public ObjectFactory() {
    }

    /**
     * Create an instance of {@link OrderResponse }
     * 
     */
    public OrderResponse createOrderResponse() {
        return new OrderResponse();
    }

    /**
     * Create an instance of {@link OrderRequest }
     * 
     */
    public OrderRequest createOrderRequest() {
        return new OrderRequest();
    }

}

</pre>
<br />
<br />
Define the Web service interface <b>ExecutionWebService.java</b>.<br />
<br />
<pre class="brush: csharp">package com.myapp.webservice.orderexecutionservices;


import javax.ws.rs.Consumes;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;

import  com.myapp.data.order.*;

@Path("execution/1.0")
public interface ExecutionWebService {


    // -------------------------
    // Create Order
    // -------------------------
     
    @POST
    @Path("/order/create")
    @Consumes("application/xml") 
    @Produces("text/xml")
    OrderResponse createOrder(OrderRequest orderRequest);
    
    // -------------------------
    // Amend Order
    // -------------------------
    
    @POST
    @Path("/order/amend")
    @Consumes("application/xml")
    @Produces("text/xml")
    OrderResponse amendOrder(OrderRequest orderRequest);
    
    //--------------------------
    // Cancel Order
    //--------------------------
    
    @POST
    @Path("/order/cancel")
    @Consumes("application/xml")
    @Produces("text/xml")
    OrderResponse cancelOrder(OrderRequest orderRequest);

}


</pre>
<br />
<br />
<br />
Define the Web service implementation class <b>ExecutionWebServiceImpl.java</b>. This class makes use of the back-end service class OrderService.java to talk to to the DAO layer, which is not shown here.<br />
<br />
<pre class="brush: csharp">package com.myapp.webservice.orderexecutionservices.impl;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import javax.annotation.Resource;
import javax.servlet.http.HttpServletRequest;
import javax.ws.rs.WebApplicationException;
import javax.xml.datatype.DatatypeConfigurationException;
import javax.xml.ws.WebServiceContext;
import javax.xml.ws.handler.MessageContext;


import com.myapp.data.order.OrderRequest;
import com.myapp.data.order.OrderResponse;

public class ExecutionWebServiceImpl implements ExecutionWebService {

    private OrderService orderService;

    public ExecutionWebServiceImpl() {
    }

    public ExecutionWebServiceImpl(OrderService orderService) {
        this.setOrderService(orderService);
    }

    public void setOrderService(OrderService orderService) {
        this.orderService = orderService;
    }

    public OrderService getOrderService() {
        return orderService;
    }

    @Override
    public OrderResponse createOrder(OrderRequest orderRequest) {
        OrderResponse response = null;
        try {
      //call to back end service 
            response = getOrderService().createOrder(orderRequest);
        } catch (Exceprion e) {
            throw new WebApplicationException(e);
        }
  
        return response;
    }

    @Override
    public OrderResponse amendOrder(OrderRequest orderRequest) {
       OrderResponse response = null;
        try {
            response = getOrderService().amendOrder(orderRequest);
        } catch (Exception e) {
            throw new WebApplicationException(e);
        } 

        return response;
    }

    @Override
    public OrderResponse cancelOrder(OrderRequest orderRequest) {

        OrderResponse response = null;

        try {
            response = getOrderService().cancelOrder(orderRequest, null);
        } catch (Exception e) {
            throw new WebApplicationException(e);
        } 

        return response;
    }
}

</pre>
<br />
Now, wire up the above classes using Spring and CXF configuration files.<br />
<br />
<br />
The <b>webservices-config.xml</b> file.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 xmlns:cxf="http://cxf.apache.org/core" 
 xmlns:jaxrs="http://cxf.apache.org/jaxrs" 
 xmlns:jaxws="http://cxf.apache.org/jaxws"
 xsi:schemaLocation="
    http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://cxf.apache.org/jaxws 
    http://cxf.apache.org/schemas/jaxws.xsd
    http://cxf.apache.org/jaxrs 
    http://cxf.apache.org/schemas/jaxrs.xsd"&gt;

 &lt;import resource="classpath:META-INF/cxf/cxf.xml" /&gt;
 &lt;import resource="classpath:META-INF/cxf/cxf-extension-jaxrs-binding.xml" /&gt;
 &lt;import resource="classpath:META-INF/cxf/cxf-servlet.xml" /&gt;
 &lt;import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" /&gt;
 &lt;import resource="classpath:META-INF/cxf/cxf-extension-http.xml" /&gt;

 
    &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
    &lt;!-- Configure Execution Web Services Beans --&gt;
    &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;bean id="executionWebService" class="com.myapp.webservice.orderexecutionservices.impl.ExecutionWebServiceImpl"&gt;
  &lt;constructor-arg ref="orderService" /&gt;
 &lt;/bean&gt;
 
 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;!-- CONFIGURE ENDPOINTS            --&gt;
 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;jaxrs:server id="executionservices" address="/executionservices/"&gt;
  &lt;jaxrs:inInterceptors&gt;
   &lt;ref bean="myAppInInterceptor" /&gt;
  &lt;/jaxrs:inInterceptors&gt;
  &lt;jaxrs:outInterceptors&gt;
   &lt;ref bean="myAppOutInterceptor" /&gt;
  &lt;/jaxrs:outInterceptors&gt;
  &lt;jaxrs:providers&gt;
   &lt;ref bean="exceptionMapperInterceptor" /&gt;
  &lt;/jaxrs:providers&gt;
  &lt;jaxrs:serviceBeans&gt;
   &lt;ref bean="executionWebService" /&gt;
  &lt;/jaxrs:serviceBeans&gt;
 &lt;/jaxrs:server&gt;
    

 &lt;!-- define orderService, interceptors etc. left out for brevity --&gt;
 &lt;!-- This can be defined in other Spring context files as well--&gt;
 
&lt;/beans&gt;


</pre>
<br />
<br />
The <b>cxf.xml </b>file.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:sec="http://cxf.apache.org/configuration/security"
 xmlns:http="http://cxf.apache.org/transports/http/configuration"
 xsi:schemaLocation="
          http://cxf.apache.org/configuration/security
          http://cxf.apache.org/schemas/configuration/security.xsd
          http://cxf.apache.org/transports/http/configuration
          http://cxf.apache.org/schemas/configuration/http-conf.xsd
          http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

 &lt;http:conduit name="*.http-conduit"&gt;
  &lt;http:tlsClientParameters secureSocketProtocol="SSL" disableCNCheck="true"/&gt;
  &lt;http:client AllowChunking="false" ReceiveTimeout="60000"/&gt;
 &lt;/http:conduit&gt;
&lt;/beans&gt;

</pre>
<br />
<br />
Finally, register the CXF servlet and bootstrap the above config files via <b>web.xml </b>file. The web.xml file snippet is shown below.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
 xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
 id="services" version="2.5"&gt;
 &lt;display-name&gt;webservices&lt;/display-name&gt;

 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;!-- CONFIGURE SPRING CONTAINER --&gt;
 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;

 &lt;context-param&gt;
  &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
  &lt;param-value&gt;
   classpath*:transactionContext.xml
   classpath*:daoContext.xml
           
   /WEB-INF/webservice-config.xml
   classpath*:/cxf.xml
   
  &lt;/param-value&gt;
 &lt;/context-param&gt;
 &lt;listener&gt;
  &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
 &lt;/listener&gt;

 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;!-- CONFIGURE CXF SERVLET      --&gt;
 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;servlet&gt;
  &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;
  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
 &lt;/servlet&gt;
 &lt;servlet-mapping&gt;
  &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
 &lt;/servlet-mapping&gt;

 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;!-- CONFIGURE JNDI RESOURCES   --&gt;
 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;resource-ref&gt;
  &lt;description&gt;My App Data Source&lt;/description&gt;
  &lt;res-ref-name&gt;jdbc/dataSource/MyDB&lt;/res-ref-name&gt;
  &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;
  &lt;res-auth&gt;Container&lt;/res-auth&gt;
 &lt;/resource-ref&gt;
 
&lt;/web-app&gt;

</pre>
<br />
Now, the sample client that consumes the Web service.<br />
<br />
<br />
Note that the interface classes like <b>ExecutionWebService</b>, <b>OrederRequest</b>, <b>OrderResponse</b>, etc  will be  required by both the client (i.e. the Web service consumer) and the service implementation classes like <b>ExecutionWebServiceImpl </b>(i.e. service provider). Hence, the interface classes need to be packaged as separate jar file to be used by both the client and the service implementation.<br />
<br />
<pre class="brush: csharp">package com.myapp.webservice.client;

import org.apache.cxf.jaxrs.client.Client;
import org.apache.cxf.jaxrs.client.JAXRSClientFactory;

//...other imports

public class ExecutionWebServiceClient {

    private static final String EXECUTION_SERVICES_CONTEXT_ROOT = "executionservices";
    
   
    public void consumeRestWebService( ) Throws Exception {
        ExecutionWebService serviceClient = JAXRSClientFactory.create("http://localhost:8080" + EXECUTION_SERVICES_CONTEXT_ROOT, ExecutionWebService.class);
        OrderRequest request = constructOrderReqObj(); // not shown
        OrderResponse response = serviceClient.createOrder(request); 
        //... do something with the response.  
    }   
}

</pre>
<br />
<br />
The URLs that we be used will be like<br />
<br />
<pre class="brush: csharp">http://localhost:8080/executionservices/execution/1.0/order/create
http://localhost:8080/executionservices/execution/1.0/order/amend
http://localhost:8080/executionservices/execution/1.0/order/cancel

</pre>
<br />
<br />
That's all to it. You can also test your Web service using the "poster" plugin for Firefox.<br />
<br />
<br />
The request payload will be something like:<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;OrderRequest&gt;
  &lt;orderId&gt;orderId&lt;/orderId&gt;
  &lt;responseCode&gt;responseCode&lt;/responseCode&gt;
  &lt;accountId&gt;accountId&lt;/accountId&gt;
&lt;/OrderRequest&gt;
</pre>
<br />
<br />
The response payload will be something like<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;OrderResponse&gt;
  &lt;orderId&gt;orderId&lt;/orderId&gt;
  &lt;responseCode&gt;responseCode&lt;/responseCode&gt;
  &lt;accountId&gt;accountId&lt;/accountId&gt;
&lt;/OrderResponse&gt;
</pre>
<br />
<b>Note</b>: You could generate the payload from the XSD file within eclipse IDE by selecting the schema file and then right clicking to click on Generate --&gt; XML. Make sure you check optional elements to be included. It will also require a root element, henc you need to wrap you r schema with something like <br />
<br />
<br />
<pre class="brush: csharp">&lt;xs:element name="OrderRequest" &gt;
   
   .......
 
&lt;/xs:element&gt;
</pre>
<br />
<br />
to generate the request payload and <br />
<br />
<pre class="brush: csharp">&lt;xs:element name="OrderResponse" &gt;
   
   .......
 
&lt;/xs:element&gt;
</pre>
<br />
<br />
to generate the response payload within eclipse IDE.<br />
<br />
<br />
<div style="color: #274e13;">
<b><span style="font-size: large;">Other relevant links on Web Services</span></b></div>
<br />
<a href="http://java-success.blogspot.com.au/2012/02/java-web-services-interview-questions.html">Web Services Interview Questions and Answers - Overview </a>
<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Web%20services">Web services</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2012/02/web-services-interview-questions-and.html" title="permanent link"> 2/14/2012 04:12:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2012/02/web-services-interview-questions-and.html#comment-form"location.href=http://java-success.blogspot.com/2012/02/web-services-interview-questions-and.html#comment-form;><span style="text-transform:lowercase">7 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2012/02/web-services-interview-questions-and.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=5183680927792475996" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=5183680927792475996&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Feb 10, 2012</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="7502934090775494730"></a>
    
         
    


    <h3 class="post-title">
	 
	 Java Web Services Interview Questions and Answers: Overview
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><b>Q.</b> What are the different application integration styles?<br />
<b>A. </b>There are a number of different integration styles like<br />
<br />
1. Shared database<br />
2. batch file transfer<br />
3. Invoking remote procedures (RPC)<br />
4. Exchanging asynchronous messages over a message oriented middle-ware (MOM).
<br />
<br />
<div class="separator" style="clear: both; text-align: left;">
<a href="http://1.bp.blogspot.com/-PzRrLNGPU9U/TzSyk9vzpYI/AAAAAAAAASk/wsDCrNTg9FM/s1600/integration-styles.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-PzRrLNGPU9U/TzSyk9vzpYI/AAAAAAAAASk/wsDCrNTg9FM/s640/integration-styles.JPG" height="700" width="700" /></a></div>
<br />
<b>Q</b>. How does a Java EE application integrates with other systems?<br />
<b>A</b>. Using various protocols like HTTP(S), SOAP, RMI, FTP, proprietary, etc.<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-k3U4N4Dfg84/U6Va_qu-AHI/AAAAAAAACgU/vDEXCGeXV_k/s1600/Screen+shot+2014-06-21+at+8.12.24+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-k3U4N4Dfg84/U6Va_qu-AHI/AAAAAAAACgU/vDEXCGeXV_k/s1600/Screen+shot+2014-06-21+at+8.12.24+PM.png" height="274" width="640" /></a></div>
&nbsp; <br />
<br />
<b>Q. </b>What are the different styles of Web Services used for application integration? <br />
<b>A.</b> <b>SOAP WS</b> and <b>RESTful </b>Web Service<br />
<br />
<b>Q.</b> What are the differences between both SOAP WS and RESTful WS?&nbsp; <br />
<b>A.&nbsp; </b><b></b><br />
<ul>
<li>The SOAP WS supports both remote procedure call (i.e. RPC) and message oriented middle-ware (MOM) integration styles. The Restful Web Service supports only RPC integration style. </li>
</ul>
<ul>
<li>The SOAP WS is transport protocol neutral. Supports multiple protocols like HTTP(S),&nbsp; Messaging, TCP, UDP SMTP, etc. The REST is transport protocol specific. Supports only HTTP or HTTPS protocols.</li>
</ul>
<ul>
<li>

The SOAP WS permits only XML data format.You define operations, which tunnels through the POST. The focus is on accessing the named operations and exposing the application logic as a service. The REST permits multiple data formats like XML, JSON data, text, HTML, etc. Any browser can be used because the REST approach uses the standard GET, PUT, POST, and DELETE Web operations. The focus is on accessing the named resources and exposing the data as a service. REST has AJAX support. It can use the XMLHttpRequest object. Good for stateless CRUD (Create, Read, Update, and Delete) operations.
<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GET - read()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; POST - create()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PUT - update()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DELETE - delete() <br />
</li>
</ul>
<ul>
<li>SOAP based reads cannot be cached. REST based reads can be cached. Performs and scales better. </li>
</ul>
<ul>
<li>SOAP WS supports both SSL security and WS-security, which adds some enterprise security features like maintaining security right up to the point where it is needed, maintaining identities through intermediaries and not just point to point SSL only, securing different parts of the message with different security algorithms, etc. The REST supports only point-to-point SSL security. The SSL encrypts the whole message, whether all of it is sensitive or not. </li>
</ul>
<ul>
<li>The SOAP has comprehensive support for both ACID based&nbsp; transaction management&nbsp; for short-lived transactions and compensation based transaction management for long-running transactions. It also supports two-phase commit across distributed resources. The REST supports transactions, but it&nbsp; is neither ACID compliant nor can provide two phase commit across distributed transactional resources as it is limited by its HTTP protocol.</li>
</ul>
<ul>
<li>The SOAP has success or retry logic built in and provides end-to-end reliability even through SOAP intermediaries. REST does not have a standard messaging system, and expects clients invoking the service to deal with communication failures by retrying.</li>
<br />
<br />
<b>Q.</b> How would you decide what style of Web Service to use? SOAP WS or REST?<br />
<b>A</b>. In general, a REST based Web service is preferred due to its simplicity, performance, scalability, and support for multiple data formats. SOAP is favored where service requires comprehensive support for security and transactional reliability.<br />
<br />
The answer really depends on the functional and non-functional requirements. Asking the questions listed below will help you choose.<br />
<br />
<ul>
<li><b>Does the service expose data or business logic? </b>(REST is a better choice for exposing data, SOAP WS might be a better choice for logic).</li>
<li>Do the consumers and the service providers require a formal contract? (SOAP has a formal contract via WSDL)</li>
<li><b>Do we need to support multiple data formats? </b></li>
<li><b>Do we need to make AJAX calls? </b>(REST can use the XMLHttpRequest)</li>
<li><b>Is the call synchronous or&nbsp; asynchronous?</b> </li>
<li><b>Is the call stateful or stateless?</b> (REST is suited for statless CRUD operations)</li>
<li><b>What level of security is required?</b> (SOAP WS has better support for security)</li>
<li><b>What level of transaction support is required? </b>(SOAP WS has better support for transaction management)</li>
<li><b>Do we have limited band width?</b> (SOAP is more verbose)</li>
<li><b>Whats best for the developers who will build clients for the service? </b>(REST is easier to implement, test, and maintain)</li>
</ul>
<br />
<br />
<b>Q. </b>What tools do you use to test your Web Services?<br />
<b>A.</b> <b>SoapUI</b> tool for SOAP WS and the Firefox "<b>poster</b>" plugin for RESTFul services.<br />
<br />
<br />
<b>Q.</b> What is the difference between SOA and a Web service? <br />
<b>A. </b><br />
<br />
<b>SOA is </b>a software design principle and an architectural pattern for implementing loosely coupled, reusable and coarse grained services. You can implement SOA using any protocols such as HTTP, HTTPS, JMS, SMTP, RMI, IIOP (i.e. EJB uses IIOP), RPC etc. Messages can be in XML or Data Transfer Objects (DTOs).&nbsp;&nbsp;&nbsp;&nbsp; <br />
<br />
<b>Web service is</b> an implementation technology and one of the ways to implement SOA. You can build SOA based applications without using Web services  for example by using other traditional technologies like Java RMI, EJB, JMS based messaging, etc. But what Web services offer is the standards based&nbsp; and platform-independent service via HTTP, XML, SOAP, WSDL and UDDI, thus allowing interoperability between heterogeneous technologies such as J2EE and .NET. <br />
<br />
<br />
<br />
<b>Q.</b> Why not favor traditional style middle-ware such as RPC, CORBA, RMI and DCOM as opposed to Web services?<br />
<b>A. </b><br />
<br />
The<b> traditional middle-wares</b> tightly couple connections to the applications and it can break if you make any modification to your application. Tightly coupled applications are hard to maintain and less reusable. Generally do not support heterogeneity. Do not work across Internet. Can be more expensive and hard to use. <br />
<br />
<b>Web Services</b> support loosely coupled connections. The interface of the Web service provides a layer of abstraction between the client and the server. The loosely coupled applications reduce the cost of maintenance and increases re-usability. Web Services present a new form of middle-ware based on XML and Web. Web services are language and platform independent. You can develop a Web service using any language and deploy it on to any platform, from small device to the largest supercomputer. Web service uses language neutral protocols such as HTTP and communicates between disparate applications by passing XML messages to each other via a Web API. Do work across internet, less expensive and easier to use.<br />
<br />
<b>Q. </b>What are the different approaches to developing a SOAP based Web service?<br />
<b>A. </b>2 approaches.<br />

<br />
<ul>
<li>The <b>contract-first</b> approach, where you define the contract first with XSD and WSDL and the generate the Java classes from the contract. </li>
<li>The <b>contract-last </b>approach where you&nbsp; define the Java classes first and then generate the contract, which is the&nbsp; WSDL file from the Java classes.</li>
</ul>
<br />
<b>Note:</b> The WSDL describes all operations that the service provides, locations of the endpoints (i.e.e where the services can be invoked), and simple and complex elements that can be passed in requests and responses.


<br />
<br />
<b>Q.</b> What are the pros and cons of each approach, and which approach would you prefer?<br />
<br />
<b>A.</b><br />
<br />
<b>Contract-first Web service</b><br />
<br />
<br />
<b>PROS:</b><br />
<br />
<ul>
<li>Clients are decoupled from the server, hence the implementation logic can be revised on the server without affecting the clients.</li>
<li>Developers can work simultaneously on client and server side based on the contract both agreed on.</li>
<li>You have full control over how the request and response messages are constructed -- for example, should "status" go as an element or as an attribute? The contract clearly defines it. You can change OXM (i.e. Object to XML Mapping) libraries without having to worry if the "status" would be generated as "attribute" instead of an element. Potentially, even Web service frameworks and tool kits can be changed as well from say Apache Axis to Apache CXF, etc </li>
</ul>
&nbsp; <br />
<b>CONS:</b><br />
<br />
<ul>
<li>More upfront work is involved in setting up the XSDs and WSDLs. There are tools like XML Spy, Oxygen XML, etc to make things easier. The object models need to be written as well.<br />
&nbsp;</li>
<li>Developers need to learn XSDs and WSDLs in addition to just knowing Java.</li>
</ul>
<br />
&nbsp; <br />
<b>Contract-last Web service</b><br />
&nbsp; <br />
<b>PROS:</b><br />
<ul>
<li>Developers don't have to learn anything related to XSDs, WSDLs, and SOAP. The services are created quickly by exposing the existing service logic with frameworks/tool sets. For example, via IDE based wizards, etc.<br />
&nbsp;&nbsp;</li>
<li>The learning curve and development time can be smaller compared to the Contract-first Web service. </li>
</ul>
&nbsp; <br />
<b>CONS: </b><br />
<ul>
<li>&nbsp;The development time can be shorter to initially develop it, but what about the on going maintenance and extension time if the contract changes or new elements need to be added? In this approach, since the clients and servers are more tightly coupled, the future changes may break the client contract and affect all clients or require the services to be properly versioned and managed.</li>
<li>&nbsp;In this approach, The XML payloads cannot be controlled. This means changing your OXM libraries could cause something that used to be an element to become an attribute with the change of the OXM.</li>
</ul>
<br />
<br />
<b>So, which approach will you choose?</b><br />
<br />
The best practice is to use "<b>contract-first</b>", and here is the link that explains this much better with examples --&gt;&nbsp; <a href="http://static.springsource.org/spring-ws/site/reference/pdf/spring-ws-reference.pdf" target="_blank">contract-first versus contract-last web services</a> In a nutshell, the contract-last is more fragile than the "contract-first".&nbsp; You will have to decide what is most appropriate based on your requirements, tool sets you use, etc.<br />
&nbsp; <br />


<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Center - Leader board -->
<br />
<ins class="adsbygoogle" data-ad-client="ca-pub-3764234023451771" data-ad-slot="5678244596" style="display: inline-block; height: 90px; width: 728px;"></ins><script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


<br />
<br />
<b>Note</b>: More Java Web Services interview questions and answers including WSDL, SOAP, UDDI, JAXR, SAAJ, etc are covered in Java/J2EE Job Interview Companion with diagrams.<br />
<br />
<br />
<div style="color: #134f5c;">
<b><span style="font-size: large;">More Web services Interview Questions and Answers</span></b></div>
<br />
<a href="http://java-success.blogspot.com/2012/02/web-services-interview-questions-and.html">Java Web Services Interview Questions and Answers: RESTful Web services</a><br />
<a href="http://java-success.blogspot.com/2012/02/java-web-services-interview-questions_20.html">Java Web Services Interview Questions and Answers: SOAP clients </a><br />
<a href="http://java-success.blogspot.com/2012/11/soap-versus-restful-web-service.html">SOAP versus RESTful Web service -- comparison</a><br />
<a href="http://java-success.blogspot.com/2013/04/restful-web-service-uri-conventions.html">RESTFul Web Service URI conventions with Spring MVC examples</a></ul><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Web%20services">Web services</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2012/02/java-web-services-interview-questions.html" title="permanent link"> 2/10/2012 12:31:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2012/02/java-web-services-interview-questions.html#comment-form"location.href=http://java-success.blogspot.com/2012/02/java-web-services-interview-questions.html#comment-form;><span style="text-transform:lowercase">47 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=7502934090775494730" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=7502934090775494730&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Feb 8, 2012</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="786295901856460825"></a>
    
         
    


    <h3 class="post-title">
	 
	 Hibernate Interview Questions and Answers: integration testing the DAO layer
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>Before this, please refer to&nbsp;<a href="http://java-success.blogspot.com.au/2012/01/hibernate-interview-q-with-annotations.html" target="_blank">Hibernate Interview Questions and Answers: with annotations and Spring framework</a> , as the examples below are extension of this blog. <b><br />
</b><br />
<br />
<b>Q. </b>How would you go about integration testing your DAO (i.e. Data Access Objects) layer or your Hibernate Repository classes?<br />
<b>A.</b> It is a bit tricky to write integration tests because any changes to the underlying data can make your tests to fail. For example, addition of new records, modification to existing data , etc. The key is to keep the data as static as possible. There are two possible strategies. <br />
<br />
<br />
<b>1.</b> Use a separate in memory database like <b>HSQL </b>(i.e. Hyper Structured Query Language) Database. The data can be stored in flat text files -- say in pipe delimited format and loaded into the in memory database during test set up phase, and deleted during the test tear down phase.<br />
<br />
<b>2.</b> The second alternative is to use a framework like DBUnit to extract the relevant data from a given database and convert it into XML based data sets that can be inserted into your test database during the test setUp phase and deleted in the test tear-down phase. The <b>DBUnit </b>takes care of the data extraction and data load.<br />
<br />
Both the above approaches maintain static data in either xml or text based flat files and load the data during the test setup.<br />
<br />
<b>Q. </b>How would you go about using an in memory database like HSQL DB?<br />
<b>A. </b>It involves the following steps.<br />
<br />
<ul><li>Define the data in flat files. Say in pipe delimited format.</li>
<li>Write the parser classes to read the data and convert them into SQL insert statements to be loaded into the HSQL DB. This is known as ETL (i.e. Extract Transform Load) operation. </li>
<li>Override the default hibernate datasource proprties with the HSQL DB related configuration.</li>
<li>Wire up the datasource override file via override-daoContext.xml, which uses the HSQL DB, and overrides the hibernate proprties from the file daoContext.xml.</li>
<li>Write a mock HSQL DB JNDI bootstrap class and wire it up using a Spring context file (e.g. hsqlBootstrapContext.xml).</li>
<li>Write a database populator class that makes use of a number of parser classes to populate the database. Also, wire this up via a Spring context file (e.g. databasePopulatorContext.xml)</li>
<li>Finally, the test class that bootstraps all the relevant classes via the Spring context files using dependency injection.</li>
</ul><br />
<br />
Define the data in a flat file say<b> employeeSearch.txt</b><br />
<br />
<pre class="brush: csharp">#employee_id, emp_code, manager_code, type, base_salary
A342|XSMITH|A456|IM|Permanent|43,500.00
A342|YSMITH|A678|IM|Contract|57,700.00 

</pre><br />
<br />
<br />
Define the parser that loads the data by reading from the above flat file. For e.g.<b> EmployeeParser.java</b>. This class can be further improved by moving out the methods that will be shared by other parsers to a parent class or a helper class.<br />
<br />
<br />
<pre class="brush: csharp">package com.myapp.database;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

import org.hibernate.HibernateException;
import org.hibernate.Query;
import org.hibernate.Session;

public class EmployeeParser {

 private static final String DROP_SQL = "drop table tbl_employee";
    private static final String CREATE_SQL =
            "create table tbl_employee(employee_id varchar(12), emp_code varchar(12), " + 
            "manager_code  varchar(12), type  varchar(12), base_salary decimal";


    private static final String INSERT_SQL =
            "insert into tbl_employee (employee_id, emp_code, manager_code, type, base_salary) values (";

   
    public void parseEmployee(Session session) throws ParserException, IOException {
        createDatabaseTable(session);
        BufferedReader file = findFile(getFileName());
        String[] data = readLine(file);
        while (data != null) {
            Query query =
                    session.createSQLQuery(INSERT_SQL + "'" + data[0] + "','" + data[1] + "','"
                            + data[2] + "'," + data[3] +  "','" + data[4] + ")");
            query.executeUpdate();
            data = readLine(file); // read next line from the file
        }
    }
    
    
    protected String[] readLine(BufferedReader file) throws IOException {
     String[] data = null;
        String line = file.readLine();
        while (line != null &amp;&amp; line.startsWith("#")) {
            line = file.readLine();
        }
        if (line != null) {
         data =  line.split("\\|"); //split by "|" 
        }
        return data;
    }


    private void createDatabaseTable(Session session) {
        Query query = session.createSQLQuery(DROP_SQL);
        try {
            query.executeUpdate();
        } catch (HibernateException e) {
        }
        query =  session.createSQLQuery(CREATE_SQL);
        query.executeUpdate();
    }
    
    protected BufferedReader findFile(String fileName) {
        final InputStreamReader file =
                new InputStreamReader(getClass().getClassLoader().getResourceAsStream(fileName));
        BufferedReader stream = new BufferedReader(file);
        return stream;
    }

  

    public String getFileName() {
        return "employeeSearch.txt";
    }

}
 
</pre><br />
Define an override spring context file to override the actual datasource properies. For example, the actual database could be Sybase or Oracle. The <b>override-daoContext.xml </b>is shown below.<br />
<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
 xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context-2.5.xsd"
 default-autowire="byName"&gt;

    &lt;bean id="hibernateProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean"&gt;
        &lt;property name="properties"&gt;
            &lt;props&gt;
                &lt;prop key="hibernate.dialect"&gt;org.hibernate.dialect.HSQLDialect&lt;/prop&gt;
                &lt;prop key="hibernate.generate_statistics"&gt;true&lt;/prop&gt;
                &lt;prop key="hibernate.hbm2ddl.auto"&gt;create-drop&lt;/prop&gt;
                &lt;prop key="hibernate.jdbc.batch_size"&gt;1000&lt;/prop&gt;
                &lt;prop key="hibernate.show_sql"&gt;true&lt;/prop&gt;
                &lt;prop key="hibernate.use_sql_comments"&gt;true&lt;/prop&gt;
                &lt;prop key="hibernate.cache.use_query_cache"&gt;false&lt;/prop&gt;
                &lt;prop key="hibernate.cache.use_second_level_cache"&gt;false&lt;/prop&gt;
                &lt;prop key="hibernate.query.factory_class"&gt;org.hibernate.hql.classic.ClassicQueryTranslatorFactory&lt;/prop&gt;
            &lt;/props&gt;
        &lt;/property&gt;
        &lt;property name="location"&gt;
            &lt;value&gt;classpath:/hibernate.properties&lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;


&lt;/beans&gt;

</pre><br />
<br />
Write a JNDI based bootstrapper class <b>HsqlDevBootstrapper.java</b> that emulates JNDI boot strapping for your test classes. This is achieved via the Spring mock class SimpleNamingContextBuilder.<br />
<br />
<pre class="brush: csharp">package com.myapp.test.db;
 
import javax.naming.NamingException;
 
import org.springframework.beans.factory.BeanCreationException;
import org.springframework.jdbc.datasource.DriverManagerDataSource;
import org.springframework.mock.jndi.SimpleNamingContextBuilder;
 
/**
 * helper class to bootstrap the sybase database datasources
 */
public class HsqlDevBootstrapper  {
     
 public static final String JNDI_BINDING_DB = "java:comp/env/jdbc/dataSource/mydb";
    public static final String DRIVER_CLASS = "org.hsqldb.jdbcDriver";
 
 private SimpleNamingContextBuilder builder;  //Spring JNDI mock class
 
 /**
  * setup HSQL DB, and bind it to jndi tree
  */
 public void start() {
        try {
            builder = SimpleNamingContextBuilder.emptyActivatedContextBuilder();
 
            DriverManagerDataSource ds = new DriverManagerDataSource();
            ds.setDriverClassName(DRIVER_CLASS);
            ds.setUrl("jdbc:hsqldb:mem:my_db"); //in memory HSQL DB URL
            ds.setUsername("user");
            ds.setPassword("pwd");
            builder.bind(JNDI_BINDING_DB, ds);
             
             
        } catch (NamingException e) {
            throw new BeanCreationException(e.getExplanation());
        }
    }
  
 public void stop() {
    builder.deactivate();
    builder.clear();
 }
 
}

</pre><br />
Wire up the JNDI bootstrap class via Spring the config file hsqlBootstrapContext.xml.<br />
<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
 xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context-2.5.xsd"
 default-autowire="byName"&gt;

 &lt;bean id="hsqlBootstrapper" class="com.myapp.test.db.HsqlBootstrapper" init-method="start" destroy-method="stop"/&gt;

&lt;/beans&gt;

</pre><br />
<br />
Define a <b>DatabasePopulator.java</b> class that populates all the relevant (i.e. associated) database tables incling tbl_employee.<br />
<br />
<pre class="brush: csharp">package com.myapp.database;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.sql.SQLException;
import java.text.ParseException;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.hibernate.HibernateException;
import org.hibernate.Query;
import org.hibernate.Session;
import org.hibernate.Transaction;
import org.springframework.orm.hibernate3.HibernateTemplate;


public class DatabasePopulator {

    private final HibernateTemplate daoTemplate;

   

    public DatabasePopulator(HibernateTemplate daoTemplate) throws Exception {
        this.daoTemplate = daoTemplate;
        try {
            createDB();
        } catch (Exception e) {
            throw e;
        }
    }

 /**
   * This is where all the loading happens
   */
    public void createDB() throws HibernateException, SQLException, IOException {
        Session session = daoTemplate.getSessionFactory().openSession();
  
  Transaction tran = session.beginTransaction();
  
  //make use of the parser to read the data from a file and load it (i.e. ETL operation - Extract, Transaform, and Load)
        EmployeeParser empParser = new EmployeeParser();
  empParser.parseEmployee(session);
        
  //load other relevant data
  
        session.flush();
        tran.commit();   
    }
 
}

</pre><br />
Wire the DatabasePopulator via Spring config file <b>databasePopulatorContext.xml</b>.<br />
<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
 xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context-2.5.xsd"
 default-autowire="byName"&gt;

    &lt;bean name="databasePopulator" class="com.myapp.database.DatabasePopulator"&gt;
        &lt;constructor-arg ref="daoTemplate" /&gt;
    &lt;/bean&gt;
 
&lt;/beans&gt;

</pre><br />
Finally the test class. Some of the missing Spring context files and classes were defined in a different blog entry mentioned at the beginning of this blog. The context files need to be loaded in the right order.<br />
<br />
<br />
<pre class="brush: csharp">package com.myapp.repository;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;

import java.util.ArrayList;
import java.util.List;

import javax.annotation.Resource;

import org.joda.time.DateTime;
import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.TestExecutionListeners;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.context.support.DependencyInjectionTestExecutionListener;



@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations={
  "classpath:hsqlBootstrapContext.xml",
  "classpath:transactionContext.xml",
  "classpath:daoContext.xml",
        "classpath:override-daoContext.xml",
        "classpath:databasePopulatorContext.xml"
})
@TestExecutionListeners(value = { 
  DependencyInjectionTestExecutionListener.class,
  SessionBindingHibernateListener.class
})

public class EmployeeRepositoryTest {

 @Resource
 EmployeeTableRepository  tableRepository;
    
    @Test
    public void testLoadEmployee() {
 
     Assert.assertTrue(tableRepository != null);
        Emplyee employee = null; 
        try {
            employee = tableRepository.loadEmployee("A342");
        } catch (RepositoryException e) {
            fail("Load employee threw an exception " + e);
        }
  
  assertTrue(employee != null);
        assertEquals(employee.getType(), "Permanent");
  //...more assertions
       
    }
 
 
 //....test other repository methods like saveEmployee, etc.
}


</pre><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Hibernate">Hibernate</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2012/02/hibernate-interview-questions-and.html" title="permanent link"> 2/08/2012 11:25:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2012/02/hibernate-interview-questions-and.html#comment-form"location.href=http://java-success.blogspot.com/2012/02/hibernate-interview-questions-and.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2012/02/hibernate-interview-questions-and.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=786295901856460825" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=786295901856460825&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Feb 6, 2012</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="529392984664280841"></a>
    
         
    


    <h3 class="post-title">
	 
	 Spring and Hibernate Interview Questions and Answers: AOP, interceptors, and deadlock retry
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>Before this, please refer to <a href="http://java-success.blogspot.com.au/2012/01/hibernate-interview-q-with-annotations.html" target="_blank">Hibernate Interview Questions and Answers: with annotations and Spring framework </a>&nbsp;, as the examples below are extension of this blog.<br />
<br />
<b>Q.</b> How would you go about implementing a dead lock retry service using Spring and hibernate?<br />
<b>A.</b><br />
<ul>
<li>Define an annotation to annotate the methods that needs deadlock retry service. E.g. DeadlockRetry.java</li>
<li>Define the interceptor that gets wired up via AOP to perform the retry functionality by invoking the annotated method. E.g. DeadlockRetryMethodInterceptor</li>
<li>Wire up the annotation and deadlock retry classes via Spring config. E.g. transactionContext.xml</li>
<li>Finally, annotate the method that needs perform the retry service. E.g. EmployeeServiceImpl --&gt; saveEmployee (....)</li>
</ul>
<br />
Define a custom annotation class <b> DeadlockRetry</b>.java.<br />
<!-- INFOLINKS_OFF -->

<br />
<pre class="brush: csharp">package com.myapp.deadlock;

import java.lang.annotation.ElementType;
import java.lang.annotation.Inherited;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
@Inherited
public @interface DeadlockRetry {

    int maxTries() default 21;
    int tryIntervalMillis() default 100;
    
}

</pre>
<br />
Define the <b>DeadlockRetryMethodInterceptor </b>for performing retries. The above annotation will be bound to the following implementation via Spring.<br />
<br />
<pre class="brush: csharp">package com.myapp.deadlock;

import java.lang.reflect.Method;

import org.aopalliance.intercept.MethodInterceptor;
import org.aopalliance.intercept.MethodInvocation;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.hibernate.exception.LockAcquisitionException;
import org.springframework.dao.DeadlockLoserDataAccessException;


public class DeadlockRetryMethodInterceptor implements MethodInterceptor {

    private static final Logger LOGGER = LoggerFactory.getLogger(DeadlockRetryMethodInterceptor.class);
        
    @Override
    public Object invoke(MethodInvocation invocation) throws Throwable {
        Object obj = invocation.getThis();
        Method method = invocation.getMethod();
        Method targetMethod = obj.getClass().getMethod(method.getName(), method.getParameterTypes());
        DeadlockRetry dlRetryAnnotation = targetMethod.getAnnotation(DeadlockRetry.class);
        int maxTries = dlRetryAnnotation.maxTries();
        int tryIntervalMillis = dlRetryAnnotation.tryIntervalMillis();
        for (int i = 0; i &lt; maxTries; i++) {
            try {
                LOGGER.info("Attempting to invoke " + invocation.getMethod().getName());
                Object result = invocation.proceed();    // retry
                LOGGER.info("Completed invocation of " + invocation.getMethod().getName());
                return result;
            } catch (Throwable e) {
                Throwable cause = e;
    
      //... put the logic to identify DeadlockLoserDataAccessException or LockAcquisitionException
      //...in the cause. If the execption is not due to deadlock, throw an exception 
    
            if (tryIntervalMillis &gt; 0) {
              try {
                  Thread.sleep(tryIntervalMillis);
              } catch (InterruptedException ie) { 
                LOGGER.warn("Deadlock retry thread interrupted", ie);
              }
            }
    
        }
  
        //gets here only when all attempts have failed
        throw new RuntimeException
            ("DeadlockRetryMethodInterceptor failed to successfully execute target " 
                    + " due to deadlock in all retry attempts", 
              new DeadlockLoserDataAccessException("Created by DeadlockRetryMethodInterceptor", null));
    }    
}


</pre>
Wire up the annotation and the interceptor via Spring config transactionContext.xml. Only the snippet is shown.<br />
<br />
<pre class="brush: csharp">&lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
    &lt;!-- Deadlock Retry AOP             --&gt;
    &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
    &lt;bean id="deadlockRetryPointcut" class="org.springframework.aop.support.annotation.AnnotationMatchingPointcut"&gt;
            &lt;constructor-arg&gt;&lt;null/&gt;&lt;/constructor-arg&gt;
            &lt;constructor-arg value="com.myapp.deadlock.DeadlockRetry" /&gt;
    &lt;/bean&gt;
 
    &lt;bean id="deadlockRetryMethodInterceptor" class="com.myapp.deadlock.DeadlockRetryMethodInterceptor" /&gt;
 
    &lt;bean id="deadlockRetryPointcutAdvisor"
        class="org.springframework.aop.support.DefaultPointcutAdvisor"&gt;
            &lt;constructor-arg ref="deadlockRetryPointcut" /&gt;
            &lt;constructor-arg ref="deadlockRetryMethodInterceptor" /&gt;        
    &lt;/bean&gt;

 
</pre>
Finally, annotate the method that needs to be retried in the event of dead lock issues.<br />
<br />
<pre class="brush: csharp">package com.myapp.service;


import org.springframework.transaction.PlatformTransactionManager;
import org.springframework.transaction.TransactionDefinition;
import org.springframework.transaction.TransactionStatus;
import org.springframework.transaction.support.DefaultTransactionDefinition;
//....other imports

public class EmployeeServiceImpl implements EmployeeService {
    
    private final EmployeeTableRepository employeeRepository;
    private PlatformTransactionManager transactionManager;
   
    public EmployeeServiceImpl(EmployeeTableRepository employeeRepository, PlatformTransactionManager transactionManager) {
        this.employeeRepository = employeeRepository;
        this.transactionManager = transactionManager;
    }


    @DeadlockRetry
    public Employee saveEmployee(Employeee employee) throws RepositoryException {
        TransactionStatus transactionStatus =
                transactionManager.getTransaction(new DefaultTransactionDefinition(
                        TransactionDefinition.PROPAGATION_REQUIRED));
        try {
            employee = this.employeeRepository.saveEmployee(employee);
        } catch (Exception e) {
            transactionManager.rollback(transactionStatus);
            throw new RepositoryException(e);
        } finally {
            if (!transactionStatus.isCompleted()) {
                transactionManager.commit(transactionStatus);
            }
        }
        return employee;
    }
 
 
 //....other methods omitted for brevity

}&nbsp;</pre>
<br />
The above example gives a real life example using a <b>custom annotation </b>and <b>AOP </b>(i.e. Aspect Oriented Programming).<br />
<br />
<b>Note: </b>Also refer to <a href="http://java-success.blogspot.com.au/2011/11/spring-interview-questions-and-answers_30.html" target="_blank">Spring Interview Questions and Answers for explanation on interceptors.</a><br />
<br />
<b>Q.</b> What are the pros and cons between <b>Spring AOP</b> and <b>AspectJ AOP</b>?<br />
<b>A. </b>The Spring AOP is simpler as it is achieved via a<u> runtime dynamic proxy </u>class. Unlike <i>AspectJ,&nbsp;</i>it does not have to go through<u> load time weaving or a compiler</u>. The Spring AOP uses the proxy and decorator design patterns.<br />
<br />
Since Spring AOP uses proxy based AOP, it can only offer method execution pointcut, whereas the AspectJ &nbsp;AOP supports all pointcuts.<br />
<br />
In some cases, the compile time weaving (e.g. AspectJ AOP) offers better performance.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Hibernate">Hibernate</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring">Spring</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2012/02/spring-and-hibernate-interview.html" title="permanent link"> 2/06/2012 04:53:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2012/02/spring-and-hibernate-interview.html#comment-form"location.href=http://java-success.blogspot.com/2012/02/spring-and-hibernate-interview.html#comment-form;><span style="text-transform:lowercase">3 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=529392984664280841" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=529392984664280841&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Feb 1, 2012</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="7062161203125898355"></a>
    
         
    


    <h3 class="post-title">
	 
	 Hibernate Interview Questions and Answers: with annotations and Spring framework
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><h2>
Spring Interview Questions and Answers  Q1 - Q14 are FAQs</h2>
<table bgcolor="#FFFFCC" border="2" cell-padding="10px" style="width: 100%;">
<tbody>
<tr>
<td><a href="http://java-success.blogspot.com/2011/10/spring-interview-questions-and-answers.html"> <span style="font-size: normal;">Q1 - Q4 Overview &amp; DIP</span></a> </td>
<td><a href="http://java-success.blogspot.com/2011/11/spring-interview-questions-and-answers.html"> <span style="font-size: normal;">Q5 - Q8 DI &amp; IoC</span></a> </td>
<td><a href="http://java-success.blogspot.com.au/2014/02/understanding-spring-scopes-singleton.html"> <span style="font-size: normal;">Q9 - Q10 Bean Scopes</span></a> </td>
<td><a href="http://java-success.blogspot.com/2014/06/spring-architecture-and-understanding.html"> <span style="font-size: normal;">Q11 Packages</span></a> </td>
<td><a href="http://java-success.blogspot.com.au/2014/05/understanding-openclosed-principle-ocp.html"> <span style="font-size: normal;">Q12 Principle OCP</span></a> </td>
<td colspan="2"><a href="http://java-success.blogspot.com/2014/06/java-aop-with-aopalliance-method.html"> <span style="font-size: normal;">Q14 AOP and interceptors</span></a> </td>
</tr>
<tr>
<td><a href="http://java-success.blogspot.com/2011/11/spring-interview-questions-and-answers_30.html"> <span style="font-size: normal;">Q15 - Q16 Hibernate &amp; Transaction Manager</span></a> </td>
<td><a href="http://java-success.blogspot.com/2012/01/hibernate-interview-q-with-annotations.html"> <span style="font-size: normal;">Q17 - Q20 Hibernate &amp; JNDI</span></a> </td>
<td><a href="http://java-success.blogspot.com/2011/11/spring-interview-questions-and-answers_29.html"> <span style="font-size: normal;">Q21 - Q22 read properties</span></a> </td>
<td><a href="http://java-success.blogspot.com/2011/12/spring-interview-questions-and-answers.html"> <span style="font-size: normal;">Q23 - Q24 JMS &amp; JNDI</span></a> </td>
<td><a href="http://java-success.blogspot.com/2013/02/spring-jdbc-template-examples-calling.html"> <span style="font-size: normal;">Q25 JDBC</span></a> </td>
<td><a href="http://java-success.blogspot.com/2012/11/jsonp-and-jquery-with-spring-mvc.html"> <span style="font-size: normal;">Q26 Spring MVC</span></a> </td>
<td><a href="http://java-success.blogspot.com/2013/03/spring-mvc-view-resolvers.html"> <span style="font-size: normal;">Q27 - Spring MVC Resolvers</span></a> </td>
</tr>
</tbody></table>
<br />
<table>
<tbody>
<tr>
<td width="25%"><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* LHS - vertical bar */
google_ad_slot = "9570018680";
google_ad_width = 160;
google_ad_height = 600;
google_ad_channel ="9570018680";
google_page_url = "http://java-success.blogspot.com.au/2012/06/core-java-coding-questions-frequently.html";
//-->
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
</td>

<td width="75%">This is more like a Hibernate and Spring tutorial. Takes you through the key steps with code snippets. Also, very handy to refresh your memory prior to your job interviews.

<br />
<br />
<b>Q17.</b> What are the general steps involved in creating Hibernate related class? <br />
<b>A17.</b> The general steps involved in creating Hibernate related classes involve the following steps<br />
<br />
<ul>
<li>Define the domain (aka entity) objects like Employee, Address, etc to represent relevant tables in the underlying database with the appropriate annotations or using the *.hbm.xml mapping files.</li>
<li>Define the <i>Repository&nbsp; </i>(aka DAO -- <u>D</u>ata <u>A</u>ccess <u>O</u>bjects)<i> </i>interfaces and implementations classes that use the domain objects and the hibernate session to perform data base CRUD (Create, Read, Update and Delete) operations the hibernate way.</li>
<li>Define the service interfaces and the classes that make use of one or more repositories (aka DAOs) in a transactional context.A transaction manager will be used to coordinate transactions (i.e. commit or rollback) between&nbsp; a number of repositories.</li>
<li>Finally, use an IoC container like Spring framework to wire up the Hibernate classes like <i>SessionFactory</i>, Session, transaction manager, etc and the user defined repositories, and the service classes. A number of interceptors can be wired up as well for deadlock retry, logging, auditing, etc using Spring.</li>
</ul>
For more detail, refer to <a href="http://java-success.blogspot.com.au/2011/11/spring-interview-questions-and-answers_30.html" target="_blank">Spring and Hibernate integration Interview questions and answers</a>
</td>
</tr>
</tbody></table>
<b>Q18.</b> How would you define a hibernate domain object with table mappings, native named queries, and custom data conversion using annotations?<br />
<b>A18.</b><br />
<br />
Firstly, define a parent domain object class for any common method implementations.<br />
<br />
<br />
<pre class="brush: csharp">package com.myapp.domain.model;

public class MyAppDomainObject {
    
 //for example
    protected boolean isPropertyEqual(Object comparee, Object compareToo) {
        if (comparee == null) {
            if (compareToo != null) {
                return false;
            }
        } else if (!comparee.equals(compareToo)) {
            return false;
        }
        return true;
    }

}

</pre>
<br />
Now, extend the common DomainObject for specific DomainObject classes.<br />
<br />
<br />
<pre class="brush: csharp">package com.myapp.domain.model;

@Entity
@org.hibernate.annotations.Entity(selectBeforeUpdate = true)
@Table(name = "tbl_employee")
@TypeDefs(value = { @TypeDef(name = "dec", typeClass = DecimalUserType.class)})  // custom data type conversion

@NamedNativeQueries({
    @NamedNativeQuery(name = "HighSalary", query = "select * from tbl_employee where salary &gt; :median_salary " , resultClass = Employee.class),
 @NamedNativeQuery(name = "LowSalary", query = "select * from tbl_employee where salary &lt; :median_salary " ,  resultClass = Employee.class)
})

public class Employee extends MyAppDomainObject implements Serializable {
    
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name = "employee_id")
    private Long id;
 
    @Column(name = "emp_code")
    private String accountCode;

    @Column(name = "manager_code")
    private String adviserCode;

 
 
    @Column(name = "type")
    @Enumerated(EnumType.STRING)
    private EmployeeType type = EmployeeType.PERMANENT;
 

    @Type(type = "dec")
    @Column(name = "base_salary")
    private Decimal salary = Decimal.ZERO;
 
    @Transient
    private Decimal salaryWithBonus; //not persisted to database
 
    @Formula("base_salary*2")
    private Decimal doubleSalary;   //derived or calculated read only property
 
    @Formula("(select base_salary where type = 'Permanent' )")
    private Decimal permanantLeaveLoading;   //derived or calculated read only property
 
 
    @OneToOne(cascade = { CascadeType.REFRESH })
    @JoinColumn(name = "emp_code", insertable = false, updatable = false)
    private EmployeeExtrInfo extraInfo;

    @ManyToOne(cascade = { CascadeType.REFRESH })
    @JoinColumn(name = "manager_code", insertable = false, updatable = false)
    private Manager manager;

    @OneToMany(cascade = { ALL, MERGE, PERSIST, REFRESH }, fetch = FetchType.LAZY)
    @JoinColumn(name = "emp_code", nullable = false)
    @Cascade({ org.hibernate.annotations.CascadeType.SAVE_UPDATE, org.hibernate.annotations.CascadeType.DELETE_ORPHAN })
    private List&lt;PaymentDetail&gt; paymentDetails = new ArrayList&lt;PaymentDetail&gt;();

 //getters and setters omitted for brevity
 
}

</pre>
The dependency classes like EmployeeExtrInfo, Manager, and PaymentDetail will be mapped in a similar manner as the Employee class. The EmployeeType enum class is shown below. Also note the verys usefull annotations like @NamedNativeQueries, @TypeDefs, and @Formula. The @Formula marks a property as derived, or calculated, read-only property, where its value is calculated at fetch time using SQL expressions.  <br />
<br />
<pre class="brush: csharp">package com.myapp.domain.model;


public enum EmployeeType {
    
    PERMANENT("Permanent"),
    CONTRACTOR("Contractor"),
    CASUAL("Casual");
    
    private String type;
    
    private EmployeeType (String type) {
        this.type = type;
    }
    
    public String getType() {
        return this.type;
    }
}


</pre>
The "dec" is a custom data type, you need to define the custom data type class. The "salary" attribute will be making use of this special data type. This is ust a trivial example, but more powerful custom  type conversion classes can be created.<br />
<br />
<pre class="brush: csharp">package com.myapp.domain.model;

import java.io.Serializable;
import java.math.BigDecimal;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Types;
import java.util.Properties;

import org.hibernate.usertype.ParameterizedType;
import org.hibernate.usertype.UserType;

public class DecimalUserType implements UserType, ParameterizedType {
    public static final int PRECISION = 28;
    public static final int SCALE = 15;

    public int[] sqlTypes() {
        return new int[]{Types.DECIMAL};
    }

    public Class&lt;Decimal&gt; returnedClass() {
        return BigDecimal.class;
    }

    public boolean equals(Object x, Object y) {
        if (x == y) {
            return true;
        }
        if (x == null || y == null) {
            return false;
        }
        return x.equals(y);
    }

    public int hashCode(Object x) {
        return 0;
    }

    public Object nullSafeGet(ResultSet rs, String[] names, Object owner) throws SQLException {
        BigDecimal forReading = rs.getBigDecimal(names[0]);

        if (forReading == null) {
            return null;
        }

        return forReading.setScale(2, RoundingMode.HALF_EVEN);   //round to 2 decimal places
    }


    public void nullSafeSet(PreparedStatement st, Object value, int index) throws SQLException {
        if (value == null) {
            st.setNull(index, Types.NUMERIC);
            return;
        }
  
  
        BigDecimal forSaving = (BigDecimal) value;
        st.setBigDecimal(index, forSaving.setScale(2, RoundingMode.HALF_EVEN));
    }

    public Object deepCopy(Object value) {
        return value;
    }

    public boolean isMutable() {
        return false;
    }

    public Serializable disassemble(Object value) {
        return null;
    }

    public Object assemble(Serializable cached, Object owner) {
        return null;
    }

    public Object replace(Object original, Object target, Object owner) {
        return original;
    }

    public void setParameterValues(Properties parameters) {
    }
}


</pre>
<br />
The named queries are also shown above with the @NamedNativeQueries and @NamedNativeQuery annotations. The parametrized values like :median_salary needs to be supplied via the Hibernate repository class that makes use of the Employee domain object.  Firstly define the interface.  <br />
<br />
<pre class="brush: csharp">package com.myapp.domain.repo;

import java.util.List;


public interface EmployeeTableRepository {

 Employee saveEmployee(Employee employee) throws RepositoryException ; 
 Employee loadEmployee(Long employeeId) throws RepositoryException ;
 List&lt;Employee&gt; findAllEmployeesWithHighSalary(BigDecimal medianSalary) throws RepositoryException;
 List&lt;Employee&gt; findAllEmployeesWithLowSalary(BigDecimal medianSalary) throws RepositoryException 

}



</pre>
Next the implementation of the above interface.<br />
<br />
<pre class="brush: csharp">package com.myapp.domain.repo;


@SuppressWarnings("unchecked")
public class EmployeeTableHibernateRepository extends HibernateDaoSupport implements EmployeeTableRepository {

    public EmployeeTableHibernateRepository (HibernateTemplate hibernateTemplate) {
        setHibernateTemplate(hibernateTemplate);
    }

 //The employee objects gets constructed and passed to repo via the Business Service layer
    public Employee saveEmployee(Employee employee) throws RepositoryException {
        Session session = getHibernateTemplate().getSessionFactory().getCurrentSession();
        session.saveOrUpdate(employee);
        session.flush();
        session.evict(employee);
        return this.loadEmployee(employee.getId());
    }
 
 public Employee loadEmployee(Long employeeId) throws RepositoryException {
        Session session = getHibernateTemplate().getSessionFactory().getCurrentSession();
        Criteria crit = session.createCriteria(Employee.class);
        crit.add(Restrictions.eq("id",employeeId));
        List&lt;Employee&gt; employees = crit.list();
        if (employees.size() == 1) {
            return employees.get(0);
        }
  
  //this is a custom exception class
        throw new RepositoryException("Found more than one or no employee with Id:" + employeeId);
    }
 
 
 public List&lt;Employee&gt; findAllEmployeesWithHighSalary(BigDecimal medianSalary) throws RepositoryException {
        Session session = getHibernateTemplate().getSessionFactory().getCurrentSession();
        Query query = session.getNamedQuery("HighSalary");    // query name defined in Employee class
        query.setBigDecimal(":median_salary", medianSalary);  // query parameter defined in Employee class 
        return (List&lt;Employee&gt;) query.list();
    }
 
 public List&lt;Employee&gt; findAllEmployeesWithLowSalary(BigDecimal medianSalary) throws RepositoryException {
        Session session = getHibernateTemplate().getSessionFactory().getCurrentSession();
        Query query = session.getNamedQuery("LowSalary");     // query name defined in Employee class
        query.setBigDecimal(":median_salary", medianSalary);  // query parameter defined in Employee class 
        return (List&lt;Employee&gt;) query.list();
    }

    
  //other methods can be defined here
}

</pre>
The Service classes shown below will be making use of the repository (or DAO) classes. The service class can use any number of the repository classes, and also responsible for cordinating the transaction as well with a TransactionManger. In the example below, we will be using the "<b>PlatformTransactionManager</b>" implementation provided by the Spring framework.  <br />
<pre class="brush: csharp">package com.myapp.service;

public interface EmployeeService {

   Employee saveEmployee(Employeee employee) throws RepositoryException;
   Employee loadEmployee(Long employeeId) throws RepositoryException;

}

</pre>
The implementation class is shown with the transaction manager. The employeeRepository and transactionManager are dependency injected   <br />
<pre class="brush: csharp">package com.myapp.service;


import org.springframework.transaction.PlatformTransactionManager;
import org.springframework.transaction.TransactionDefinition;
import org.springframework.transaction.TransactionStatus;
import org.springframework.transaction.support.DefaultTransactionDefinition;
//....other imports

public class EmployeeServiceImpl implements EmployeeService {

    
    private final EmployeeTableRepository employeeRepository;
 private PlatformTransactionManager transactionManager;
   
    public EmployeeServiceImpl (EmployeeTableRepository employeeRepository, PlatformTransactionManager transactionManager) {
        this.employeeRepository = employeeRepository;
  this.transactionManager = transactionManager;
    }


    public Employee saveEmployee(Employeee employee) throws RepositoryException {
        TransactionStatus transactionStatus =
                transactionManager.getTransaction(new DefaultTransactionDefinition(
                        TransactionDefinition.PROPAGATION_REQUIRED));
        try {
            employee = this.employeeRepository.saveEmployee(employee);
        } catch (Exception e) {
            transactionManager.rollback(transactionStatus);
            throw new RepositoryException(e);
        } finally {
            if (!transactionStatus.isCompleted()) {
                transactionManager.commit(transactionStatus);
            }
        }
        return employee;
    }
 
 public Employee loadEmployee(Long employeeId) throws RepositoryException {
        return this.employeeRepository.loadEmployee(employeeId);
    }
 
 
 //....other methods

}

</pre>
<br />
<br />
<br />
<b>Q19.</b> How will you wire up the code snippet discussed above using Spring?<br />
<b>A19. </b>The following 3 Spring configuration files are used for wiring up the classes defined above.<b></b><br />
<b><br />
</b><br />
<ul>
<li>The <b>daoContext.xml </b>file to define the hibernate session factory, jndi data source, hibernate properties, and the user defined domain class and the repository.</li>
<li>The<b> transactionContext.xml </b>file to define the transaction manager.</li>
<li>The <b>servicesContext.xml </b>to define the custom services class</li>
</ul>
<br />
<br />
Firstly the <b>daoContext.xml </b>file:<br />
<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
 xmlns:tx="http://www.springframework.org/schema/tx"
 xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
   http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd"&gt;

 &lt;bean id="dataSourceMyDB" class="org.springframework.jndi.JndiObjectFactoryBean" scope="singleton"&gt;
  &lt;property name="jndiName"&gt;
   &lt;value&gt;java:comp/env/jdbc/dataSource/mydb&lt;/value&gt;
  &lt;/property&gt;
 &lt;/bean&gt;

 &lt;bean id="hibernateProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean"&gt;
  &lt;property name="properties"&gt;
   &lt;props&gt;
    &lt;prop key="hibernate.dialect"&gt;org.hibernate.dialect.SybaseDialect&lt;/prop&gt;
    &lt;prop key="hibernate.generate_statistics"&gt;false&lt;/prop&gt;
    &lt;prop key="hibernate.hbm2ddl.auto"&gt;verify&lt;/prop&gt;
    &lt;prop key="hibernate.jdbc.batch_size"&gt;50&lt;/prop&gt;
    &lt;prop key="hibernate.show_sql"&gt;false&lt;/prop&gt;
    &lt;prop key="hibernate.format_sql"&gt;false&lt;/prop&gt;
    &lt;prop key="hibernate.cache.use_query_cache"&gt;false&lt;/prop&gt;
    &lt;prop key="hibernate.cache.use_second_level_cache"&gt;false&lt;/prop&gt;
    &lt;prop key="hibernate.query.factory_class"&gt;org.hibernate.hql.classic.ClassicQueryTranslatorFactory&lt;/prop&gt;
   &lt;/props&gt;
  &lt;/property&gt;
  &lt;property name="location"&gt;
   &lt;value&gt;classpath:/hibernate.properties&lt;/value&gt;
  &lt;/property&gt;
 &lt;/bean&gt;
 
    &lt;bean id="hibernateAnnotatedClasses" class="org.springframework.beans.factory.config.ListFactoryBean"&gt;
        &lt;property name="sourceList"&gt;
            &lt;list&gt;
                &lt;value&gt;com.myapp.domain.model.Employee&lt;/value&gt;
            &lt;/list&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

 &lt;bean id="hibernateSessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean"&gt;
  &lt;property name="dataSource" ref="dataSourceShadow" /&gt;
  &lt;property name="hibernateProperties"&gt;
   &lt;ref local="hibernateProperties" /&gt;
  &lt;/property&gt;
  &lt;property name="entityInterceptor"&gt;
        &lt;/property&gt;
  &lt;property name="annotatedClasses"&gt;
      &lt;ref local="hibernateAnnotatedClasses" /&gt;
  &lt;/property&gt;
  &lt;property name="annotatedPackages"&gt;
   &lt;list&gt;&lt;/list&gt;
  &lt;/property&gt;
 &lt;/bean&gt;
 
 &lt;bean id="daoTemplate" class="org.springframework.orm.hibernate3.HibernateTemplate"&gt;
  &lt;constructor-arg index="0" ref="sessionFactory" /&gt;
  &lt;constructor-arg index="1" value="true" /&gt;
 &lt;/bean&gt;

 &lt;!-- Repository beans --&gt;
 &lt;bean id="employeeTableRepository" class="com.myapp.domain.repo.EmployeeTableHibernateRepository"&gt;
  &lt;constructor-arg ref="daoTemplate" /&gt;
 &lt;/bean&gt;
 
&lt;/beans&gt;

</pre>
<br />
<br />
The <b>transactionContext.xml </b><br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd"&gt;

    &lt;!-- Transaction manager for a single Hibernate SessionFactory (alternative to JTA) --&gt;
    
    &lt;alias name="hibernateSessionFactory" alias="sessionFactory"/&gt;
       
    &lt;bean id="transactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager"&gt;
        &lt;property name="sessionFactory" ref="sessionFactory" /&gt;
    &lt;/bean&gt;
    &lt;bean id="advisorAutoProxy" class="org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator" /&gt;
    &lt;bean id="transactionAttrSource" class="org.springframework.transaction.interceptor.TransactionAttributeSourceAdvisor"&gt;
        &lt;property name="transactionInterceptor" ref="transactionInterceptor" /&gt;
    &lt;/bean&gt;
    &lt;bean id="transactionInterceptor" class="org.springframework.transaction.interceptor.TransactionInterceptor"&gt;
        &lt;property name="transactionManager" ref="transactionManager" /&gt;
        &lt;property name="transactionAttributeSource"&gt;
            &lt;bean class="org.springframework.transaction.annotation.AnnotationTransactionAttributeSource" /&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

&lt;/beans&gt;

</pre>
<br />
<br />
Finally the <b>servicesContext.xml</b><br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
    xmlns:aop="http://www.springframework.org/schema/aop"
 xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context-2.5.xsd
   http://www.springframework.org/schema/aop 
   http://www.springframework.org/schema/aop/spring-aop-2.5.xsd"&gt;

 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;!-- CONFIGURE SERVICE BEANS         --&gt;
 &lt;!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ --&gt;
 &lt;bean id="employeeService" class="com.myapp.service.EmployeeService"&gt;
  &lt;constructor-arg ref="employeeTableRepository" /&gt;
  &lt;constructor-arg ref="transactionManager" /&gt;
 &lt;/bean&gt;
 
&lt;/beans&gt;

</pre>
<b>Q20.</b> How will you go about writing an integration or unit test for the <i>EmployeeService </i>described above? <br />
<b>A20. </b>Since the dataSource is looked up via JNDI, you need to emulate the JNDI lookup.&nbsp; This can be achieved with the Spring helper classes <b>SimpleNamingContextBuilder </b>and <b>DriverManagerDataSource</b>.<br />
<br />
This involves 3 steps.<br />
<br />
<ul>
<li> Define a bootsrapper class that emulates JNDI lookup using Spring helper classes like <i>SimpleNamingContextBuilder </i>and <i>DriverManagerDataSource</i>. For example, <b>SybaseDevBootstrapper.java</b> file.</li>
<li>Wire-up this via a Spring config file named <b>sybaseDevBootstrapContext.xml</b>. </li>
<li>Finally, write the JUnit test class<b> EmployeeServicesSybTest.java</b>.</li>
<li>Define the <b>TestExecutionListeners </b>if required. </li>
</ul>
&nbsp;Firstly the <b>SybaseDevBootstrapper.java</b><br />
<br />
<br />
<pre class="brush: csharp">package com.myapp.test.db;

import javax.naming.NamingException;

import org.springframework.beans.factory.BeanCreationException;
import org.springframework.jdbc.datasource.DriverManagerDataSource;
import org.springframework.mock.jndi.SimpleNamingContextBuilder;

/**
 * helper class to bootstrap the sybase database datasources
 */
public class SybaseDevBootstrapper  {
    
 public static final String JNDI_BINDING_DB = "java:comp/env/jdbc/dataSource/mydb";
    public static final String DRIVER_CLASS = "com.sybase.jdbc3.jdbc.SybDriver";

 private SimpleNamingContextBuilder builder;  //Spring JNDI emulator class

 /**
  * setup sybase databases, and bind to specific places in jndi tree
  */
 public void start() {
        try {
         builder = SimpleNamingContextBuilder.emptyActivatedContextBuilder();

         DriverManagerDataSource ds = new DriverManagerDataSource();
            ds.setDriverClassName(DRIVER_CLASS);
            ds.setUrl("jdbc:sybase:Tds:host-name:10004/my_db");
            ds.setUsername("user");
            ds.setPassword("pwd");
            builder.bind(JNDI_BINDING_DB, ds);
            
            
        } catch (NamingException e) {
            throw new BeanCreationException(e.getExplanation());
        }
    }
 
 public void stop() {
  builder.deactivate();
  builder.clear();
 }
}


</pre>
<br />
<br />
Next, wire the above Java class.<br />
<br />
<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
 xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context-2.5.xsd"
 default-autowire="byName"&gt;

 &lt;bean id="sybaseDevBootstrapper" class="com.myapp.test.db.SybaseDevBootstrapper" init-method="start" destroy-method="stop"/&gt;

&lt;/beans&gt;


</pre>
<br />
Finally the test class <b>EmployeeServicesSybTest.java</b><br />
<br />
<br />
<pre class="brush: csharp">package com.myapp.test.services;

import javax.annotation.Resource;

import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.TestExecutionListeners;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.context.support.DependencyInjectionTestExecutionListener;

//...other imports


@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations={
  "classpath:/sybaseDevBootstrapContext.xml",
  "classpath:/transactionContext.xml",
  "classpath:/daoContext.xml",
  "classpath:/servicesContext.xml",
})
@TestExecutionListeners(value = { 
  DependencyInjectionTestExecutionListener.class,
  SessionBindingHibernateListener.class
})

public class EmployeeServicesSybTest {
 
 @Resource
 EmployeeService employeeService;
    
    @Test
    public void testSaveEmployee() throws RepositoryException {
      Assert.assertTrue(employeeService != null);
      
      Employee employee = new Emloyee();
      //....assign values here
      
      employeeService.seaveEmployee(employee);
      
    }

}</pre>
<br />
<br />
The JUnit's way of setting up cross cutting concerns like security, locale, currency, timezone, and any other pre-initilization rules for the test cases function correctly is via annoattions like @Before and @After. The Spring's TestContext framework uses the  anootation @TestExecutionListeners to acheive setting up of these cross cutting concerns. In the above example, we are using the DependencyInjectionTestExecutionListener.class from the Spring framework to provide support for dependncy injection and the custom SessionBindingHibernateListener.class to bind the session to the current thread. The custom implementation shown below extends the AbstractTestExecutionListener, which is the abstract implementation of TestExecutionListener class from the Spring framework.<br />
<br />
<br />
<br />
<pre class="brush: csharp">/**
 * Helper class for binding sessions to the current thread
 * 
 */
public class SessionBindingHibernateListener extends SessionBindingListener {
    
 private static final String BEAN_NAME = "hibernateSessionFactory";

 public SessionBindingHibernateListener() {
  super(BEAN_NAME);
 }
}


</pre>
<br />
<br />
<br />
<br />
<pre class="brush: csharp">import org.hibernate.FlushMode;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.springframework.context.ApplicationContext;
import org.springframework.orm.hibernate3.SessionFactoryUtils;
import org.springframework.orm.hibernate3.SessionHolder;
import org.springframework.test.context.TestContext;
import org.springframework.test.context.support.AbstractTestExecutionListener;
import org.springframework.transaction.support.TransactionSynchronizationManager;


/**
 * Helper class for binding sessions to the current thread
 * 
 */
public class SessionBindingListener extends AbstractTestExecutionListener {
    
    private final String beanName;
    
 public SessionBindingListener(String beanName) {
  this.beanName = beanName;
 }
    
 @Override
 public void prepareTestInstance(TestContext testContext) throws Exception {
  ApplicationContext context = testContext.getApplicationContext();
  SessionFactory sessionFactory = (SessionFactory) context.getBean(beanName);
  
        Session session = SessionFactoryUtils.getSession(sessionFactory, true);
        session.setFlushMode(FlushMode.MANUAL);
        if (!TransactionSynchronizationManager.hasResource(sessionFactory)) {
            TransactionSynchronizationManager.bindResource(sessionFactory, new SessionHolder(session));
        }
 }
}


</pre>
<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Hibernate">Hibernate</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2012/01/hibernate-interview-q-with-annotations.html" title="permanent link"> 2/01/2012 02:43:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2012/01/hibernate-interview-q-with-annotations.html#comment-form"location.href=http://java-success.blogspot.com/2012/01/hibernate-interview-q-with-annotations.html#comment-form;><span style="text-transform:lowercase">4 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2012/01/hibernate-interview-q-with-annotations.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=7062161203125898355" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=7062161203125898355&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
   

</div></div>
<!-- End #main -->







<!-- Begin #sidebar -->
<div id="sidebar"><div id="sidebar2">

  
  
  <h2 class="sidebar-title">Previous Posts</h2>
    <ul id="recently">
    
        <li><a href="http://java-success.blogspot.in/2014/11/are-you-java-beginner-why-good-java.html">Are you a Java beginner? Why good Java developers ...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/11/java-exception-handling-beginner.html">Java exception handling beginner mistakes and best...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/11/unix-interview-questions-and-answers.html">Unix Interview Questions and Answers for Java deve...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/debugging-and-working-like-pro-with.html">Debugging and working  like a pro with a Java appl...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/yammer-metrics-to-monitor-restful-web_22.html">Yammer metrics to monitor RESTful web services and...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/when-to-use-which-java-collection-or.html">When to use which Java collection or data structur...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2011/09/how-to-prepare-for-javajee-job.html">How to prepare or train for Java and JEE Job Inter...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/yammer-metrics-to-monitor-restful-web.html">Yammer metrics to monitor RESTful web services wit...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/09/monitoring-and-gathering-statistics.html">Monitoring and gathering statistics with JMX based...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/08/what-are-different-ways-java-thread.html">What are the different ways a Java thread gets blo...</a></li>
     
  </ul>
  
  
  
  <h2 class="sidebar-title">Archives</h2>

    <ul class="archive-list">
   	  
    	<li><a href="http://java-success.blogspot.in/2006_10_01_archive.html">October 2006</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2006_11_01_archive.html">November 2006</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_05_01_archive.html">May 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_10_01_archive.html">October 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_12_01_archive.html">December 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2008_08_01_archive.html">August 2008</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_02_01_archive.html">February 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_10_01_archive.html">October 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_11_01_archive.html">November 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_12_01_archive.html">December 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_01_01_archive.html">January 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_07_01_archive.html">July 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_09_01_archive.html">September 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_10_01_archive.html">October 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_11_01_archive.html">November 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_12_01_archive.html">December 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_01_01_archive.html">January 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_02_01_archive.html">February 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_03_01_archive.html">March 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_04_01_archive.html">April 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_05_01_archive.html">May 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_06_01_archive.html">June 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_07_01_archive.html">July 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_08_01_archive.html">August 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_09_01_archive.html">September 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_10_01_archive.html">October 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_11_01_archive.html">November 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_12_01_archive.html">December 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_01_01_archive.html">January 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_02_01_archive.html">February 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_03_01_archive.html">March 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_04_01_archive.html">April 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_05_01_archive.html">May 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_06_01_archive.html">June 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_07_01_archive.html">July 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_08_01_archive.html">August 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_09_01_archive.html">September 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_10_01_archive.html">October 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_11_01_archive.html">November 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_12_01_archive.html">December 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_01_01_archive.html">January 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_02_01_archive.html">February 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_03_01_archive.html">March 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_04_01_archive.html">April 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_05_01_archive.html">May 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_06_01_archive.html">June 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_07_01_archive.html">July 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_08_01_archive.html">August 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_09_01_archive.html">September 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_10_01_archive.html">October 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_11_01_archive.html">November 2014</a></li>
	  

  </ul>
  
  
  
  <!-- Begin #profile-container -->
  
    <div id="profile-container"><h2 class="sidebar-title">About Me</h2>
<dl class="profile-datablock"><dt class="profile-img"><a href="https://plus.google.com/109240621969095737337"><img src="//lh3.googleusercontent.com/-XMLxx0v_R7A/AAAAAAAAAAI/AAAAAAAACxk/8BeHFmsEuy8/s80-c/photo.jpg" width="80" height="80" alt="My Photo"></a></dt>
<dd class="profile-data"><strong>Name:</strong> <a rel="author" href="https://plus.google.com/109240621969095737337"> Arulkumaran Kumaraswamipillai </a></dd>
</dl>
<p class="profile-textblock">Java freelancer from Australia. As a contractor, attended 100+ job interviews and received multiple job offers. Authored Java career books that sold over 30,000 copies.<br><br><a href="http://www.java-success.com" rel="nofollow" target="_blank">www.java-success.com</a> for 500+ Java/JEE job interview questions and answers and tutorials.<br></p>
<p class="profile-link"><a rel="author" href="https://plus.google.com/109240621969095737337">View my complete profile</a></p></div>
  
  <!-- End #profile -->

  
  <p id="powered-by"><a href="http://www.blogger.com"><img src="http://buttons.blogger.com/bloggerbutton1.gif" alt="Powered by Blogger" /></a></p>
  <p id="blogfeeds">Subscribe to<br />Posts [<a target="_blank" href="http://java-success.blogspot.com/feeds/posts/default" type="application/atom+xml">Atom</a>]</p>

  <script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>  
   
  <!--
  <p>This is a paragraph of text that could go in the sidebar.</p>
  -->
  
  <script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>  



</div></div>
<!-- End #sidebar -->




<!-- Begin #footer -->
<div id="footer"><hr />

  <p><!-- This is an optional footer. If you want text here, place it inside these tags, and remove this comment. -->&nbsp;</p>

  </div>
<!-- End #footer -->




</div>
<!-- End #content -->






</div></div></div></div>
<!-- End wraps -->

</body>
</html>
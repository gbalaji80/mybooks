<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
  <title>Java-Success Blog: May 2013</title>

  <link href='http://www.java-success.com' rel='canonical'/>


  <script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(l){}};this.tick("start",null,a)}var a,e;window.performance&&(e=(a=window.performance.timing)&&a.responseStart);var h=0<e?new c(e):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_","_wtsrt",
e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Blogger" />
<link rel="icon" type="image/vnd.microsoft.icon" href="https://www.blogger.com/favicon.ico"/>
<link rel="alternate" type="application/atom+xml" title="Java-Success Blog - Atom" href="http://java-success.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Java-Success Blog - RSS" href="http://java-success.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Java-Success Blog - Atom" href="https://www.blogger.com/feeds/35897879/posts/default" />
<link rel="stylesheet" type="text/css" href="https://www.blogger.com/static/v1/v-css/50269083-blog_controls.css"/>
<link rel="stylesheet" type="text/css" href="https://www.blogger.com/dyn-css/authorization.css?targetBlogID=35897879&zx=32ffd7df-5810-469f-a666-048e5011b3eb"/>
<script type="text/javascript" src="https://www.blogger.com/static/v1/v-js/979395223-backlink.js"></script>
<script type="text/javascript" src="https://www.blogger.com/static/v1/v-js/4080670514-backlink_control.js"></script>
<script type="text/javascript">var BL_backlinkURL = "https://www.blogger.com/dyn-js/backlink_count.js";var BL_blogId = "35897879";</script>


  <style type="text/css">
/*
-----------------------------------------------
Blogger Template Style
Name:     Harbor
Designer: Douglas Bowman
URL:      www.stopdesign.com
Date:     24 Feb 2004
----------------------------------------------- */


body {
  background:#fff url("http://www.blogblog.com/harbor/rocks.jpg") no-repeat right bottom;
  background-attachment:fixed;
  margin:0;
  padding:0;
  font:x-small Georgia,Serif;
  color:#333;
  font-size/* */:/**/small;
  font-size: /**/small;
  }
/* Commented Backslash Hack hides rule from IE5-Mac \*/
  body {background-attachment:scroll;}
  /* End IE5-Mac hack */
a:link {
  color:#36a;
  text-decoration:none;
  }
a:visited {
  color:#764;
  text-decoration:none;
  }
a:hover {
  color:#933;
  text-decoration:underline;
  }
a img {
  border-width:0;
  }


/* Page Structure
----------------------------------------------- */
#wrap {
  background:url("http://www.blogblog.com/harbor/sky.jpg") repeat-x left top;
  min-width:740px;
  margin:0;
  padding:0;
  text-align:left;
  }
#wrap2 {
  background:url("http://www.blogblog.com/harbor/lighthouse.jpg") no-repeat left top;
  }
#wrap3 {
  background:url("http://www.blogblog.com/harbor/cloud.jpg") no-repeat 100% 75px;
  }
#wrap4 {
  background:url("http://www.blogblog.com/harbor/center_cloud.jpg") no-repeat 50% 0;
  padding:15px;
  width:100%;
  width/* */:/**/auto;
  width: /**/auto;
  }
@media all {
  #content {
    max-width:890px;
    padding:0 30px 50px;
    width:100%;
    width/* */:/**/auto;
    width: /**/auto;
    }
  html>body #content {
    border:3px double #fff;
    }
  #main {
    width:64%;
    float:right;
    }
  #main2 {
    margin:0;
    padding:0;
    }
  #sidebar {
    width:32%;
    float:left;
    }
  #sidebar2 {
    margin:0;
    padding:170px 0 20px;
    }
  }
@media handheld {
  #content {
    width:90%;
    }
  #main {
    width:100%;
    float:none;
    }
  #sidebar {
    width:100%;
    float:none;
    }
  }

/* Header
----------------------------------------------- */
@media all {
  #header {
    padding:15px 0 10px 110px;
    }
  }
@media handheld {
  #header {
    width:100%;
    padding:15px 0 10px 0;
    }
  }
#blog-title {
  margin:0 0 .25em;
  font-size:270%;
  font-weight:normal;
  color:#678;
  }
#blog-title a {
  color:#678;
  text-decoration:none;
  }
#description {
  margin:0;
  max-width:700px;
  font-size:75%;
  line-height:1.8em;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#789;
  }


/* Headings
----------------------------------------------- */
h2 {
  margin:1.5em 0 .75em;
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#933;
  }


/* Posts
----------------------------------------------- */
.date-header {
  margin:2em 0 .5em;
  }
.post {
  margin:.5em 0 1.5em;
  line-height:1.6em;
  }
.post-title {
  margin:.25em 0 0;
  padding:0 0 4px;
  font-size:140%;
  font-weight:normal;
  line-height:1.4em;
  }
.post-title a, .post-title strong {
  background:url("http://www.blogblog.com/harbor/icon_lighthouse.gif") no-repeat 0 .15em;
  display:block;
  padding-left:20px;
  text-decoration:none;
  color:#368;
  font-weight:normal;
  }
.post-title strong {
  background-image:url("http://www.blogblog.com/harbor/icon_lighthouse2.gif");
  color:#000;
  }
.post-title a:hover {
  color:#933;
  }
.post-body {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  padding-top:12px;
  }
.post p {
  margin:0 0 .75em;
  }
p.post-footer {
  color:#999;
  }
.post-footer em, .comment-link {
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
.post-footer em {
  font-style:normal;
  color:#666;
  margin-right:.4em;
  }
.comment-link strong {
  font-size:130%;
  }
.comment-link {
  margin-left:.4em;
  }
.post img {
  padding:4px;
  border:1px solid #cde;
  }


/* Comments
----------------------------------------------- */
#comments {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  padding:15px 0 0;
  }
#comments h4 {
  margin:1em 0;
  font:bold 78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#933;
  }
#comments h4 strong {
  font-size:130%;
  }
#comments-block {
  margin:1em 0 1.5em;
  line-height:1.4em;
  }
#comments-block dt {
  margin:.5em 0;
  }
#comments-block dd {
  margin:.25em 20px 0;
  }
#comments-block dd.comment-timestamp {
  margin:-.25em 20px 1.5em;
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
#comments-block dd p {
  margin:0 0 .75em;
  }
.deleted-comment {
  font-style:italic;
  color:gray;
  }


/* Sidebar Content
----------------------------------------------- */
#sidebar ul {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center bottom;
  margin:0 0 15px;
  padding:0 0 15px;
  list-style:none;
  }
#sidebar li {
  margin:0;
  padding:0 0 .25em 15px;
  text-indent:-15px;
  line-height:1.5em;
  }
#sidebar p {
  color:#666;
  line-height:1.5em;
  }


/* Profile
----------------------------------------------- */
#profile-container {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center bottom;
  margin:0 0 2em;
  padding:0 0 15px;
  }
.profile-datablock {
  margin:.5em 0 .5em;
  }
.profile-img {
  display:inline;
  }
.profile-img img {
  float:left;
  padding:4px;
  border:1px solid #cde;
  margin:0 8px 3px 0;
  }
.profile-data {
  margin:0;
  font:bold 78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
.profile-data strong {
  display:none;
  }
.profile-textblock {
  margin:0 0 .5em;
  }
.profile-link {
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }


/* Footer
----------------------------------------------- */
#footer {
  clear:both;
  padding:15px 30px 0 50px;
  }
#footer hr {
  display:none;
  }
#footer p {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  margin:0;
  padding-top:15px;
  font:78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }


/* Feeds
----------------------------------------------- */
#blogfeeds {
  }
#postfeeds {
  }
  </style>
<!-- --><style type="text/css">@import url(https://www.blogger.com/static/v1/v-css/navbar/3334278262-classic.css);
div.b-mobile {display:none;}
</style>

</head>

<body><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d35897879\x26blogName\x3dJava-Success+Blog\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dBLUE\x26layoutType\x3dCLASSIC\x26searchRoot\x3dhttp://java-success.blogspot.com/search\x26blogLocale\x3den\x26v\x3d2\x26homepageUrl\x3dhttp://java-success.blogspot.com/\x26vt\x3d2978101103701820782',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script>

<!-- Begin wraps -->

<div id="wrap"><div id="wrap2"><div id="wrap3"><div id="wrap4">


<!-- Begin #content -->
<div id="content">


<div id="header">

  <h1 id="blog-title">
    
	Java-Success Blog
	
  </h1>

  <p id="description">Java/JEE blog containing interview questions and answers and tutorials</p>

</div>


<!-- Begin #main -->
<div id="main"><div id="main2">

<div class='adsense' style='text-align:center; padding: 0px 3px 0.5em 3px;'>
<script type="text/javascript"><!--
google_ad_client="pub-3764234023451771";
google_ad_host="pub-1556223355139109";
google_ad_width=468;
google_ad_height=60;
google_ad_format="468x60_as";
google_ad_type="text";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="333333";
google_color_url="009900";
google_color_text="993333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>



</div>

<!-- Search Google -->
<center>
<form method="get" action="http://www.google.com/custom" target="_top">
<table bgcolor="#ffffff">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
<label for="sbi" style="display: none">Enter your search terms</label>
<input type="text" name="q" size="31" maxlength="255" value="" id="sbi"></input>
<label for="sbb" style="display: none">Submit search form</label>
<input type="submit" name="sa" value="Search" id="sbb"></input>
<input type="hidden" name="client" value="pub-3764234023451771"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
</center>
<!-- Search Google -->









<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 30, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="7806690822684741422"></a>
    
         
    


    <h3 class="post-title">
	 
	 Asynchronous processiong with Spring tutorial
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><b>Step 1</b>: Create a maven based Java project of type jar. So, execute the following maven archetype command.
<br />
<br />
<pre class="brush: csharp">mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false
</pre>
<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-cAhZd4xa60g/UaK3L5OO1dI/AAAAAAAABhs/cA47x7mMtKw/s1600/Spring-3-async.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="368" src="http://4.bp.blogspot.com/-cAhZd4xa60g/UaK3L5OO1dI/AAAAAAAABhs/cA47x7mMtKw/s640/Spring-3-async.jpg" width="640" /></a></div>
<br />
<br />
<b>Step2</b>: The above command would have created the maven skeleton. Add the "resources" folder under "src/main" to store the spring context file. Open the pom.xml file under the application and add the following depencies jar files. The cgilib version 2 is required for the spring 3 jars.
<br />
<br />
<pre class="brush: csharp">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
 &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
 &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;
 &lt;artifactId&gt;my-app&lt;/artifactId&gt;
 &lt;packaging&gt;jar&lt;/packaging&gt;
 &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
 &lt;name&gt;my-app&lt;/name&gt;
 &lt;url&gt;http://maven.apache.org&lt;/url&gt;
 &lt;dependencies&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;junit&lt;/groupId&gt;
   &lt;artifactId&gt;junit&lt;/artifactId&gt;
   &lt;version&gt;3.8.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
   &lt;groupId&gt;junit&lt;/groupId&gt;
   &lt;artifactId&gt;junit&lt;/artifactId&gt;
   &lt;version&gt;3.8.1&lt;/version&gt;
   &lt;scope&gt;test&lt;/scope&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
   &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
   &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;

  &lt;/dependency&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;
   &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;
   &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
   &lt;groupId&gt;cglib&lt;/groupId&gt;
   &lt;artifactId&gt;cglib&lt;/artifactId&gt;
   &lt;version&gt;2.2&lt;/version&gt;
  &lt;/dependency&gt;

 &lt;/dependencies&gt;
&lt;/project&gt;
</pre>
<br />
<br />
<b>Step 3</b>: Add the applicationContext.xml spring file to "src/main/resources" folder.
<br />
<br />
<pre class="brush: csharp">&lt;beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
 xmlns:context="http://www.springframework.org/schema/context"
 xmlns:task="http://www.springframework.org/schema/task"
 xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
    http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd"&gt;

 &lt;context:component-scan base-package="com.mycompany" /&gt;

 &lt;task:annotation-driven /&gt;
 
&lt;/beans&gt;
</pre>
<br />
<br />
<b>Step 4</b>: Define the Java classes under src/main/java/com/mycompany/app folder as shown below.
<br />
<br />
Firstly the main class App.java that bootsraps spring via applicationContext.xml.
<br />
<br />
<pre class="brush: csharp">package com.mycompany.app;

import org.springframework.context.support.ClassPathXmlApplicationContext;

/**
 * Hello world!
 */
public class App
{
    public static void main(String[] args)
    {
        ClassPathXmlApplicationContext appContext = new ClassPathXmlApplicationContext(new String[]
        {
            "applicationContext.xml"
        });
        
        AppService appService = (AppService) appContext.getBean("appService");
        
        appService.registerUser("skill");
    }
}
</pre>
<br />
<br />
Secondly, the AppService.java class.
<br />
<br />
<pre class="brush: csharp">package com.mycompany.app;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class AppService
{
    
    @Autowired
    private EmailSender mailUtility;
    
    public void registerUser(String userName)
    {
        System.out.println(Thread.currentThread().getName());
        System.out.println("User registration for  " + userName + " complete");
        
        mailUtility.sendMail(userName);
        
        System.out.println("Registration Complete. Mail will be sent asynchronously.");
    }
}
</pre>
<br />
<br />
Finally, EmailSender that runs asynchronously with the @Async annotation.
<br />
<br />
<pre class="brush: csharp">package com.mycompany.app;

import org.springframework.scheduling.annotation.Async;
import org.springframework.stereotype.Component;

@Component
public class EmailSender
{
    @Async
    public void sendMail(String name)
    {
        
        System.out.println(Thread.currentThread().getName());
        System.out.println("started producing email content");
        
        try
        {
            Thread.sleep(3000); //to simulate email sending
            
        }
        catch (InterruptedException e)
        {
            
            e.printStackTrace();
        }
        
        System.out.println("email sending has been completed");
        
    }
}
</pre>
<br />
<br />
The out put will be

<br />
<br />
<pre class="brush: csharp">main
User registration for  skill complete
Registration Complete. Mail will be sent asynchronously.
SimpleAsyncTaskExecutor-1
started producing email content
email sending has been completed
</pre>
<br />
<br />
<b>Q.</b> How do you know that the EmailSender runs asynchronously on a separate thread?
<br />
<b>A.</b> Firstly, the Thread.currentThread().getName() was added to print the thread names and you can see that the AppService runs on the "main" thread and the EmailSender runs on the "SimpleAsyncTaskExecutor-1" thread. Secondly, the Thread.sleep(3000) was added to demonstrate that "Registration Complete. Mail will be sent asynchronously." gets printed without being blocked. If you rerun the App.java again by commenting out the  "@Async" annotation in "EmailSender", you will get a different output as shown below.
<br />
<br />
<pre class="brush: csharp">main
User registration for  skill complete
main
started producing email content
email sending has been completed
Registration Complete. Mail will be sent asynchronously.
</pre>
<br />
<br />
As you can see, there is only one thread named "main", and the order of the output is different.

<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring">Spring</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/asynchronous-processiong-with-spring.html" title="permanent link"> 5/30/2013 08:57:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/asynchronous-processiong-with-spring.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/asynchronous-processiong-with-spring.html#comment-form;><span style="text-transform:lowercase">2 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/05/asynchronous-processiong-with-spring.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=7806690822684741422" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=7806690822684741422&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 29, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="2612167532198823134"></a>
    
         
    


    <h3 class="post-title">
	 
	 Proxy design pattern for implementing thread safe wrappers
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><br />
<b>Q</b>. What are the different ways you can make an object thread-safe?<br />
<b>A</b>.&nbsp; <br />
<ul>
<li><b>Synchronize critical sections</b>:&nbsp; An object's critical sections are those methods or blocks of code within methods that must be executed by only one thread at a time. By using Java's synchronized keyword, you can guarantee that only one thread at a time will ever execute the object's critical sections. </li>
<li><b>Make the object immutable</b>. Immutable objects are, by their very nature, thread-safe simply because threads have to be able to write to an object's instance variables to experience a read/write or write/write conflict.&nbsp;</li>
<li><b>Use a thread-safe wrapper</b>: by applying the <b>proxy design pattern</b>. let's have a look at an example.</li>
</ul>
<br />
<br />
<b>Step 1</b>: Here are the sample third party interface and implementation classes.<br />
<br />
<b>Here is the Interface</b><br />
<br />
<pre class="brush: csharp">package com.arul;

public interface ThirdPartyInterface
{
    abstract void someMethod();
}

</pre>
<br />
<b>Here is the implementation</b><br />
<br />
<pre class="brush: csharp">package com.arul;

public class ThirdPartyImpl implements ThirdPartyInterface
{
    
    private int someVar = 0;
    
    @Override
    public void someMethod()
    {
        //some not thread safe functionality
        System.out.println("Printing .........." + ++someVar);
    }
    
}
</pre>
<br />
<b>Step 2</b>: Here is the testing of original third-party library to prove that it is not thread-safe.<br />
<br />
<pre class="brush: csharp">package com.arul;

public class TestThreadSafeThirdParty implements Runnable
{
    
    private ThirdPartyInterface tstp = null;
    
    public TestThreadSafeThirdParty(ThirdPartyInterface tstp)
    {
        this.tstp = tstp;
    }
    
    public static void main(String[] args)
    {
        ThirdPartyImpl localTp = new ThirdPartyImpl();
        
        TestThreadSafeThirdParty test = new TestThreadSafeThirdParty(localTp);
        
        //create 2 threads
        Thread thread1 = new Thread(test);
        Thread thread2 = new Thread(test);
        thread1.start();
        thread2.start();
        
    }
    
    @Override
    public void run()
    {
        for (int i = 0; i &lt; 5; i++)
        {
            tstp.someMethod();
        }
        
    }
}
</pre>
<br />
<br />
The <b>output </b>of the above run is not thread-safe as shown below<br />
<br />
<pre class="brush: csharp">Printing ..........1
Printing ..........3
Printing ..........2
Printing ..........4
Printing ..........5
Printing ..........6
Printing ..........7
Printing ..........9
Printing ..........8
Printing ..........10
</pre>
<br />
<br />
<b>Step 3</b>: Here is the thread safe implementation that acts as a proxy to the subject, and its responsibility is to add <b>thread-safety</b>.<br />
<br />
<pre class="brush: csharp">package com.arul;

/**
 * proxy class that applies thread safety to
 */
public class ThreadSafeThirdPartyImpl implements ThirdPartyInterface
{
    
    private final Object lock = new Object();
    private final ThirdPartyInterface subject;
    
    public ThreadSafeThirdPartyImpl(ThirdPartyInterface subject)
    {
        this.subject = subject;
    }
    
    @Override
    public void someMethod()
    {
        //lock to provide thread safety via this proxy class
        synchronized (lock)
        {
            try
            {
                Thread.sleep(200);
            }
            catch (InterruptedException e)
            {
                e.printStackTrace();
            }
            
            subject.someMethod(); //access the unsafe method
        }   
    } 
}

</pre>
<b>Step 4</b>: Here is the testing of proxied third-party library to prove that it is now thread-safe.<br />
<br />
<pre class="brush: csharp">package com.arul;

public class TestThreadSafeThirdParty implements Runnable
{
    
    private ThirdPartyInterface tstp = null;
    
    public TestThreadSafeThirdParty(ThirdPartyInterface tstp)
    {
        this.tstp = tstp;
    }
    
    public static void main(String[] args)
    {
        ThirdPartyImpl localTp = new ThirdPartyImpl();
        ThreadSafeThirdPartyImpl localTsTp = new ThreadSafeThirdPartyImpl(localTp);
        
        TestThreadSafeThirdParty test = new TestThreadSafeThirdParty(localTsTp);
        
        //create 2 threads
        Thread thread1 = new Thread(test);
        Thread thread2 = new Thread(test);
        thread1.start();
        thread2.start();
        
    }
    
    @Override
    public void run()
    {
        for (int i = 0; i &lt; 5; i++)
        {
            tstp.someMethod();
        }
        
    }
}

</pre>
The <b>output </b>of the above run is now<b> thread-safe </b>as shown below. Thanks to the proxy class that applies the lock.<br />
<br />
<pre class="brush: csharp">Printing ..........1
Printing ..........2
Printing ..........3
Printing ..........4
Printing ..........5
Printing ..........6
Printing ..........7
Printing ..........8
Printing ..........9
Printing ..........10
</pre>
<br />
<br />

<h2>Other design patterns - real life examples</h2>

<ul>

<li><a href="http://java-success.blogspot.com/2012/10/sharing-and-reusing-objects-with.html">Sharing and reusing objects with the flyweight design pattern in Java</a>
</li>
<li><a href="http://java-success.blogspot.com/2013/09/when-to-use-builder-design-pattern-real.html">When to use a builder design pattern? real life tips</a></li>
<li><a href="http://java-success.blogspot.com/2013/08/deadlock-retry-with-jdk-dynamic-proxy.html">Deadlock Retry with JDK Dynamic Proxy</a></li>
<li><a href="http://java-success.blogspot.com/2013/05/java-io-and-decorator-and-proxy-design.html">Java I/O -- the Decorator and proxy design pattern interview questions and answers</a></li>
<li><a href="http://java-success.blogspot.com/2013/03/java-design-pattern-interview-questions.html">Java design pattern interview questions and answers: strategy and factory pattern</a></li>
<li><a href="http://java-success.blogspot.com/2012/10/sharing-and-reusing-objects-with.html">Sharing and reusing objects with the flyweight design pattern in Java</a></li>
<li><a href="http://java-success.blogspot.com/2011/12/design-patterns-interview-questions-and.html">Observer design pattern for publish/Subscribe model</a></li>
</ul>

<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/design%20pattern">design pattern</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/proxy-design-pattern-implementing.html" title="permanent link"> 5/29/2013 09:37:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/proxy-design-pattern-implementing.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/proxy-design-pattern-implementing.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=2612167532198823134" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=2612167532198823134&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  





  
     
  <!-- Begin .post -->
  <div class="post"><a name="8599612691590774481"></a>
    
         
    


    <h3 class="post-title">
	 
	 Unix emulator, SSH client and much more  for Win32 platform
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><h2>
Unix for software developers</h2>
<table bgcolor="#FFFFCC" border="2" cell-padding="10px" style="width: 100%;">
<tbody>
<tr>
<td colspan="2"><a href="http://java-success.blogspot.com/2014/06/top-17-unix-commands-java-developers.html"> <span style="font-size: large;">1.</span>Top 17 Unix commands Java developers use frequently</a> </td>
<td><a href="http://java-success.blogspot.com/2014/06/unix-history-commands-for-java.html"> <span style="font-size: large;">2.</span>History commands</a> </td>
<td><a href="http://java-success.blogspot.com/2014/06/unix-shell-scripting-zip-ftp-commenting.html"> <span style="font-size: large;">3.</span>Shell scripting</a> </td>
<td><a href="http://java-success.blogspot.com/2013/06/unix-interview-questions-and-answers.html"> <span style="font-size: large;">4.</span> Reading from a file</a></td>
</tr>
<tr>
<td><a href="http://java-success.blogspot.com/2013/06/unix-interview-questions-purging-older.html"> <span style="font-size: large;">5.</span>Purging older files</a> </td>
<td><a href="http://java-success.blogspot.com/2013/05/unix-interview-questions-splitting-and.html"> <span style="font-size: large;">6.</span>Splitting and archiving files</a> </td>

<td><a href="http://java-success.blogspot.com/2013/05/unix-emulator-ssh-client-and-much-more.html"> <span style="font-size: large;">7.</span>Emulator, SSH client</a> </td>
<td><a href="http://java-success.blogspot.com/2013/04/unix-commands-for-software-developers.html"> <span style="font-size: large;">8.</span>Unix commands for developers</a> </td>
<td><a href="http://java-success.blogspot.com/2012/01/unix-interview-questions-and-answers.html"> <span style="font-size: large;">9.</span>Unix basic interview Q&A</a> </td>

</tr>
</tbody></table>
<br />
Many industrial Java applications are developed om a WIN32 platfor, but run on a target platform, which is Unix based. If you are a beginner to Unix, and would like to work on an emulator that runs on a Win32 platform, this post is for you. MobaXterm is a set of Unix commands (GNU/Cygwin) included in a single portable exe file. MobaXterm integrates an X server and several network clients (SSH, RDP, VNC, telnet, rlogin, sftp, ftp, ...) accessible through a tab-based terminal. <br />
<br />
<br />
<b>Step 1</b>: Download MobaXterm from http://mobaxterm.mobatek.net/ for a personal use, that is learning to use Unix. Get the portable edition. This is zip file and extract the MobaXterm_Personal_<version>.exe to a subfolder of your choice and then create a short-cut. Double clicking on the short-cut will bring up the MobaXterm window as shown below. Once it is launched, you will also see an ini file created named "MobaXterm.ini". <br /><br /><br /><b>Step 2</b>: Now, you can change to your C drive in Win32. One of two ways&nbsp; as shown below:<br /><br />1. cd /drives/c<br />2. cd /cygdrive/c</version><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-z8tNw73MEeM/UaQCoPbuKLI/AAAAAAAABik/Zbe7YdA2swo/s1600/MobaXterm.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="392" src="http://2.bp.blogspot.com/-z8tNw73MEeM/UaQCoPbuKLI/AAAAAAAABik/Zbe7YdA2swo/s640/MobaXterm.jpg" width="640" /></a></div>
<br />
<br />
<b>Step 3</b>: You can now use this to practice the Unix posts from this and other blogs or books to enhance your Unix skills.<br />
<br />
If you already had set up JAVA_HOME environment variable, you can echo it as shown below
<br />
<br />
echo $JAVA_HOME
<br />
<br />
If you want to set up the environment variables
<br />
<br />
<pre class="brush: csharp">export JAVA_HOME=/drives/c/FAST/JDK/1.6.0.31

export M3_HOME=/drives/c/FAST/apache-maven-3.0.4
</pre>
<br />
<br />
<b>Note</b>: MobaXterm allows you to add number of other plugins from their web site like ksh shell, etc. All you have to do is download the plugin from the plugins tab in their website into your folder where the exe file is. Also be aware that Unix does not have the carriage return characters ( use <b>dos2unix </b>to convert dos files to Unix files) and also Unix files can't have spaces in between their names.<br />
<br />
<b>Step 4:&nbsp; </b>You can set up <b>setenv.sh</b> bash script to set up your Java environment as shown below<br />
<br />
<pre class="brush: csharp">#!/bin/sh

JAVA_HOME=/drives/c/FAST/JDK/1.6.0.31
export JAVA_HOME

M3_HOME=/drives/c/FAST/apache-maven-3.0.4
export M3_HOME

</pre>
<b>Step 5</b>: you can run the above script as<br />
<br />
<pre class="brush: csharp">sh setenv.sh
</pre>
<br />
For running in debug mode use -x
<br />
<br />
<pre class="brush: csharp">sh -x setenv.sh
</pre>
<br />
<b>Step 6</b>: In Unix, you can use the <b>Vi </b>editor as your editor, and MobaXterm comes with <b>VIM (V</b>i <b>IM</b>proved<b>) </b>editor.<br />
<br />
<pre class="brush: csharp">vi test.txt
</pre>
<br />
<br />
<b>Step 7</b>:You can query the current directory as shown below<br />
<br />
<pre class="brush: csharp">pwd
</pre>
<br />
and query the files and folders in it as<br />
<br />
ls -ltr
<br />
<br />
<br />
Practice what ever commands you like to learn like<br />
<br />
<pre class="brush: csharp">hostname
whoami
date&nbsp;</pre>
<br />
<br />
<b>Note</b>:<br />
<br />
<ul>
<li>Unix systems have<b> no central place like the Windows registry</b> for storing configuration information. Instead, Unix configuration is spread over a fair number of different files. Many of these files live in a directory called /etc : the list of users is in a file called /etc/passwd, while the name of the machine is typically found in /etc/host.</li>
<li>On Unix machines, <b>programs cannot use network ports less than 1024</b>. Only the special root user can use these ports. </li>
<li>There is <b>no file locking in Unix,</b> so you can delete the file while it is executing, and it will continue to exist as long as some process (Which previously opened it) has an open handle for it. The directory entry for the file is removed when you delete it, so it cannot be opened any more, but processes already using this file can still use it. Once all processes using this file terminate, the file is deleted automatically.</li>
</ul>
<br />
<br/>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Bottom - Leader board */
google_ad_slot = "0221266263";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="9089718340";
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/UNIX">UNIX</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/unix-emulator-ssh-client-and-much-more.html" title="permanent link"> 5/29/2013 10:12:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/unix-emulator-ssh-client-and-much-more.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/unix-emulator-ssh-client-and-much-more.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/05/unix-emulator-ssh-client-and-much-more.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=8599612691590774481" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=8599612691590774481&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 28, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="4880482319916031738"></a>
    
         
    


    <h3 class="post-title">
	 
	 SQL Interview Questions and Answers on deleting records
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//--&gt;
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br />
<br/>

The following is a very popular SQL job interview question.<b> </b><br />
<br />
<b>Q</b>. What is the difference between "<b>Truncate</b>" and "<b>Delete</b>" commands?<br />
<b>A</b>.&nbsp; <br />
<ul>
<li>TRUNCATE TABLE_NAME always locks the table and page but not each row, whereas&nbsp; DELETE statement is executed using a row lock, each row in the table is locked for deletion.</li>
<li>Truncate removes all the records in the table whereas delete can be used with WHERE clause to remove records conditionally. That is remove only a handful number of records.</li>
<li>Truncate performance is much faster than Delete, as its logging is minimal wheres the Delete command logs every record.</li>
<li>Truncate does not retain the identity, whereas DELETE command retains the identity. When you use Truncate, If the table contains an identity column, the counter for that column is reset to the seed value that is defined for the column.</li>
<li>Truncate cleans up the object statistics and clears the allocated space whereas Delete retains the object statistics and allocated space.</li>
<li>TRUNCATE is a <b>DDL</b> (Data Definition Language) and DELETE is a <b>DML</b> (Data Manipulation Language).&nbsp;</li>
<li>Data removed by TRUNCATE command cannot be generally rolled back unless the database server specifically supports it. The DELETE command can rollback a transaction.</li>
<li>The TRUNCATE command does not fire any triggers, whereas the DELETE command fires any triggers defined on the table. For example, to keep an audit trail of records that have been deleted by inserting the deleted records into an audit table via the DELETE triggers.</li>
</ul>
<br />
<b>Q</b>. When will you use a truncate command?<br />
<b>A</b>.<b>TRUNCATE</b> is useful for purging a table with huge amount of data. Alternatively, you can drop the table and recreate it that makes sense. Firing a delete command instead of a truncate command to empty a table with millions of records can result in locking the whole table and also can take longer time to complete, and at times cause the machine to hang. <br />
<br />
The truncate command is executed as shown below.<br />
<br />
<pre class="brush: csharp">TRUNCATE TABLE table_name

</pre>
<br />
<br />
<b>Q</b>. Which command will you use to periodically purge data from your tables as part of a house keeping job?<br />
<b>A</b>.&nbsp; Use a DELETE command within a transaction with a WHERE clause to remove data that are older than 7 years. Remove&nbsp; large amount of data in batches as opposed to in a single transaction.<br />
<br />
<b>Q</b>. How will you delete a few records from single table<br />
<b>A</b>. <br />
<br />
<pre class="brush: csharp">DELETE FROM parent p WHERE p.parent_name = 'Peter'

</pre>
<b><br />Q</b>. How will you delete a few records from parent and child tables where the parent table with parent_name = 'Peter'?<br />
<b>A</b>.<br />
<br />
Firstly, you need to delete the child records because the integrity constraint won't let you delete the parent record when there are child records.<br />
<br />
<pre class="brush: csharp">DELETE child

FROM&nbsp; parent p, child c

WHERE p.parent_id = c.parent_id

&nbsp; AND p.parent_name = 'Peter'

</pre>
<br />
Now, the parent table can be deleted as shown below<br />
<br />
<pre class="brush: csharp">DELETE FROM&nbsp; parent p WHERE p.parent_name = 'Peter'

</pre>
<br />
<b>Note</b>: Please note the difference in syntax when you make a join with the child. When there is only a single table involved, it is "DELETE FROM table_name", but when there is a join, it is "DELETE table_name" and then the "FROM" with the join clauses.<br />
<br />
<br />
<b>Q</b>.&nbsp; What do you do with the PURGE command?<br />
<b>A</b>. The purge command is used to clear the recycle bin. It is generally used with the DROP command. For example,<br />
<br />
<pre class="brush: csharp">drop table tablename purge;

</pre>
<br />
<span style="font-family: arial; font-size: small;">the above&nbsp; command will clear away the table from database as well as from the recycle bin. After <span style="font-size: small;">executing&nbsp;</span> <span style="font-size: small;">the </span>purge command, you cannot retrieve the table using a flashback query.&nbsp; </span><br />
<br />
<ul>
</ul>


<br/>
<br/>


You may also like:<br />
<ul>
<li><b style="background-color: white;"><a href="http://java-success.blogspot.com/2012/02/database-interview-questions-and.html">Database interview Questions and answers</a></b></li>
<li><b><a href="http://java-success.blogspot.com/2011/10/sql-interview-questions-and-answers.html">SQL Interview Questions and Answers</a></b></li>
<li><a href="http://java-success.blogspot.com/2013/04/sql-interview-questions-and-answers.html"><b>&nbsp;SQL interview questions and answers - scenarios based</b></a></li>
<li><b>&nbsp;<a href="http://java-success.blogspot.com/2013/11/sql-subquery-interview-questions-and.html">SQL subqueries interview questions and answers</a></b></li>
<li><a href="http://java-success.blogspot.com/2012/07/sql-interview-questions-and-answers.html"><b>&nbsp;SQL Interview Questions and Answers: storing a tree structure in a database table</b></a></li>
<li><b>&nbsp;<a href="http://java-success.blogspot.com/2013/06/excel-spreadsheet-to-generate-sql.html">Excel spreadsheet to generate SQL</a></b></li>
<li><b>&nbsp;<a href="http://java-success.blogspot.com/2012/10/sql-tutorial-with-hsqldb.html">SQL Tutorial with HSQLDB</a></b></li>

</ul>
<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/SQL">SQL</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/sql-interview-questions-and-answers-on.html" title="permanent link"> 5/28/2013 10:09:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/sql-interview-questions-and-answers-on.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/sql-interview-questions-and-answers-on.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=4880482319916031738" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=4880482319916031738&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 27, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="8402892386366050256"></a>
    
         
    


    <h3 class="post-title">
	 
	 Unix Interview Questions: splitting and archiving files
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><h2>
Unix for software developers</h2>
<table bgcolor="#FFFFCC" border="2" cell-padding="10px" style="width: 100%;">
<tbody>
<tr>
<td colspan="2"><a href="http://java-success.blogspot.com/2014/06/top-17-unix-commands-java-developers.html"> <span style="font-size: large;">1.</span>Top 17 Unix commands Java developers use frequently</a> </td>
<td><a href="http://java-success.blogspot.com/2014/06/unix-history-commands-for-java.html"> <span style="font-size: large;">2.</span>History commands</a> </td>
<td><a href="http://java-success.blogspot.com/2014/06/unix-shell-scripting-zip-ftp-commenting.html"> <span style="font-size: large;">3.</span>Shell scripting</a> </td>
<td><a href="http://java-success.blogspot.com/2013/06/unix-interview-questions-and-answers.html"> <span style="font-size: large;">4.</span> Reading from a file</a></td>
</tr>
<tr>
<td><a href="http://java-success.blogspot.com/2013/06/unix-interview-questions-purging-older.html"> <span style="font-size: large;">5.</span>Purging older files</a> </td>
<td><a href="http://java-success.blogspot.com/2013/05/unix-interview-questions-splitting-and.html"> <span style="font-size: large;">6.</span>Splitting and archiving files</a> </td>

<td><a href="http://java-success.blogspot.com/2013/05/unix-emulator-ssh-client-and-much-more.html"> <span style="font-size: large;">7.</span>Emulator, SSH client</a> </td>
<td><a href="http://java-success.blogspot.com/2013/04/unix-commands-for-software-developers.html"> <span style="font-size: large;">8.</span>Unix commands for developers</a> </td>
<td><a href="http://java-success.blogspot.com/2012/01/unix-interview-questions-and-answers.html"> <span style="font-size: large;">9.</span>Unix basic interview Q&A</a> </td>

</tr>
</tbody></table>
<br />
<b>Q.</b> Can you write a Unix script that archives files that are older tahn 7 days from a folder say /data/csv? The number of files in the folder /data/csv needs to be split into a group of 10 files. For example, if you had 25 *.csv files under the folder /data/csv, 3 tar files containing 10, 10, and 5  will be created.
<br />
<br />
<b>A</b>. Firstly, define a configuration file that contains the  source dir, archive dir, how many days old, and split size. For example
<br />
<br />
<b>zip.cfg file
</b><br />
<br />
<pre class="brush: csharp">/cygdrive/c/data/csv         /cygdrive/c/data/csv/zip     +7    10
</pre>
<br />
<br />
Now, the shell script<b> zip.sh </b>file that reads the zip.cfg and archives the files.
<br />
<br />
<pre class="brush: csharp">#!/bin/ksh

TODAY=`date '+%Y%m%d'`
SPLITPREFIX="/cygdrive/c/temp/abcdef_split"

#routine to split files in batch of say 10 and archive them
splitandzip () {
      rm $SPLITPREFIX*
      echo "cd $1; ls  | split -l $2 - $SPLITPREFIX; counter=1"
      cd $1; ls  | split -l $2 - $SPLITPREFIX; counter=1
      ls -l $SPLITPREFIX*
      cat $SPLITPREFIX*
      
      # This loop returns all files in the 'targetdir' directory; sed removes any leading ./ sequences
      for FILENAME in $(/usr/bin/find $SPLITPREFIX* | sed 's/^\.\///'); do
        cat  $FILENAME | xargs echo
           cat $FILENAME  | xargs tar -cvf $1$TODAY'_'$counter'.tar'
     cat $FILENAME | xargs rm -f
           ((counter=counter+1))
      done
}

CFG=$1
echo "Reading config file..... "$CFG

SCRIPTDIR=`pwd`

while read SOURCEDIR TARGETDIR WAITTIME SPLITSIZE
do
     ARCHIVEDIR="$TARGETDIR$TODAY/"
     mkdir $ARCHIVEDIR
     echo  " housekeeping....." $SOURCEDIR $ARCHIVEDIR $WAITTIME $SPLITSIZE
     cd $SOURCEDIR
  #move the files that are older than x days into the archive dire
  find  .  -name . -o -type f  -prune -type f -mtime $WAITTIME -exec mv {} $ARCHIVEDIR \;  ;cd $SCRIPTDIR
     splitandzip $ARCHIVEDIR $SPLITSIZE
done &lt; $CFG

</pre>
<br />
<br />
Finally, you run the above script as shown below.
<br />
<br />
<pre class="brush: csharp">sh logs_zip.sh hk_zip.cfg
</pre>
<br />
<br />
The commands used above are 
<br />
<br />
<span style="font-size: large;"><b>Split command
</b></span><br />
<br />
<pre class="brush: csharp">ls  | split -l 2 - split_prefix
</pre>
<br />
<br />
<b>-l</b>: number of files<br />
&nbsp;<b>-</b>: input file is from the standard input<br />
The last argument is the split file name.
<br />
<br />
The "ls" list the file names and the split command takes 2 file names at a time and creates files with names like  <b>split_prefixaa</b>, <b>split_prefixab</b>, <b>split_prefixac</b>, etc and these files contains maximum 2 names from the ls. For example
<br />
<br />
File split_prefixab contents<br />
<br />
<pre class="brush: csharp">my_file1.csv
myfile2.csv
</pre>
<br />
<br />
<span style="font-size: large;"><b>Find command</b></span><br />
<br />
<br />
<br />
<pre class="brush: csharp">find  .  -name . -o -type f  -prune -type f -mtime +2 -exec mv {} /out/archive \;
</pre>
<br />
<br />
-name : anything <br />
-type: file<br />
-o: Boolean OR <br />
-mtime : older than 2 days <br />
-exec: execute mv command <br />
{} : selected files to the archive folder /out/archive<br />
<br />
<br />
<span style="font-size: large;"><b>Xargs Command</b></span><br />
<br />
<br />
<pre class="brush: csharp">ls  | xargs tar -cvf test.tar'
</pre>
<br />
<br />
'ls' (i.e. list) the file names in the current directory, and <b>xargs </b>loops through each listed file and adds it to the tar file test.tar that it creates with the<b> -c</b> option.
<br />
<br />
<br />
<br />
<span style="font-size: large;"><b>More...
</b></span><br />
<br />
In the above example, it has been used as shown below for each split file. The sed command is used to substitute ./ with / 
<br />
<br />
<pre class="brush: csharp">     for FILENAME in $(/usr/bin/find $SPLITPREFIX* | sed 's/^\.\///'); do
        cat  $FILENAME | xargs echo
           cat $FILENAME  | xargs tar -cvf $1$TODAY'_'$counter'.tar'
     cat $FILENAME | xargs rm -f
           ((counter=counter+1))
      done
   
</pre>
<br />
<br />
<pre class="brush: csharp">SCRIPTDIR=`pwd`
</pre>
<br />
<br />
`pwd` means, execute the pwd command to list the present working directory and store the value into a variable name SCRIPTDIR.

<br />
<br />
The following code reads each line from the zip.cfg file, which has 4 fields separated by spaces.
<br />
<br />
<pre class="brush: csharp"> while read SOURCEDIR TARGETDIR WAITTIME SPLITSIZE
 do

  #....do somrthing here

  done &lt; zip.cfg
</pre>
<br />
<br />
<b>Note</b>: If you are running on Window, you can practice the above code by downloading the <span style="font-size: large;"><b>MobaXterm</b></span>, which is a free Unix emulator for Windows. You need to download the files MobaXterm_Personal_5.0.exe, MobaXterm.ini, and for the korn shell download the plugin Pdksh.mxt3. Put all this files under a same folder and create a short-cut for MobaXterm_Personal_5.0.exe to start the MobaXterm window.
 <div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/UNIX">UNIX</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/unix-interview-questions-splitting-and.html" title="permanent link"> 5/27/2013 10:25:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/unix-interview-questions-splitting-and.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/unix-interview-questions-splitting-and.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/05/unix-interview-questions-splitting-and.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=8402892386366050256" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=8402892386366050256&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 24, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="4441732704571924907"></a>
    
         
    


    <h3 class="post-title">
	 
	 Java new I/O Interview Questions and Answers
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//--&gt;
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>

<br />
<br/>
The Java New IO is very powerful and it is all about performance!, performance!!, and performance!!!. But, you need to get your head around how the buffers work. Here are some questions and answers that will help you do that.


<b>Q</b>. How does the Java NIO (i.e New IO) introduced in Java version 1.4 differ from the old IO?<br />
<b>A</b>. The <b>NIO </b>is all about better performance.<br />
<br />
<table border="2" style="width: 100%;">
<tbody>
<tr>
<td style="text-align: center;"><b>IO</b></td>
<td style="text-align: center;"><b>NIO (New IO)</b></td>
</tr>
<tr>
<td><b>Stream oriented</b>. This means that you read one or more bytes at a time, from a stream. What you do with the read bytes is up to you. They are not cached anywhere. Furthermore, you cannot move forward and back in the data in a stream. If you need to move forward and back in the data read from a stream, you will need to buffer yourself first. <br />
<br /></td>
<td><b>Buffer oriented</b>. This means better performance. Data is read into a buffer from which it be processed later. You can move forward and back in the buffer. This gives you a bit more flexibility during processing. However, you also need to check if the buffer contains all the data you need in order to fully process it. </td>
</tr>
<tr>
<td><b>Blocking IO</b>. This means when a thread invokes a read() or write(), that thread is blocked until there is some data to read, or the data is fully written. The thread can do nothing else in the meantime. <br />
<br /></td>
<td><b>Non blocking IO</b>. This means better performance. NIO's non-blocking mode enables a thread to request reading data from a channel, and only get what is currently available, or do nothing at all, if no data is currently available. Rather than remain blocked until data becomes available for reading, the thread can proceed with doing something else.</td>
</tr>
<tr>
<td>You need to create additional threads to read and write data in 
parallel. More threads means more CPU context switching and consuming 
more thread stacks.</td>
<td><b>Selectors</b>.&nbsp; This also means better performance. NIO's selectors allow a single thread to monitor multiple channels of input. You can register multiple channels with a selector, then use a single thread to "select" the channels that have input available for processing, or select the channels that are ready for writing. This selector mechanism makes it easy for a single thread to manage multiple channels. This is also known as multiplexing. The Apache MINA package is based on Java NIO to write high performance networking applications. For example, a TCP server.</td>
</tr>
</tbody></table>
<br />
Here is the<b> diagrammatic overview</b>:<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-_4yVpQSRkqc/UZmAlGrwGOI/AAAAAAAABgQ/syspf6sbwT4/s1600/Java-NIO-1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="312" src="http://3.bp.blogspot.com/-_4yVpQSRkqc/UZmAlGrwGOI/AAAAAAAABgQ/syspf6sbwT4/s640/Java-NIO-1.jpg" width="640" /></a></div>
<br />
<br />
<b>Q</b>. How do you manipulate the buffer in NIO?<br />
<b>A</b>. The NIO buffer&nbsp; has following <b>3 state variables</b> -- <b>position</b>, <b>limit</b>, and <b>capacity</b><br />
<br />
<ul>
<li><b>position</b>: The position value keeps track of how much you have gotten from the buffer. It specifies from which array element the next byte will come. Thus, if you've written 1 bytes as shown below with shaded area to a channel from a buffer, that buffer's position will be set to 1 (starting from 0), referring to the second element of the array as shown in the diagram.</li>
<li><b>limit</b>: The limit variable specifies how much room there is left to put data into -- in the case of reading from a channel into a buffer or how much data there is left to get -- in the case of writing from a buffer into a channel. The position is always less than, or equal to, the limit. The limit is 3 (counting from 0) in the diagram below.</li>
<li><b>capacity</b>:&nbsp; The capacity of a buffer specifies the maximum amount of data that can be stored in the underlying array. The limit can never be larger than the capacity. The capacity is 6 (counting from 0) in the diagram below.<a href="http://2.bp.blogspot.com/-IN6S1TeyIZg/UZmIFMJpj4I/AAAAAAAABg4/1d3oSEmxJ1A/s1600/Java-NIO-2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="390" src="http://2.bp.blogspot.com/-IN6S1TeyIZg/UZmIFMJpj4I/AAAAAAAABg4/1d3oSEmxJ1A/s640/Java-NIO-2.jpg" width="640" /></a></li>
</ul>
<div class="separator" style="clear: both; text-align: center;">
</div>
<br />
In the above diagram, the position starts with 0, and after reading 1 byte, it becomes 1 byte, and the limit value of 3 states that there are 2 more bytes to be read.&nbsp; <b><br /></b><br />
<br />
<br />
<b>Q</b>. What do you understand by terms flip( ) and clear( ) in NIO?<br />
<b>A</b>. <br />
<br />
<b>Flip</b><br />
<br />
When you are ready to write your data to an output channel. You must call the flip() method. This method does two key things:<br />
<br />
1. It sets the limit to the current position.<br />
2. It sets the position to 0.<br />
<br />
You are now ready to begin writing data to a channel from the buffer starting from 0 to the limit. <br />
<br />
<br />
<b>Clear</b><br />
<br />
After you have done your writes, the final step is to call the buffer's clear() method. This method resets the buffer in preparation for receiving more bytes. Clear does two key things:<br />
<br />
1. It sets the limit to match the capacity.<br />
2. It sets the position to 0.<br />
<br />
<br />
Also, the <b>get </b>and <b>put </b>methods are used to get and put data to and from the buffer respectively. some coding examples are discussed in <a href="http://java-success.blogspot.com.au/2013/05/java-io-interview-questions-and-answers.html">Java I/O interview Questions and Answers</a>.<br />
<br />
<br />
<b>Q.</b> What is in the NIO.2 package introduced in Java 7?<br />
<b>A</b>. The more New I/O APIs for the Java Platform (NIO.2) in Java 7 enhance the New I/O APIs (NIO) introduced in Java 1.4 by adding

<br />
<br />
<ul>
<li>The four asynchronous channels to the java.nio.channels package.&nbsp;</li>
<li>&nbsp;The java.io.File class is upgraded to the <b>java.nio.file.Path</b> that allows logical manipulating of paths in memory without accessing the file system.</li>
<li>The NIO.2 associates the notion of metadata like is hidden, is it a directory, size, access control, etc with attributes and provides access to them through the <b>java.nio.file.attribute </b>package. Since different file systems have different notions about which attributes should be tracked, NIO.2 groups the attributes into views, each of which maps to a particular file system implementation. </li>
<li>The NIO.2 provides support for both hard links and symbolic links and the <b>Path </b>class knows how to detect a link and will behave in the default manner if no configuration of behavior is specified. </li>
<li>The NIO.2 comes with a set of brand new methods for managing files and directories, such as create, read, write, move, delete, and so on. The most of these tasks are found in the <b>java.nio.file.Files</b> class.</li>
<li>The <b>FileVisitor </b>interface introduced in Java 7 makes recursing through directories and files a breeze. </li>
<li>The<b> Watch Service API</b> was introduced in Java 7 (NIO.2) as a thread-safe service that is capable of watching&nbsp; a directory for changes to its content through actions such as create, delete, and modify. This means, with NIO.2, you no longer need to poll the file system for changes or use other in-house solutions to monitor the file system changes.</li>
<li>Java 7 (NIO.2) introduces a new interface for working with Random Access Files with its SeekableByteChannel and an interface named NetworkChannel that provides network channel classes for tetworking.</li>
</ul>
<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Java%20I%2FO">Java I/O</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/java-new-io-interview-questions-and.html" title="permanent link"> 5/24/2013 11:33:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/java-new-io-interview-questions-and.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/java-new-io-interview-questions-and.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/05/java-new-io-interview-questions-and.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=4441732704571924907" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=4441732704571924907&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 23, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="3762161212441241106"></a>
    
         
    


    <h3 class="post-title">
	 
	 Writing cross platform compatible Java code
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//--&gt;
</script>

<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>

<br/>
<br/>


Java is cross platform language in the sense that a compiled Java program runs on all platforms for which there exists a JVM like  Windows, Mac OS and Unix. Having said this, there are scenarios where the Java programmers need to code things carefully. Experienced Java programmers will be well placed to answer the following question.<br />
<br />
<br />
<b>Q</b>. Can you list some of the cross platform issues that a Java programmer needs to be mindful of based on your experience? <br />
<b>A</b>. 

<br />
<br />
<span style="font-size: large;"><span style="color: #38761d;">1</span>. <span style="color: #38761d;">Carriage return and new line characters across different platforms.</span></span>
<br />
<br />
If you are processing file like a CSV file and you need to parse the text line by line you need to be aware of the new line characters across different operating systems.
<br />
<br />
<pre class="brush: csharp">Windows: \r\n 
Unix: \n 
Mac: \r
</pre>
<br />
<br />
Here is an example of the split function in Java that will work across different platforms. In Java extra "\" is used as an escape character.
<br />
<br />
<pre class="brush: csharp">  String[] split = fileInput.split("\\r?\\n");
</pre>
<br />
<br />
There are other areas like in the formatter classes 
<br />
<br />
<pre class="brush: csharp">String s2 = String.format("Use %%n as a platform independent newline.%n"); 
</pre>
<br />
<br />
You can also get the line separator via
<br />
<br />
<pre class="brush: csharp">System.getProperty("line.separator");
</pre>
<br />
<br />
and in Java 7
<br />
<br />
<pre class="brush: csharp">System.lineSeparator() ;
</pre>
<br />
<br />
<div style="color: #38761d;">
<span style="font-size: large;">2. The File path separator
</span></div>
<br />
The Windows uses "\" and the Unix systems use the "/" as the file path separator. So, you need to be careful construction file paths like
<br />
<br />
<pre class="brush: csharp">File file = new File(parentDirectory + "\" + resourceDirectory + "\" + fileName);
</pre>
<br />
<br />
Instead, you should use&nbsp;
<br />
<br />
<pre class="brush: csharp">File file = new File(parentDirectory + File.separator  + resourceDirectory +  File.separator  + fileName);
</pre>
<br />
<br />
The File.separator will take care of the cross platform compatibility by using correct separator for the platform. What is even <b>better is to nest your File construction </b>with the "public File(String parent,
String child)" constructor.
<br />
<br />
<pre class="brush: csharp">File dir = new File(parentDirectory, resourceDirectory);
File file = new File(fileName);
File finalFile = new File(dir, file);
</pre>
<br />
<br />
<div style="color: #38761d;">
<span style="font-size: large;">3. Threading priorities
</span></div>
<br />
Threading priorities is another thing to consider across platforms. Other OS like Solaris for example has more thread priorities than windows. So, if you are working heavily on multi-threading, OS is something that may affect the program's behavior.
<br />
<br />
<div style="color: #38761d;">
<span style="font-size: large;">4. Using Native Code
</span></div>
<br />
Using native code (via JNI) can cause cross platform issues.
<br />
<br />
<div style="color: #38761d;">
<span style="font-size: large;">5. Beware of the System class
</span></div>
<br />
System.getProperty("os.name") is clearly OS <span style="font-size: small;">dependent</span>. The other most common one is System.exec() as it calls another application from your system, and you should know if the application you are calling works across other systems. 
<br />
<br />
<br />
Even though Java is touted to be a Write Once Run Anywhere (WORA) type programming language, one needs to be aware of the above potential issues and test it properly across other platforms.<span style="font-size: large;"> <span style="font-size: small;">Watch out for these gotchas in code review<span style="font-size: small;">s.&nbsp;</span></span></span><br />
<br />
<div style="color: #6aa84f;">
<span style="font-size: large;"><b>6. Character sets&nbsp;</b></span></div>
<br />
<span style="font-size: large;"><span style="font-size: small;"><span style="font-size: small;">When converting bytes to String or reading a file in different environments, it is imperative that we use the right character sets. Otherwise, you can have cross platform issues like character displayed properly in a Win32 platform, but not in a Unix platform and vice versa.</span></span></span><br />
<br />
So, instead of<br />
<br />
<pre class="brush: csharp">String str = new String(bytes);
</pre>
<br />
<br />
Use with proper character encoding like
<br />
<br />
<pre class="brush: csharp">String str = new String(bytes, "utf-8");
</pre>
<br />
Also, instead of 
<br />
<br />
<pre class="brush: csharp">   FileInputStream fis = new FileInputStream("specialcharacters.txt");  
   InputStreamReader irs = new InputStreamReader(fis);  
   ... 
</pre>
<br />
<br />
<pre class="brush: csharp">   FileInputStream fis = new FileInputStream("specialcharacters.txt");  
   InputStreamReader irs = new InputStreamReader(fis,"utf-8");  
   ... 
</pre>
<br />
<br />
You can also set it via JVM runtime argument as shown below

<br />
<br />
<pre class="brush: csharp">java MyApp -Dfile.encoding=ISO-8859-1
</pre>
<br />
<br />
Recently <b>UTF-8 has become the default encoding on many systems</b>, but sometimes you have to deal with files originating from older systems with other encodings. ASCII is an encoding that uses 7 bits in mapping all US characters in saving the bytes into file. The UTF-8 was designed for backward compatibility with ASCII and to avoid the complications of endianness and byte order marks in UTF-16 and UTF-32The most useful and practical file encoding today is "UTF-8" because it support Unicode, and it's widely used in internet. UTF-8 encodes each of the 1,112,064 code points in the Unicode character set using one to four 8-bit bytes. The UTF-8 has become the dominant character encoding for the World-Wide Web.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Coding">Coding</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Platform">Platform</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/writing-cross-platform-compatible-java.html" title="permanent link"> 5/23/2013 10:15:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/writing-cross-platform-compatible-java.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/writing-cross-platform-compatible-java.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=3762161212441241106" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=3762161212441241106&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 22, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="8490501044108148741"></a>
    
         
    


    <h3 class="post-title">
	 
	 JMeter for testing RESTFul web services by posting JSON data and how to use BeanShell
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//--&gt;
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>

<br/>
<br/>


We looked at <a href="http://java-success.blogspot.com/2011/10/jmeter-interview-questions-and-answers.html">JMeter tutorial with detailed steps in an earlier tutorial</a>. This is a brief extension to cover JSON post. Now a days, a single page interactive web sites are very popular, and they post JSON based data back to the server to create a new record or to update an existing record.<br />
<br />
<b>Step 1</b>: Firstly, you need to set up the header "Content-Type" to "application/json" as shown below. <br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-QB09R7CVcCo/UWjI-yI4jwI/AAAAAAAABbo/l_iZHhB6FY4/s1600/jmeter-json-post.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="484" src="http://2.bp.blogspot.com/-QB09R7CVcCo/UWjI-yI4jwI/AAAAAAAABbo/l_iZHhB6FY4/s640/jmeter-json-post.JPG" width="640" /></a></div>
<br />
<b>Step 2</b>: Specify the URL path and paste the relevant JSON data that gets posted as shown below.<br />
&nbsp;Also, make sure that the HTTP verb used ia a "POST". <br />
<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-0QQY-sqEPUo/UWjJHw_df9I/AAAAAAAABbw/2OZ_I99AaXY/s1600/jmeter-json-post2.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="398" src="http://4.bp.blogspot.com/-0QQY-sqEPUo/UWjJHw_df9I/AAAAAAAABbw/2OZ_I99AaXY/s640/jmeter-json-post2.JPG" width="640" /></a></div>
<br />
Now, there will be scenarios where posting a static JSON data is not good enough, and you will require to manipulate the JSON data. Here are steps to acheve this with<br />
<br />
<div style="color: #38761d;">
<span style="font-size: large;"><b>BeanShell </b>Sampler and <b>BeanShell PostProcessor</b> to manipulate JSON data within JMeter</span></div>
<br />
<b>Step 1</b>: Download a Java based JSON library jar to encode and decode JSON data. In this example, I am using the<b> json-simple</b> library that can be downloaded from<a href="http://code.google.com/p/json-simple/"> code-google</a>.<br />
<br />
<b>Step 2</b>: Copy the downloaded jar file "json-simple-x.x.x.jar" to JMeter lib folder C:\myapps\apache-jmeter-2.9\lib.<br />
<br />
<b>Step 3</b>: Restart the JMeter. Add a <b>Bean Shell Sampler </b>by right clicking and then selecting <b>Add </b>--&gt; <b>Sampler </b>--&gt; <b>Bean Shell</b> Sampler.<br />
<br />
To the Bean Shell sampler add a sample static JSON data as shown below, which we would manipulate in the next step.<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-U-K94Z-FZmw/UYniefzjdSI/AAAAAAAABew/eQGU_rr_18Y/s1600/BeanShellSampler-1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="270" src="http://1.bp.blogspot.com/-U-K94Z-FZmw/UYniefzjdSI/AAAAAAAABew/eQGU_rr_18Y/s400/BeanShellSampler-1.jpg" width="400" /></a></div>
<br />
<br />
<pre class="brush: csharp">String dummyJSON =" {\"id\":7787}";
SampleResult.setResponseData(dummyJSON);
</pre>
<br />
<br />
<b>Step 4</b>: Now, add Bean Shell Processor as a child as shown above in the diagram, and the code will use the library we added in step 1.<br />
<br />
<pre class="brush: csharp">import org.json.simple.JSONObject;
import org.json.simple.JSONValue;

String jsonString = prev.getResponseDataAsString();
System.out.println(jsonString);

//decode string to json object
JSONObject jsonObj = JSONValue.parse(jsonString);

//add another object
jsonObj.put("name","Peter") ;
System.out.println(jsonObj);

//encode and put it into jmeter variables with a variable name "jsonResponse"
vars.put("jsonResponse", jsonObj.toString());
</pre>
<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-FEpE9XH5H3c/UYnj3YBuQKI/AAAAAAAABe8/U_7oU9hXGnU/s1600/BeanShellSampler-2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="260" src="http://3.bp.blogspot.com/-FEpE9XH5H3c/UYnj3YBuQKI/AAAAAAAABe8/U_7oU9hXGnU/s400/BeanShellSampler-2.jpg" width="400" /></a></div>
<br />
<b>Step 5</b>: Finally, in the HTTP sampler, use the variable "jsonResponse", which has the dynamically created (or modified) <b>jsonResponse </b>as a variable. For example:<b> ${jsonResponse}.</b><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-43qsMSLOLMg/UYnk3v4hpNI/AAAAAAAABfI/GWsW7r7r-OI/s1600/BeanShellSampler-3.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="236" src="http://2.bp.blogspot.com/-43qsMSLOLMg/UYnk3v4hpNI/AAAAAAAABfI/GWsW7r7r-OI/s400/BeanShellSampler-3.jpg" width="400" /></a></div>
<br />
<br />
That's all to it. It has not only demonstrated how to manipulate JSON data, but also how to use Bean Shell to add coding power and flexibility to JMeter.<br />
<br /><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/JMeter">JMeter</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Performance">Performance</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Testing">Testing</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/jmeter-for-testing-restful-web-services.html" title="permanent link"> 5/22/2013 08:54:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/jmeter-for-testing-restful-web-services.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/jmeter-for-testing-restful-web-services.html#comment-form;><span style="text-transform:lowercase">2 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=8490501044108148741" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=8490501044108148741&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 21, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="8117878426600786517"></a>
    
         
    


    <h3 class="post-title">
	 
	 Java I/O -- the Decorator and proxy design pattern interview questions and answers
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//--&gt;
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>

<br/>
<br/>

<b>Q.</b> Can you explain the decorator design pattern?<br />
<b>A.</b> By implementing the <b>decorator </b>pattern you construct a wrapper around an object by extending its behavior. The wrapper will do its job before or after and delegate the call to the wrapped instance. The decoration happens at <b>run-time</b>. In Java, the <u>wrapper classes</u> like Integer, Double, etc are typical example of a decorator pattern. Another good example is the<u> Java I/O classes</u> as shown below. Each reader or writer will decorate the other to extend or modify the behavior.<br />
<br />
<pre class="brush: csharp">String inputText = "Some text to read";
ByteArrayInputStream bais = new ByteArrayInputStream(inputText.getBytes());
Reader isr = new InputStreamReader(bais);
BufferedReader br = new BufferedReader(isr);
br.readLine(); 
</pre>
<br />
<br />
As you can see, each reader extends the behavior at run-time. This is the power of<b> object composition </b>as opposed to inheritance. By composing a fewer classes at run-time, desired behavior can be created. Here is another example demonstrating an interleaved reading using a class from the Apache library.<br />
<br />
<pre class="brush: csharp">import java.io.*;
import org.apache.commons.io.input.TeeInputStream;

class InterleavedReadingFromFile {
    public static void main(String[] args) throws IOException {

        // Create the source input stream.
        InputStream is = new FileInputStream("c:\temp\persons.txt");

        // Create a piped input stream for one of the readers.
        PipedInputStream in = new PipedInputStream();

        // Create a tee-splitter for the other reader. This is from the Apache library
        TeeInputStream tee = new TeeInputStream(is, new PipedOutputStream(in));

        // Create the two buffered readers.
        BufferedReader br1 = new BufferedReader(new InputStreamReader(tee));
        BufferedReader br2 = new BufferedReader(new InputStreamReader(in));

        // You can now do interleaved reads
        System.out.println("1 line from br1");
        System.out.println(br1.readLine());


        System.out.println("2 lines from br2:");
        System.out.println(br2.readLine());
        System.out.println(br2.readLine());
        System.out.println();

        System.out.println("1 line again from br1:");
        System.out.println(br1.readLine());
        System.out.println();
  
   }
}

</pre>
<br />
<b>Q</b>. Can you write a class using the decorator design pattern to print numbers from 1-10, and then decorators that optionally print only even or odd numbers?<br />
<b>A</b>. <a href="http://java-success.blogspot.com/2013/05/java-coding-interview-questions-on.html">Java decorator pattern </a><br />
<br />
<br />
<b>Q.</b> How does a decorator design pattern differ from a proxy design pattern?<br />
<b>A</b>. In <b>Proxy </b>pattern, you have a proxy and a real subject. The relationship between a proxy and the real subject is typically set at compile time, whereas decorators can be recursively constructed at run time. The Decorator Pattern is also known as the Wrapper pattern. The Proxy Pattern is also known as the Surrogate pattern. The purpose of decorator pattern is to add additional responsibilities to an object. These responsibilities can of course be added through inheritance, but composition provides better flexibility as explained above via the Java I/O classes. The purpose of the proxy pattern is to add an intermediate between the client and the target object. This intermediate shares the same interface as the target object. Here are some scenarios in which a proxy pattern can be applied.<br />
<br />
<ul>
<li>A <b>remote proxy</b> provides a local representative for an object in a different address space.Providing interface for remote resources such as web service or REST resources or EJB using RMI. </li>
<li>A<b> virtual proxy</b> creates expensive object on demand.</li>
<li>A <b>protection proxy</b> controls access to the original object.Protection proxies are useful when objects should have different access rights.</li>
<li>A <b>smart reference </b>is a replacement for a bare pointer that performs additional actions when an object is accessed.</li>
<li><b>Adding a thread-safe feature</b> to an existing class without changing the existing class's code. This is useful when you do not have the freedom to fix thread-safety issues in a third-party library.</li>
</ul>
The proxy design pattern is explained with a dynamic proxy class to gather performance results in the blog entitled&nbsp; <a href="http://java-success.blogspot.com/2012/03/java-interview-questions-and-answers.html">Java Interview Questions and Answers - performance testing your Java application.</a><br />
<br />
<br />
<br />
<b>Q.</b> Can you list some of the best practices relating to Java I/O<br />
<b>A.</b><br />
<ol>
<li>As demonstrated in <a href="http://java-success.blogspot.com/2013/05/java-io-interview-questions-and-answers.html">Java I/O interview Questions</a>, it is a good practice to close all instances of java.io.Closeable in a finally block.</li>
<li>Use BufferedReader and BufferedWriter to increase efficiency because IO performance depends a lot from the buffering strategy.&nbsp;</li>
<li> Favor NIO over old IO because the old I/O is stream oriented and uses a
 blocking IO, whereas the NIO (aka New IO) is Buffer oriented, uses Non 
blocking I/O and has selectors.&nbsp; </li>
<li>To avoid issues like "the file reading works in Windows but not in Unix", use java.io.File constructors instead of working with file names as String. The <b>FilenameUtils </b>class in Apache. commons IO handles issues relating to operating systems.&nbsp;</li>
<li>Apache <b>FileUtils </b>class is&nbsp; very handy for touching, copying, moving, deleting, calculating the checksum, calculating last modified date, listing and filtering directories, comparing file content, etc.</li>
</ol>

<br/>
<br/>

<h2>Other design patterns - real life examples</h2>

<ul>

<li><a href="http://java-success.blogspot.com/2012/10/sharing-and-reusing-objects-with.html">Sharing and reusing objects with the flyweight design pattern in Java</a>
</li>
<li><a href="http://java-success.blogspot.com/2013/09/when-to-use-builder-design-pattern-real.html">When to use a builder design pattern? real life tips</a></li>
<li><a href="http://java-success.blogspot.com/2013/08/deadlock-retry-with-jdk-dynamic-proxy.html">Deadlock Retry with JDK Dynamic Proxy</a></li>
<li><a href="http://java-success.blogspot.com/2013/05/proxy-design-pattern-implementing.html">Proxy design pattern implementing thread safe wrappers</a></li>
<li><a href="http://java-success.blogspot.com/2013/03/java-design-pattern-interview-questions.html">Java design pattern interview questions and answers: strategy and factory pattern</a></li>
<li><a href="http://java-success.blogspot.com/2012/10/sharing-and-reusing-objects-with.html">Sharing and reusing objects with the flyweight design pattern in Java</a></li>
<li><a href="http://java-success.blogspot.com/2011/12/design-patterns-interview-questions-and.html">Observer design pattern for publish/Subscribe model</a></li>
</ul>


<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/design%20pattern">design pattern</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Java%20I%2FO">Java I/O</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/java-io-and-decorator-and-proxy-design.html" title="permanent link"> 5/21/2013 11:03:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/java-io-and-decorator-and-proxy-design.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/java-io-and-decorator-and-proxy-design.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=8117878426600786517" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=8117878426600786517&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  





  
     
  <!-- Begin .post -->
  <div class="post"><a name="8687422020838223074"></a>
    
         
    


    <h3 class="post-title">
	 
	 Java Coding Interview Questions on decorator  and composition design pattern
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><br />
<b>Q</b>. When would you use a decorator design pattern<b>?</b><br />
<b>A. </b>The Decorator pattern should be used when:<br />
<ul>
<li>&nbsp;&nbsp;&nbsp; Object responsibilities and behaviors should be dynamically modifiable</li>
<li>&nbsp;&nbsp;&nbsp; Concrete implementations should be decoupled from responsibilities and behaviors </li>
</ul>
<br />
<b>Q.</b> Can you write a class using the decorator design pattern to
 print numbers from 1-10, and then decorators that optionally print only
 even or odd numbers?<br />
<b>A. </b>This can be done by sub classing or via inheritance. But too much sub classing is definitely a bad thing. Composition is more powerful than sub classing as you can get different behaviors via decorating at run time. Here is the code, you will realize the power of object composition and why <b>GoF design patterns</b> favors composition to inheritance. <br />
<br />
<br />
<b>Step 1</b>: Define the interface class.<br />
<br />
<pre class="brush: csharp">package com.arul;

public interface NextNumber
{
    abstract int getNextNumber();
}
</pre>
<br />
<br />
<b>Step 2</b>: Define the implementation classes. The class that gets the numbers.<br />
<br />
<pre class="brush: csharp">package com.arul;

public class PrintNumbers implements NextNumber
{
    protected int num;
    
    public PrintNumbers(int num)
    {
        this.num = num;
    }
    
    @Override
    public int getNextNumber()
    {
        return ++num; // incremented, assigned, and then returned
    }
    
}
</pre>
<br />
<b>Step 3</b>: The class that gets the odd numbers.<br />
<br />
<pre class="brush: csharp">package com.arul;

public class PrintOddNumbers implements NextNumber
{
    
    protected final NextNumber next;
    
    public PrintOddNumbers(NextNumber next)
    {
        if (next instanceof PrintEvenNumbers)
        {
            throw new IllegalArgumentException("Cannot be decorated with " + PrintEvenNumbers.class);
        }
        this.next = next;
        
    }
    
    @Override
    public int getNextNumber()
    {
        int num = -1;
        
        if (next != null)
        {
            
            num = next.getNextNumber();
            //keep getting the next number until it is odd
            while (num % 2 == 0)
            {
                num = next.getNextNumber();
            }
        }
        
        return num;
    }
    
}

</pre>
<br />
<b>Step 4</b>: The class that gets the even numbers<br />
<br />
<pre class="brush: csharp">package com.arul;

public class PrintOddNumbers implements NextNumber
{
    
    protected final NextNumber next;
    
    public PrintOddNumbers(NextNumber next)
    {
        if (next instanceof PrintEvenNumbers)
        {
            throw new IllegalArgumentException("Cannot be decorated with " + PrintEvenNumbers.class);
        }
        this.next = next;
        
    }
    
    @Override
    public int getNextNumber()
    {
        int num = -1;
        
        if (next != null)
        {
            
            num = next.getNextNumber();
            //keep getting the next number until it is odd
            while (num % 2 == 0)
            {
                num = next.getNextNumber();
            }
        }
        
        return num;
    }
    
}
</pre>
<br />
<b>Step 5</b>: The class that gets the multiples of 3s<br />
<br />
<pre class="brush: csharp">package com.arul;

public class PrintMultipleOfThreeNumbers implements NextNumber
{
    
    protected final NextNumber next;
    
    public PrintMultipleOfThreeNumbers(NextNumber next)
    {
        this.next = next;
    }
    
    @Override
    public int getNextNumber()
    {
        int num = -1;
        
        if (next != null)
        {
            
            num = next.getNextNumber();
            //keep getting the next number until it is odd
            while (num % 3 != 0)
            {
                num = next.getNextNumber();
            }
        }
        
        return num;
    }
    
}

</pre>
<br />
<br/>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//--&gt;
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>

<br/>
<br/>
<br/>
<b>Step 6</b>:&nbsp; Finally, a&nbsp; sample file that shows how the above classes can be decorated at <b>run time</b> using object composition to get different outcomes. Additional&nbsp; implementations of <i>NextNumber&nbsp; </i>like <i>PrintPrimeNumbers</i>, <i>PrintMultiplesOfSeven</i>,&nbsp; <i>PrintFibonacciNumber</i>, etc can be added using the <b>Open-Closed design principle</b>.<br />
<br />
<pre class="brush: csharp">package com.arul;

public class TestNumbersWithDecorators
{
    public static void main(String[] args)
    {
        
        //without decorators
        PrintNumbers pn = new PrintNumbers(0);
        for (int i = 0; i &lt; 10; i++)
        {
            System.out.print(pn.getNextNumber() + " "); // print next 10 numbers
        }
        
        System.out.println();
        
        PrintNumbers pn2 = new PrintNumbers(0);
        //print odd numbers with decorators
        PrintOddNumbers pOdd = new PrintOddNumbers(pn2); // decorates pn2
        for (int i = 0; i &lt; 10; i++)
        {
            System.out.print(pOdd.getNextNumber() + " "); //print next 10 odd numbers
        }
        
        System.out.println();
        
        PrintNumbers pn3 = new PrintNumbers(0);
        //print even numbers with decorators
        PrintEvenNumbers pEven = new PrintEvenNumbers(pn3); // decorates pn3
        for (int i = 0; i &lt; 10; i++)
        {
            System.out.print(pEven.getNextNumber() + " "); //print next 10 even numbers
        }
        
        System.out.println("");
        
        PrintNumbers pn4 = new PrintNumbers(0);
        //print odd numbers with decorators
        PrintOddNumbers pOdd2 = new PrintOddNumbers(pn4); // decorates pn4
        //print multiples of 3 with decorators
        PrintMultipleOfThreeNumbers threes = new PrintMultipleOfThreeNumbers(pOdd2); // decorates pOdd2
        for (int i = 0; i &lt; 10; i++)
        {
            System.out.print(threes.getNextNumber() + " "); // print next 10 odd numbers
                                                            // that are multiple of threes
        }
        
        System.out.println("");
        
        PrintNumbers pn5 = new PrintNumbers(0);
        //print even numbers with decorators
        PrintEvenNumbers pEven2 = new PrintEvenNumbers(pn5); // decorates pn5
        //print multiples of 3 with decorators
        PrintMultipleOfThreeNumbers threes2 = new PrintMultipleOfThreeNumbers(pEven2); // decorates pEven2
        
        for (int i = 0; i &lt; 10; i++)
        {
            System.out.print(threes2.getNextNumber() + " ");  // print next 10 even numbers
                                                             // that are multiple of threes
        }
        
        System.out.println("");
        
        PrintNumbers pn6 = new PrintNumbers(0);
        //print multiples of 3 with decorators
        PrintMultipleOfThreeNumbers threes3 = new PrintMultipleOfThreeNumbers(pn6); // decorates pn6
        //print even numbers with decorators
        PrintEvenNumbers pEven3 = new PrintEvenNumbers(threes3); // decorates threes3
        
        for (int i = 0; i &lt; 10; i++)
        {
            System.out.print(pEven3.getNextNumber() + " ");  // print next 10 multiple of threes
                                                            // that are even numbers
        }
        
    }
}

</pre>
The output of running the above class is<br />
<br />
<pre class="brush: csharp">1 2 3 4 5 6 7 8 9 10 
1 3 5 7 9 11 13 15 17 19 
2 4 6 8 10 12 14 16 18 20 
3 9 15 21 27 33 39 45 51 57 
6 12 18 24 30 36 42 48 54 60 
6 12 18 24 30 36 42 48 54 60 
</pre>
<br />
<br /><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Coding">Coding</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/design%20pattern">design pattern</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/OO">OO</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/java-coding-interview-questions-on.html" title="permanent link"> 5/21/2013 09:44:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/java-coding-interview-questions-on.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/java-coding-interview-questions-on.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=8687422020838223074" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=8687422020838223074&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 16, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="8983166922412429347"></a>
    
         
    


    <h3 class="post-title">
	 
	 Java I/O Interview Questions and Answers
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>Java I/O interview questions are popular with some interviewers, especially the job you are applying for requires file processing. The Java NIO (stands for New I/O) package was introduced in Java version 4 and NIO2 was released in Java version 7.<br />
<br />
<b>Q</b>. Why do you need to favor NIO (i.e. New I/O) to old I/O? <br />
<b>A</b>.&nbsp; A <b>stream-oriented I/O </b>(or old I/O) deals with data one byte at a time. An input stream produces one byte of data, and an output stream consumes one byte of data. It is very easy to create filters and chain several filters together so that each one does its part in what amounts to a single, sophisticated<br />
processing mechanism. On the flip side, stream-oriented I/O is often rather slow.<br />
<br />
A<b> block-oriented I/O</b> system deals with data in blocks. The New I/O consumes a block of data in one step. Processing data by the block can be much faster than processing it by byte (i.e. streamed). But block-oriented I/O lacks some of the elegance and simplicity of stream-oriented I/O.<br />
<br />
<br />
The examples below read the content of this file and print it to a console. In reality, you can do whatever you want once you have read it like mapping to Java POJOs, etc. <br />
<br />
<b>Q</b>. Can you describe different ways in which you can read data from a file?<br />
<b>A</b>. Files can be read a number of ways. Here is a sample file named person.csv in a folder c:\temp\tlm.<br />
<br />
<pre class="brush: csharp">FirstName, Surname, Age
John,Smith, 35
Peter,John, 28
Shirley,John,34
</pre>
<br />
<br />
<div style="color: #38761d;">
<span style="font-size: large;">1. The I/O way using a BufferedReader</span></div>
<br />
<br />
<pre class="brush: csharp">package com.arul;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

/**
 * This is a slower way using the old io
 */
public class ReadFileOldIOWay
{ 
    public static void main(String[] args) throws IOException
    {
        BufferedReader br = null;
        String sCurrentLine = null;
        try
        {
            br = new BufferedReader(
                    new FileReader("c:/temp/tlm/person.csv"));
            while ((sCurrentLine = br.readLine()) != null)
            {
                System.out.println(sCurrentLine); // for demo only. use log.info(...) instead
            }
        }
        catch (IOException e)
        {
            e.printStackTrace(); // quick &amp; dirty for demo only
        }
        finally
        {
            if (br != null)
            {
                br.close();
            }       
        }
    }
}
</pre>
<br />
<br />
<br />
<span style="color: #38761d; font-size: large;">2. The nio way using a ByteBuffer for smaller files</span><br />
<br />
<pre class="brush: csharp">package com.arul;

import java.io.IOException;
import java.io.RandomAccessFile;
import java.nio.ByteBuffer;
import java.nio.channels.FileChannel;

/**
 * This is using the nio ByteBuffer for smaller files
 */
public class ReadFileWithByteBuffer
{
    public static void main(String args[]) throws IOException
    {
        RandomAccessFile aFile = null;
        try
        {
            aFile = new RandomAccessFile(
                    "c:/temp/tlm/person.csv", "r");
            FileChannel inChannel = aFile.getChannel();
            long fileSize = inChannel.size();
            ByteBuffer buffer = ByteBuffer.allocate((int) fileSize);
            inChannel.read(buffer);//read the first header line
            buffer.flip();//The limit is set to the current position
            while (buffer.hasRemaining())
            {
                System.out.print((char) buffer.get()); // for demo only. use log.info(...) instead 
            }
            
            inChannel.close();
            
        }
        catch (IOException exc)
        {
            exc.printStackTrace(); //quick &amp; dirty for demo only
            System.exit(1);
        }
        finally
        {
            aFile.close();
        }
    }
}
</pre>
<br />
<br />
<br />
<div style="color: #38761d;">
<span style="font-size: large;">3. The nio way using a ByteBuffer with chunking for larger files</span></div>
<br />
<br />
<pre class="brush: csharp">package com.arul;

import java.io.IOException;
import java.io.RandomAccessFile;
import java.nio.ByteBuffer;
import java.nio.channels.FileChannel;

/**
 * This is using the nio ByteBuffer chunking for larger files
 */
public class ReadFileWithByteBufferInChunksForLargerFiles
{
    public static void main(String args[]) throws IOException
    {
        RandomAccessFile aFile = null;
        try
        {
            aFile = new RandomAccessFile(
                    "c:/temp/tlm/person.csv", "r");
            FileChannel inChannel = aFile.getChannel();
            ByteBuffer buffer = ByteBuffer.allocate(18);
            while (inChannel.read(buffer) &gt; 0)
            {
                
                buffer.flip();
                while (buffer.hasRemaining())
                {
                    System.out.print((char) buffer.get()); // for demo only. use log.info(...) instead
                }
                buffer.clear();
            }
            
            inChannel.close();
            
        }
        catch (IOException exc)
        {
            exc.printStackTrace(); //quick &amp; dirty for demo only
            System.exit(1);
        }
        finally
        {
            aFile.close();
        }
    }
}
</pre>
<br />
<br />
<span style="color: #38761d; font-size: large;">4. The nio way using a MappedByteBuffer for better performance, but beware of the file size </span><br />
<br />
<pre class="brush: csharp">package com.arul;

import java.io.IOException;
import java.io.RandomAccessFile;
import java.nio.MappedByteBuffer;
import java.nio.channels.FileChannel;

/**
 * This is a faster way using the nio MappedByteBuffer
 */

public class ReadFileWithMappedByteBufferWay
{
    public static void main(String[] args) throws IOException
    {
        RandomAccessFile aFile = null;
        
        try
        {
            aFile = new RandomAccessFile
                    ("c:/temp/tlm/person.csv", "r");
            FileChannel inChannel = aFile.getChannel();
            MappedByteBuffer buffer = inChannel.map(FileChannel.MapMode.READ_ONLY, 0, inChannel.size());
            buffer.load();
            for (int i = 0; i &lt; buffer.limit(); i++)
            {
                System.out.print((char) buffer.get()); // for demo only. use log.info(...) instead
            }
            buffer.clear(); // do something with the data and clear/compact it.
            inChannel.close();
        }
        finally
        {
            aFile.close();
        }
    }
}
</pre>
<br />
<br />
The output for all the above alternatives is
<br />
<br />
<pre class="brush: csharp">FirstName, Surname, Age
John,Smith, 35
Peter,John, 28
Shirley,John,34
</pre>
<br />
<br />
The nio package is very efficient as it uses buffering and non blocking I/O with selectors compared to the old I/O.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Core%20Java">Core Java</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Java%20I%2FO">Java I/O</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/java-io-interview-questions-and-answers.html" title="permanent link"> 5/16/2013 10:17:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/java-io-interview-questions-and-answers.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/java-io-interview-questions-and-answers.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=8983166922412429347" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=8983166922412429347&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 15, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="1973878457994664741"></a>
    
         
    


    <h3 class="post-title">
	 
	 Spring security pre-authentication scenario - Part2
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>In <a href="http://java-success.blogspot.com/2013/05/spring-security-pre-authentication.html"><b>Part 1</b>, I covered configuring Spring security</a>. Here we will see how we can protect the controller and the service class methods by defining what roles are allowed.<br />
<br />
<br />
Firstly, you can protect your controller as shown below.<br />
<br />
<br />
Define the URLs to be protected in the ssoContext.xml file something like<br />
<br />
<pre class="brush: csharp">&lt;http auto-config="false" access-decision-manager-ref="springAccessDecisionManager" 
  once-per-request="true" create-session="ifRequired" entry-point-ref="MyAppAuthenticationEntryPoint"&gt;
  
  &lt;session-management invalid-session-url="/j_spring_security_logout" /&gt;
  &lt;!-- TODO: Would be cleaner if we didn't have to enumerate every role that can access some URL in the system. Consider hierarchical roles --&gt;
  &lt;intercept-url pattern="/**/*.css*" filters="none" /&gt;
  &lt;intercept-url pattern="/**/*.js*" filters="none" /&gt;
  &lt;intercept-url pattern="/**/*.png*" filters="none" /&gt;
  &lt;intercept-url pattern="/**/codemapping.rpc" access="ROLE_admin,ROLE_viewer" /&gt; 
  &lt;intercept-url pattern="/**/generalLedgerService.rpc" access="ROLE_admin" /&gt;
  &lt;intercept-url pattern="/**/MyAppAdjustment.html" access="ROLE_admin,ROLE_viewer" /&gt;
  &lt;intercept-url pattern="/**/CodeMapping.html" access="ROLE_admin,ROLE_viewer" /&gt;
  &lt;intercept-url pattern="/**/myapp_test.html" access="ROLE_admin" /&gt;
  &lt;custom-filter ref="siteminderFilter" position="PRE_AUTH_FILTER" /&gt;
  &lt;access-denied-handler ref="accessDeniedHandler"/&gt; 
       
        ....    
    
&lt;/http&gt;
</pre>
<br />
<br />
In the Spring MVC controller, you can use the annotation as shown below.<br />
<br />
<pre class="brush: csharp">   @RolesAllowed(
    {
        "ROLE_viewer", "ROLE.standard", "ROLE_senior"
    
    })
    @RequestMapping(value = "/portfolio/{portfoliocd}/details.csv", method = RequestMethod.GET, produces = "text/csv")
    @ResponseBody
    public void getCashForecastCSV(
            @PathVariable(value = "portfoliocd") String portfolioCode,
            @RequestParam(value = "valuationDate", required = true) @DateTimeFormat(pattern = "yyyyMMdd") Date valuationDate,
            HttpServletResponse response) throws Exception
    {
 
 
   //..............................
 
     }
 
</pre>
<br />
<br />
<br />
The service class methods can be protected by declaring the following in your spring context file where the methods reside.<br />
<br />
<pre class="brush: csharp"> &lt;!-- comment this line locally to bypass seurity access control in development. But don't check this in commented as security will be turned off --&gt;
 &lt;security:global-method-security secured-annotations="enabled" pre-post-annotations="enabled" jsr250-annotations="enabled"/&gt;
</pre>
<br />
<br />
Once declared, you can protect your service class methods as shown below.<br />
<br />
<pre class="brush: csharp">    @RolesAllowed(
    {
        "ROLE_viewer", "ROLE_standard", "ROLE_senior"
    
    })
    @Override
    public ReconciliationResult getReconciliations(ReconciliationCriteria criteria)
    {
    //........................
 }
 
</pre>
<br />
<br /><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/security">security</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring">Spring</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring%20security">Spring security</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/spring-security-pre-authentication_15.html" title="permanent link"> 5/15/2013 10:12:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/spring-security-pre-authentication_15.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/spring-security-pre-authentication_15.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=1973878457994664741" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=1973878457994664741&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 9, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="5639273909671355657"></a>
    
         
    


    <h3 class="post-title">
	 
	 Notepad++ plugin for viewing JSON data and other benefits
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><b>Q</b>. Why is Notepad++ is a very handy tool?<br />
<b>A.</b>&nbsp; Notepad++ is a very handy developer tool. Here are some of the productivity benefits of Notepad++.<br />
<br />
<ul>
<li>&nbsp;to view source code as a free and light weight source code editor that runs in Windows environment. You can also use it to view log files and other text data. </li>
<li>It can be used for syntax highlighting, line numbering, search and replace with or without regular expressions, modified file detection, file search, etc.&nbsp;</li>
</ul>
<br />
<b><span style="color: #38761d;">Working with JSON data</span></b><br />
<br />
Recently, I had to work a lot with JSON data, and stumbled across a very handy plugin for Notepadd++ called "<b>JSONViewer Notepad++</b>", which allows you to format JSON data and view them as a tree structure. Here are the simple setps to install this plugin.<br />
<br />
<b>Step 1</b>: Download the plugin as a zip file from the <a href="http://sourceforge.net/projects/nppjsonviewer/">source-forge site</a>. <br />
<br />
<b>Step 2</b>: Unzip the downloaded file and extract out the "NPPJSONViewer.dll" file.<br />
<br />
<b>Step 3</b>: Copy this file to the plugins folder in your Notepad++ installation folder, and restart your Notepad++. for example "c:\myapps\Notepad++\5.9\plugins".<br />
<br />
<b>Step 4</b>: When you open up your Notepad++, you will see the "JSONViewer" sub menu under the "<b>Plugins</b>" on the top main menu. You can format the JSON text by highlighting your text first and then clicking on <b>Plugins</b> --&gt; <b>JSON Viewer</b> --&gt; <b>Format JSON</b>.<br />
<br />
<br />
<b><span style="color: #38761d;">Extracting data</span></b><br />
<br />
If you had some tab limited data like
<br />
<br />
<pre class="brush: csharp">FirstName Surname Age
John  Smith 25
Peter  Warren 35
Lisa  Jenkins 28
</pre>
<br />
<br />
and if you want to extract out all the first names, you can invoke the column mode by pressing "<b>Alt</b>" key and then select the "FirstName" column with the mouse selection. Alternatively, you can use the "Alt+Shift+Arrow Key" to select the column entries you need. These options are under the&nbsp; "Edit --&gt; Column Mode" on the top menu.<br />
<br />
<b><span style="color: #38761d;">Finding and replacing values with Regular expressions</span></b><br />
<br />
If you have some comma delimited data as shown below
<br />
<br />
<pre class="brush: csharp">FirstName,Surname,middlename
John,Smith 
Peter,Warren,James 
Lisa,Jenkins
</pre>
<br />
<br />
where the middle name is optional, and you want to convert the<b> comma delimited</b> data to <b>tab delimited</b> data.This is where Notepad++ 's regex based find and replace comes in handy.<br />
<br />
<b>Step 1</b>: Select "<b>Search --&gt;</b> <b>Find</b>" from the top menu.<br />
<b>Step 2</b>: click on "<b>Replace</b>" tab.<br />
<b>Step 3</b>: Tick "Match case" if required and select "Regular Expression" option.<br />
<b>Step 4</b>: Enter the relevant&nbsp; regular expressionsfor the "Find What" and "Replace With".<br />
<br />
<br />
<b>Find What</b>: ([A-Z][a-z]*),([A-Z][a-z]*)(.*)<br />
<b>Replace With</b>: \1\t\2\t\3<br />
<br />
Where \1, etc are groups and \t is for tab delimiting.<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-i3rYiGqjAA0/UYmpihqDQaI/AAAAAAAABec/uGZf0-X5Z4g/s1600/Notepad-find-replace-with-regex.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="235" src="http://3.bp.blogspot.com/-i3rYiGqjAA0/UYmpihqDQaI/AAAAAAAABec/uGZf0-X5Z4g/s400/Notepad-find-replace-with-regex.jpg" width="400" /></a></div>
<br />
<br />
<br />
You can use the "<b>Find In files</b>" tab to replace multiple files. I use this feature to search for files that has certain text (i.e. grep). This is a bulk find and replace capability. It also has other bulk features like "<b>File </b>--&gt; <b>Save all</b>" open files.<br />
<br />
<br />
<div style="color: #38761d;">
<b>Split views, file comparisons and synchronized scrolling</b></div>
<br />
Select&nbsp; <b>View </b>--&gt;&nbsp; <b>Move/Clone Current Document</b> to create split views to compare two files side by side. On split views you can select <b>Plugins </b>--&gt; <b>Compare </b>--&gt; <b>compare </b>to highlight the differences or select <b>View </b>--&gt; <b>Synchronize Vertical Scrolling </b>to scroll both views in tandem.<br />
<br />
<br />
<div style="color: #38761d;">
<b>Language feature to highlight reserved key words</b></div>
<br />
Setting the language of the file like Java, JavaScript, etc via <b>Language </b>--&gt; <b>J</b> --&gt; <b>Java </b>or <b>JavaScript</b> will help you easily visually distinguish between functions, reserved words, comments, text, and other types of symbols and expressions in your code. <br />
<br />
<br />
The latest Notepad++ version should have a <b>TextFx </b>menu to tidy up HTML tags to be XHTML compliant. You can also automate any monotonous tasks you do repeatedly with the <b>Macros</b>. It can also synchronize files with&nbsp; Subversion (i.e. SVN). Hence Notepad++ is a powerful open-source developer tool that makes you more productive.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Notepad">Notepad</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Tools">Tools</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/notepad-plugin-for-viewing-json-data.html" title="permanent link"> 5/09/2013 10:42:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/notepad-plugin-for-viewing-json-data.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/notepad-plugin-for-viewing-json-data.html#comment-form;><span style="text-transform:lowercase">1 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=5639273909671355657" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=5639273909671355657&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 7, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="8578701410983879945"></a>
    
         
    


    <h3 class="post-title">
	 
	 Spring security pre-authentication scenario - Part1
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>Spring security pre-authentication scenario assumes that a valid authenticated user is available via&nbsp; either Single Sign On (SSO) applications like Siteminder, Tivoli, etc or a X509 certification based authentication. The Spring security in this scenario will only be used for authorization.<br />
<br />
The example shown below retrieves the user name via the HTTP headers.<br />
<br />
<b>Step 1:&nbsp; </b>The dependency jars that are required<b>.</b><br />
<br />
<pre class="brush: csharp"> &lt;dependency&gt;
   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
   &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;
   &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
   &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;
   &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
   &lt;artifactId&gt;spring-security-acl&lt;/artifactId&gt;
   &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
   &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;
   &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;
  &lt;/dependency&gt;
</pre>
<br />
<br />
<b>Step 2</b>: Define the Spring security filter via the web.xml file.<br />
<br />
<pre class="brush: csharp">     ....

    &lt;!-- The definition of the Root Spring Container shared by all Servlets and Filters --&gt;
 &lt;context-param&gt;
  &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
  &lt;param-value&gt;/META-INF/spring/applicationContext.xml&lt;/param-value&gt;
 &lt;/context-param&gt;
 
 
 
 &lt;!-- Spring Security --&gt;
 &lt;filter&gt;
  &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;
  &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy &lt;/filter-class&gt;            
 &lt;/filter&gt;
 
 &lt;filter-mapping&gt;
  &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;
  &lt;url-pattern&gt;/myapp/*&lt;/url-pattern&gt;
 &lt;/filter-mapping&gt;
 
    ....
 
 </pre>
<br />
<br />
<b>Step 3</b>: The servlet filter configured above will make use of a spring context file like&nbsp; <b>ssoContext.xml</b> to define the authorization sequences. The ssoContext file can be imported via the <b>applicationContext.xml </b>file bootstrapped via the web.xml file.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:cache="http://www.springframework.org/schema/cache"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:aop="http://www.springframework.org/schema/aop" 
    xmlns:jee="http://www.springframework.org/schema/jee" 
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:util="http://www.springframework.org/schema/util"
    xmlns:batch="http://www.springframework.org/schema/batch"
    xsi:schemaLocation="
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd
            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd
            http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-3.1.xsd"&gt;
    
    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;

    &lt;context:annotation-config /&gt;
    
    &lt;import resource="myServerContext.xml" /&gt; 
 &lt;import resource="security/ssoContext.xml" /&gt; 
    
&lt;/beans&gt;


</pre>
<b>Step 4</b>: The<b> ssoContext.xml</b> is defined below showing how the user can be retrieved from HTTP header <b>SM_USER</b> for site minder and passed to your own implementation to retrieve the roles (aka authorities). All the classes configured below are Spring classes except for the <b>UserDetailsServiceImpl</b>, which is used to retrieve the authorities.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans:beans xmlns="http://www.springframework.org/schema/security"
 xmlns:beans="http://www.springframework.org/schema/beans"
 xmlns:security="http://www.springframework.org/schema/security"
 xmlns:context="http://www.springframework.org/schema/context"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
                   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd  
                      http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd"&gt;


    &lt;context:component-scan base-package="com.myapp.dao.security" /&gt;
    &lt;context:component-scan base-package="com.myapp.model.security" /&gt;

 &lt;beans:bean id="springVoter"
  class="org.springframework.security.access.vote.RoleVoter" /&gt;
 &lt;beans:bean id="springAccessDecisionManager"
  class="org.springframework.security.access.vote.AffirmativeBased"&gt;
  &lt;beans:property name="allowIfAllAbstainDecisions"
   value="false" /&gt;
  &lt;beans:property name="decisionVoters"&gt;
   &lt;beans:list&gt;
    &lt;beans:ref local="springVoter" /&gt;
   &lt;/beans:list&gt;
  &lt;/beans:property&gt;
 &lt;/beans:bean&gt;


    &lt;http auto-config="false"   entry-point-ref="preAuthenticatedProcessingFilterEntryPoint"&gt;
      &lt;security:custom-filter position="PRE_AUTH_FILTER" ref="siteminderFilter" /&gt;
      &lt;intercept-url pattern="/**/details.csv*" access="ROLE_viewer, ROLE_standard, ROLE_senior" /&gt; 
      &lt;logout logout-url="/j_spring_security_logout" logout-success-url="https://smlogin-dev.myapp.net/siteminderagent/ssologout/Logout.html" invalidate-session="true" /&gt; 
 &lt;/http&gt; 
 
 
 &lt;beans:bean id="preAuthenticatedProcessingFilterEntryPoint" class="org.springframework.security.web.authentication.Http403ForbiddenEntryPoint"/&gt;

 &lt;beans:bean id="siteminderFilter"
  class="org.springframework.security.web.authentication.preauth.RequestHeaderAuthenticationFilter"&gt;
  &lt;beans:property name="principalRequestHeader" value="SM_USER" /&gt;
  &lt;beans:property name="authenticationManager" ref="authenticationManager" /&gt;
  &lt;beans:property name="exceptionIfHeaderMissing" value="false" /&gt;
 &lt;/beans:bean&gt;

 &lt;security:authentication-manager alias="authenticationManager"&gt;
  &lt;security:authentication-provider
   ref="preauthAuthProvider" /&gt;
 &lt;/security:authentication-manager&gt;

 &lt;beans:bean id="preauthAuthProvider"
  class="org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider"&gt;
  &lt;beans:property name="preAuthenticatedUserDetailsService"&gt;
   &lt;beans:bean id="userDetailsServiceWrapper"
    class="org.springframework.security.core.userdetails.UserDetailsByNameServiceWrapper"&gt;
    &lt;beans:property name="userDetailsService" ref="myUserDetailsService" /&gt;
   &lt;/beans:bean&gt;
  &lt;/beans:property&gt;
 &lt;/beans:bean&gt;

 &lt;beans:bean id="myUserDetailsService" class="com.myapp.UserDetailsServiceImpl"&gt;
  &lt;beans:property name="appCd" value="appName" /&gt;
 &lt;/beans:bean&gt;
 

&lt;/beans:beans&gt;

</pre>
<br />
<b>Step 5</b>: Define the class <b>UserDetailsServiceImpl </b>class that needs to implement the Spring interface <b>UserDetailsService </b>and the required method &nbsp; "public UserDetails <b>loadUserByUsername</b>(String username)". The returned model object&nbsp; "<b>UserDetails</b>" is a Spring class as well.<br />
<br />
<pre class="brush: csharp">package com.myapp.security;

import java.util.ArrayList;
import java.util.Collection;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Required;
import org.springframework.dao.DataAccessException;
import org.springframework.security.core.GrantedAuthority;
import org.springframework.security.core.authority.GrantedAuthorityImpl;
import org.springframework.security.core.userdetails.User;
import org.springframework.security.core.userdetails.UserDetails;
import org.springframework.security.core.userdetails.UserDetailsService;
import org.springframework.security.core.userdetails.UsernameNotFoundException;

public class UserDetailsServiceImpl implements UserDetailsService 
{
 final static Logger LOG = LoggerFactory.getLogger(UserDetailsServiceImpl.class);
 
 protected String  appCd;
 
 public UserDetailsServiceImpl()  {}

 @Required
 public void setAppCd(String appCd)
 {
  if ( appCd != null &amp;&amp; appCd.length() &gt; 0 )
           this.appCd = appCd;
 }
    
    // override
    public UserDetails loadUserByUsername(String username)
            throws UsernameNotFoundException, DataAccessException 
    {
      
         String role = "ROLE_viewer"  ;  //hard coded, in real life retrieved via database or LDAP
         GrantedAuthorityImpl au_impl = new GrantedAuthorityImpl(role);
         Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();
         authorities.add(au_impl);
         
         User usr = new User(username, "", true, true, true, true, authorities);
         return usr;
         
    }
}

</pre>
<br />
<br />
The <a href="http://java-success.blogspot.com/2013/05/spring-security-pre-authentication_15.html">part-2 will cover </a>annotating your Java methods and the URLs that intercept the calls to verify the roles (or authorities) returned for a given user against the roles allowed for a method or URL.
<br />
<br />
<br /><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/security">security</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring">Spring</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring%20security">Spring security</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/spring-security-pre-authentication.html" title="permanent link"> 5/07/2013 11:21:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/spring-security-pre-authentication.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/spring-security-pre-authentication.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=8578701410983879945" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=8578701410983879945&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">May 3, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="5906026298860791577"></a>
    
         
    


    <h3 class="post-title">
	 
	 Wiring up Spring framework Dependency Injection with annotations
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><b>Q13</b>. How will you go about wire components using Spring annotations? <br />
<b>A13</b>. Here are the high level steps involved in wiring up a web application in Spring using annotations.<br />
<br />
<b>web.xml</b> --&gt; <b>myAppServletContext.xml </b>--&gt; <b>myapp-applicationContext.xml </b>--&gt; <b>MyAppController.java </b>--&gt; <b>MyAppService.Java </b>--&gt; <b>MyAppDaoImpl.java</b><br />
<br />
Pay attention to how the different artifacts are wired up using both Spring xml files and annotations. The Spring beans can be wired either by <b><u>name</u> </b>or <b><u>type</u></b>. <b>@Autowired </b>by default is a type driven injection.<b> </b>@Autowired is Spring annotation<b>, </b>while @Inject is a JSR-330 annotation<b>. @Inject is </b>equivalent to @Autowired or @Autowired(required=true).<b> @Qualifier</b> spring annotation can be used to further fine-tune auto-wiring. There may be a situation when you create more than one bean of the same type and want to wire only one of them with a property, in such case you can use <b>@Qualifier</b> annotation along with <b>@Autowired </b>to remove the confusion by specifying which exact bean will be wired.<br />
<br />
The Step 3: demonstrates "name" driven wiring up using annotations.<br />
<br />
<b>Step 1</b>: The <b>web.xml f</b>ile snippet.<br />
<br />
<!-- INFOLINKS_OFF -->

<br />
<pre class="brush: csharp"> &lt;servlet&gt;
  &lt;servlet-name&gt;myAppServlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
  &lt;init-param&gt;
   &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
   &lt;param-value&gt;/META-INF/spring/myAppServletContext.xml&lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;
 &lt;/servlet&gt;

  &lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;
    &lt;listener&gt;
  &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
    &lt;/listener&gt;

  &lt;-- add resolvers here, if required--&gt;
  
 &lt;servlet-mapping&gt;
  &lt;servlet-name&gt;myAppServlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/myapp/*&lt;/url-pattern&gt;
 &lt;/servlet-mapping&gt;
</pre>
<br />
<b>Step 2</b>: The myAppServletContext.xml file snippet.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
 xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:cache="http://www.springframework.org/schema/cache"
 xmlns:context="http://www.springframework.org/schema/context"
 xmlns:aop="http://www.springframework.org/schema/aop" xmlns:jee="http://www.springframework.org/schema/jee"
 xmlns:tx="http://www.springframework.org/schema/tx" xmlns:util="http://www.springframework.org/schema/util"
 xmlns:batch="http://www.springframework.org/schema/batch" xmlns:cm="http://camel.apache.org/schema/spring"
 xsi:schemaLocation="
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd
            http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd
            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
         http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd 
         http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd 
            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd
            http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-3.1.xsd"&gt;

 
    &lt;!-- import context files as it is not a best practice to define everything in one xml file--&gt;
 &lt;import resource="classpath:/META-INF/spring/myapp-applicationContext.xml" /&gt;
 
 &lt;!-- scan for any Java based wiring up classes with @Configuration &amp; @Bean annotations --&gt;
 &lt;context:component-scan base-package="com.myapp.camel.config" /&gt;
 
 
 &lt;!-- exposing beans via JMX  not important for this tutorial --&gt;
 &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"
  lazy-init="false"&gt;
  &lt;property name="autodetect" value="true"&gt;&lt;/property&gt;
  &lt;property name="namingStrategy" ref="namingStrategy"&gt;&lt;/property&gt;
  &lt;property name="assembler" ref="assembler"&gt;&lt;/property&gt;
 &lt;/bean&gt;
 &lt;bean id="attributeSource"
  class="org.springframework.jmx.export.annotation.AnnotationJmxAttributeSource" /&gt;
 &lt;bean id="assembler"
  class="org.springframework.jmx.export.assembler.MetadataMBeanInfoAssembler"&gt;
  &lt;property name="attributeSource" ref="attributeSource" /&gt;
 &lt;/bean&gt;
 &lt;bean id="namingStrategy"
  class="org.springframework.jmx.export.naming.MetadataNamingStrategy"&gt;
  &lt;property name="attributeSource" ref="attributeSource" /&gt;
 &lt;/bean&gt;

&lt;/beans&gt;
</pre>
<br />
<b>&nbsp;Step 3</b>: The myapp-applicationContext.xml snippet with config to enable auto-scan with annotations.<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-a3FD6pKIRuw/UYcloOnapGI/AAAAAAAABdg/6TLHo6NA31Q/s1600/Spring+annotations.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-a3FD6pKIRuw/UYcloOnapGI/AAAAAAAABdg/6TLHo6NA31Q/s400/Spring+annotations.jpg" height="161" width="400" /></a></div>
<br />
<br />
As you can see, the controller, service, and DAO layer classes not configured here as they are scanned via annotation (i,e @Component is the parent annotation from which the other annotations like @Service, @Resource, @Repository etc are defined)<br />
<br />
The annotations shown above allow you to declare beans that are to be picked up by autoscanning with <b>&lt;context:component-scan/&gt; </b>or <b>@ComponentScan</b>. <br />
<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
 xmlns:context="http://www.springframework.org/schema/context"
 xmlns:aop="http://www.springframework.org/schema/aop" xmlns:jee="http://www.springframework.org/schema/jee"
 xmlns:tx="http://www.springframework.org/schema/tx" xmlns:util="http://www.springframework.org/schema/util"
    xmlns:security="http://www.springframework.org/schema/security"
 xmlns:batch="http://www.springframework.org/schema/batch" xmlns:task="http://www.springframework.org/schema/task"
 xmlns:mvc="http://www.springframework.org/schema/mvc"
 xsi:schemaLocation="
   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
   http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
   http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd
   http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd
   http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
   http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd
   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
   http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd
   http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd"&gt;


 &lt;mvc:annotation-driven /&gt;
 &lt;context:annotation-config /&gt;
 
 &lt;!-- load properties files --&gt;
 &lt;bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt;
   &lt;property name="ignoreUnresolvablePlaceholders" value="true"/&gt; 
      &lt;property name="location" value="classpath:/myapp/myapp.properties"/&gt;
     &lt;property name="placeholderPrefix" value="$myapp{"/&gt;
  &lt;property name="placeholderSuffix" value="}"/&gt;
 &lt;/bean&gt; 

 
    &lt;!-- any packages to exclude for component scanning--&gt;
 &lt;context:component-scan base-package="com.myapp"&gt;
  &lt;context:exclude-filter type="regex" expression="com.myapp.camel.config.MyAppCamelConfig"/&gt;
 &lt;/context:component-scan&gt;
 
 &lt;!-- comment this line locally to bypass security access control in development. But don't check this in commented as security will be turned off --&gt;
 &lt;!-- Spring security--&gt;
 &lt;security:global-method-security secured-annotations="enabled" pre-post-annotations="enabled" jsr250-annotations="enabled"/&gt;
 
&lt;/beans&gt;
</pre>
<br />
<br />
<context:component-scan></context:component-scan><br />
<b>Step 4: </b>The controller class that handles HTTP requests. Annotations are used to wire up dependencies.<b></b><br />
<br />
<pre class="brush: csharp">@Controller
public class MyAppController
{
    
    
    private final MDCLoggingHelper MDCLoggingHelper = new MDCLoggingHelper();
    
  
    @Resource(name = "myapp_Service")
    private MyAppService myAppService; 
 
    
  @RequestMapping(
            value = "/portfolio/{portfoliocd}/summaries",
            method = RequestMethod.GET,
            produces = "application/json")
    @ResponseBody
    public PortfolioSummaryVO retrievePortfolioSummary(
            @PathVariable(value = "portfoliocd") String portfolioCode,
            @RequestParam(value = "valuationDate", required = true) @DateTimeFormat(pattern = "yyyyMMdd") Date valuationDate
            HttpServletResponse response) throws Exception
    {
 
   //..................
 }
 
}
</pre>
<br />
<b><br /></b>
<b><br /></b>
<b>Step 5: </b>The service class that handles business logic in a protocol agnostic manner. Annotations are used to wire up dependencies.<br />
<br />
<pre class="brush: csharp">@Service(value = "myapp_Service")
@Transactional(propagation = Propagation.SUPPORTS)
public class CashForecastServiceImpl implements CashForecastService
{
    
 @Resource(name = "myapp_Dao")
    private MyAppDao myAppDao;
 
 @Value("$cf{myapp.file_delimiter}")
    private String defaultFeedDelimiter; //read from myapp.properties files
 
  @Override
    public PortfolioSummaryVO  retrievePortfolioSummaries(MyAppPortfolioCriteria criteria,
            FeedFileMetaInfo feedFileMeta) {
 
        //.............. 
 }
}
</pre>
<br />
<b>Step 6: </b>The DAO class that makes database calls via a JDBC template. The configuration of JDBC template is not shown.


<br />
<br />
<pre class="brush: csharp">@Repository(value = "myapp_Dao")
public class CashForecastDaoImpl implements CashForecastDao
{
    
    @Resource(name = "myapp_JdbcTemplate")
    private JdbcTemplate jdbcTemplateSybase;//configure via jdbcContext.xml
 
 
  public PortfolioSummaryVO  retrievePortfolioSummaries(MyAppPortfolioCriteria criteria) {
      //............
  }
 
}

</pre>
<br />
The <b>@Configuration </b>annotation was designed as the replacement for XML configuration files. The @Configuration annotated classes can still able to use annotated(@Autowired, @Inject etc.) fields and properties to request beans (and even other @Configuration annotated beans too) from the container. Here is an example of how <a href="http://java-success.blogspot.com/2013/03/apache-camel-for-asynchronous-processing.html">Apache Camel is wired up using the @configuration and @bean annotations in Step 2</a>.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring">Spring</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/05/wiring-up-spring-framework-dependency.html" title="permanent link"> 5/03/2013 09:45:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/05/wiring-up-spring-framework-dependency.html#comment-form"location.href=http://java-success.blogspot.com/2013/05/wiring-up-spring-framework-dependency.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=5906026298860791577" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=5906026298860791577&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
   

</div></div>
<!-- End #main -->







<!-- Begin #sidebar -->
<div id="sidebar"><div id="sidebar2">

  
  
  <h2 class="sidebar-title">Previous Posts</h2>
    <ul id="recently">
    
        <li><a href="http://java-success.blogspot.in/2014/11/are-you-java-beginner-why-good-java.html">Are you a Java beginner? Why good Java developers ...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/11/java-exception-handling-beginner.html">Java exception handling beginner mistakes and best...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/11/unix-interview-questions-and-answers.html">Unix Interview Questions and Answers for Java deve...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/debugging-and-working-like-pro-with.html">Debugging and working  like a pro with a Java appl...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/yammer-metrics-to-monitor-restful-web_22.html">Yammer metrics to monitor RESTful web services and...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/when-to-use-which-java-collection-or.html">When to use which Java collection or data structur...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2011/09/how-to-prepare-for-javajee-job.html">How to prepare or train for Java and JEE Job Inter...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/yammer-metrics-to-monitor-restful-web.html">Yammer metrics to monitor RESTful web services wit...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/09/monitoring-and-gathering-statistics.html">Monitoring and gathering statistics with JMX based...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/08/what-are-different-ways-java-thread.html">What are the different ways a Java thread gets blo...</a></li>
     
  </ul>
  
  
  
  <h2 class="sidebar-title">Archives</h2>

    <ul class="archive-list">
   	  
    	<li><a href="http://java-success.blogspot.in/2006_10_01_archive.html">October 2006</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2006_11_01_archive.html">November 2006</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_05_01_archive.html">May 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_10_01_archive.html">October 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_12_01_archive.html">December 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2008_08_01_archive.html">August 2008</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_02_01_archive.html">February 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_10_01_archive.html">October 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_11_01_archive.html">November 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_12_01_archive.html">December 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_01_01_archive.html">January 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_07_01_archive.html">July 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_09_01_archive.html">September 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_10_01_archive.html">October 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_11_01_archive.html">November 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_12_01_archive.html">December 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_01_01_archive.html">January 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_02_01_archive.html">February 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_03_01_archive.html">March 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_04_01_archive.html">April 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_05_01_archive.html">May 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_06_01_archive.html">June 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_07_01_archive.html">July 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_08_01_archive.html">August 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_09_01_archive.html">September 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_10_01_archive.html">October 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_11_01_archive.html">November 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_12_01_archive.html">December 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_01_01_archive.html">January 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_02_01_archive.html">February 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_03_01_archive.html">March 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_04_01_archive.html">April 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_05_01_archive.html">May 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_06_01_archive.html">June 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_07_01_archive.html">July 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_08_01_archive.html">August 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_09_01_archive.html">September 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_10_01_archive.html">October 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_11_01_archive.html">November 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_12_01_archive.html">December 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_01_01_archive.html">January 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_02_01_archive.html">February 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_03_01_archive.html">March 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_04_01_archive.html">April 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_05_01_archive.html">May 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_06_01_archive.html">June 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_07_01_archive.html">July 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_08_01_archive.html">August 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_09_01_archive.html">September 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_10_01_archive.html">October 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_11_01_archive.html">November 2014</a></li>
	  

  </ul>
  
  
  
  <!-- Begin #profile-container -->
  
    <div id="profile-container"><h2 class="sidebar-title">About Me</h2>
<dl class="profile-datablock"><dt class="profile-img"><a href="https://plus.google.com/109240621969095737337"><img src="//lh3.googleusercontent.com/-XMLxx0v_R7A/AAAAAAAAAAI/AAAAAAAACxk/8BeHFmsEuy8/s80-c/photo.jpg" width="80" height="80" alt="My Photo"></a></dt>
<dd class="profile-data"><strong>Name:</strong> <a rel="author" href="https://plus.google.com/109240621969095737337"> Arulkumaran Kumaraswamipillai </a></dd>
</dl>
<p class="profile-textblock">Java freelancer from Australia. As a contractor, attended 100+ job interviews and received multiple job offers. Authored Java career books that sold over 30,000 copies.<br><br><a href="http://www.java-success.com" rel="nofollow" target="_blank">www.java-success.com</a> for 500+ Java/JEE job interview questions and answers and tutorials.<br></p>
<p class="profile-link"><a rel="author" href="https://plus.google.com/109240621969095737337">View my complete profile</a></p></div>
  
  <!-- End #profile -->

  
  <p id="powered-by"><a href="http://www.blogger.com"><img src="http://buttons.blogger.com/bloggerbutton1.gif" alt="Powered by Blogger" /></a></p>
  <p id="blogfeeds">Subscribe to<br />Posts [<a target="_blank" href="http://java-success.blogspot.com/feeds/posts/default" type="application/atom+xml">Atom</a>]</p>

  <script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>  
   
  <!--
  <p>This is a paragraph of text that could go in the sidebar.</p>
  -->
  
  <script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>  



</div></div>
<!-- End #sidebar -->




<!-- Begin #footer -->
<div id="footer"><hr />

  <p><!-- This is an optional footer. If you want text here, place it inside these tags, and remove this comment. -->&nbsp;</p>

  </div>
<!-- End #footer -->




</div>
<!-- End #content -->






</div></div></div></div>
<!-- End wraps -->

</body>
</html>
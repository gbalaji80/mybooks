<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
  <title>Java-Success Blog: August 2013</title>

  <link href='http://www.java-success.com' rel='canonical'/>

  <script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(l){}};this.tick("start",null,a)}var a,e;window.performance&&(e=(a=window.performance.timing)&&a.responseStart);var h=0<e?new c(e):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_","_wtsrt",
e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Blogger" />
<link rel="icon" type="image/vnd.microsoft.icon" href="https://www.blogger.com/favicon.ico"/>
<link rel="alternate" type="application/atom+xml" title="Java-Success Blog - Atom" href="http://java-success.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Java-Success Blog - RSS" href="http://java-success.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Java-Success Blog - Atom" href="https://www.blogger.com/feeds/35897879/posts/default" />
<link rel="stylesheet" type="text/css" href="https://www.blogger.com/static/v1/v-css/50269083-blog_controls.css"/>
<link rel="stylesheet" type="text/css" href="https://www.blogger.com/dyn-css/authorization.css?targetBlogID=35897879&zx=32ffd7df-5810-469f-a666-048e5011b3eb"/>
<script type="text/javascript" src="https://www.blogger.com/static/v1/v-js/979395223-backlink.js"></script>
<script type="text/javascript" src="https://www.blogger.com/static/v1/v-js/4080670514-backlink_control.js"></script>
<script type="text/javascript">var BL_backlinkURL = "https://www.blogger.com/dyn-js/backlink_count.js";var BL_blogId = "35897879";</script>


  <style type="text/css">
/*
-----------------------------------------------
Blogger Template Style
Name:     Harbor
Designer: Douglas Bowman
URL:      www.stopdesign.com
Date:     24 Feb 2004
----------------------------------------------- */


body {
  background:#fff url("http://www.blogblog.com/harbor/rocks.jpg") no-repeat right bottom;
  background-attachment:fixed;
  margin:0;
  padding:0;
  font:x-small Georgia,Serif;
  color:#333;
  font-size/* */:/**/small;
  font-size: /**/small;
  }
/* Commented Backslash Hack hides rule from IE5-Mac \*/
  body {background-attachment:scroll;}
  /* End IE5-Mac hack */
a:link {
  color:#36a;
  text-decoration:none;
  }
a:visited {
  color:#764;
  text-decoration:none;
  }
a:hover {
  color:#933;
  text-decoration:underline;
  }
a img {
  border-width:0;
  }


/* Page Structure
----------------------------------------------- */
#wrap {
  background:url("http://www.blogblog.com/harbor/sky.jpg") repeat-x left top;
  min-width:740px;
  margin:0;
  padding:0;
  text-align:left;
  }
#wrap2 {
  background:url("http://www.blogblog.com/harbor/lighthouse.jpg") no-repeat left top;
  }
#wrap3 {
  background:url("http://www.blogblog.com/harbor/cloud.jpg") no-repeat 100% 75px;
  }
#wrap4 {
  background:url("http://www.blogblog.com/harbor/center_cloud.jpg") no-repeat 50% 0;
  padding:15px;
  width:100%;
  width/* */:/**/auto;
  width: /**/auto;
  }
@media all {
  #content {
    max-width:890px;
    padding:0 30px 50px;
    width:100%;
    width/* */:/**/auto;
    width: /**/auto;
    }
  html>body #content {
    border:3px double #fff;
    }
  #main {
    width:64%;
    float:right;
    }
  #main2 {
    margin:0;
    padding:0;
    }
  #sidebar {
    width:32%;
    float:left;
    }
  #sidebar2 {
    margin:0;
    padding:170px 0 20px;
    }
  }
@media handheld {
  #content {
    width:90%;
    }
  #main {
    width:100%;
    float:none;
    }
  #sidebar {
    width:100%;
    float:none;
    }
  }

/* Header
----------------------------------------------- */
@media all {
  #header {
    padding:15px 0 10px 110px;
    }
  }
@media handheld {
  #header {
    width:100%;
    padding:15px 0 10px 0;
    }
  }
#blog-title {
  margin:0 0 .25em;
  font-size:270%;
  font-weight:normal;
  color:#678;
  }
#blog-title a {
  color:#678;
  text-decoration:none;
  }
#description {
  margin:0;
  max-width:700px;
  font-size:75%;
  line-height:1.8em;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#789;
  }


/* Headings
----------------------------------------------- */
h2 {
  margin:1.5em 0 .75em;
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#933;
  }


/* Posts
----------------------------------------------- */
.date-header {
  margin:2em 0 .5em;
  }
.post {
  margin:.5em 0 1.5em;
  line-height:1.6em;
  }
.post-title {
  margin:.25em 0 0;
  padding:0 0 4px;
  font-size:140%;
  font-weight:normal;
  line-height:1.4em;
  }
.post-title a, .post-title strong {
  background:url("http://www.blogblog.com/harbor/icon_lighthouse.gif") no-repeat 0 .15em;
  display:block;
  padding-left:20px;
  text-decoration:none;
  color:#368;
  font-weight:normal;
  }
.post-title strong {
  background-image:url("http://www.blogblog.com/harbor/icon_lighthouse2.gif");
  color:#000;
  }
.post-title a:hover {
  color:#933;
  }
.post-body {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  padding-top:12px;
  }
.post p {
  margin:0 0 .75em;
  }
p.post-footer {
  color:#999;
  }
.post-footer em, .comment-link {
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
.post-footer em {
  font-style:normal;
  color:#666;
  margin-right:.4em;
  }
.comment-link strong {
  font-size:130%;
  }
.comment-link {
  margin-left:.4em;
  }
.post img {
  padding:4px;
  border:1px solid #cde;
  }


/* Comments
----------------------------------------------- */
#comments {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  padding:15px 0 0;
  }
#comments h4 {
  margin:1em 0;
  font:bold 78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:#933;
  }
#comments h4 strong {
  font-size:130%;
  }
#comments-block {
  margin:1em 0 1.5em;
  line-height:1.4em;
  }
#comments-block dt {
  margin:.5em 0;
  }
#comments-block dd {
  margin:.25em 20px 0;
  }
#comments-block dd.comment-timestamp {
  margin:-.25em 20px 1.5em;
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
#comments-block dd p {
  margin:0 0 .75em;
  }
.deleted-comment {
  font-style:italic;
  color:gray;
  }


/* Sidebar Content
----------------------------------------------- */
#sidebar ul {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center bottom;
  margin:0 0 15px;
  padding:0 0 15px;
  list-style:none;
  }
#sidebar li {
  margin:0;
  padding:0 0 .25em 15px;
  text-indent:-15px;
  line-height:1.5em;
  }
#sidebar p {
  color:#666;
  line-height:1.5em;
  }


/* Profile
----------------------------------------------- */
#profile-container {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center bottom;
  margin:0 0 2em;
  padding:0 0 15px;
  }
.profile-datablock {
  margin:.5em 0 .5em;
  }
.profile-img {
  display:inline;
  }
.profile-img img {
  float:left;
  padding:4px;
  border:1px solid #cde;
  margin:0 8px 3px 0;
  }
.profile-data {
  margin:0;
  font:bold 78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }
.profile-data strong {
  display:none;
  }
.profile-textblock {
  margin:0 0 .5em;
  }
.profile-link {
  font:78%/1.4em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }


/* Footer
----------------------------------------------- */
#footer {
  clear:both;
  padding:15px 30px 0 50px;
  }
#footer hr {
  display:none;
  }
#footer p {
  background:url("http://www.blogblog.com/harbor/divider.gif") no-repeat center top;
  margin:0;
  padding-top:15px;
  font:78%/1.6em Georgia,Serif;
  text-transform:uppercase;
  letter-spacing:.1em;
  }


/* Feeds
----------------------------------------------- */
#blogfeeds {
  }
#postfeeds {
  }
  </style>
<!-- --><style type="text/css">@import url(https://www.blogger.com/static/v1/v-css/navbar/3334278262-classic.css);
div.b-mobile {display:none;}
</style>

</head>

<body><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d35897879\x26blogName\x3dJava-Success+Blog\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dBLUE\x26layoutType\x3dCLASSIC\x26searchRoot\x3dhttp://java-success.blogspot.com/search\x26blogLocale\x3den\x26v\x3d2\x26homepageUrl\x3dhttp://java-success.blogspot.com/\x26vt\x3d2978101103701820782',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script>

<!-- Begin wraps -->

<div id="wrap"><div id="wrap2"><div id="wrap3"><div id="wrap4">


<!-- Begin #content -->
<div id="content">


<div id="header">

  <h1 id="blog-title">
    
	Java-Success Blog
	
  </h1>

  <p id="description">Java/JEE blog containing interview questions and answers and tutorials</p>

</div>


<!-- Begin #main -->
<div id="main"><div id="main2">

<div class='adsense' style='text-align:center; padding: 0px 3px 0.5em 3px;'>
<script type="text/javascript"><!--
google_ad_client="pub-3764234023451771";
google_ad_host="pub-1556223355139109";
google_ad_width=468;
google_ad_height=60;
google_ad_format="468x60_as";
google_ad_type="text";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="333333";
google_color_url="009900";
google_color_text="993333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>



</div>

<!-- Search Google -->
<center>
<form method="get" action="http://www.google.com/custom" target="_top">
<table bgcolor="#ffffff">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
<label for="sbi" style="display: none">Enter your search terms</label>
<input type="text" name="q" size="31" maxlength="255" value="" id="sbi"></input>
<label for="sbb" style="display: none">Submit search form</label>
<input type="submit" name="sa" value="Search" id="sbb"></input>
<input type="hidden" name="client" value="pub-3764234023451771"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
</center>
<!-- Search Google -->









<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 29, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="6252147168854495689"></a>
    
         
    


    <h3 class="post-title">
	 
	 Deadlock retry with Spring AOP using aspectj tutorial
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>In the previous post entitled &nbsp;<a href="http://java-success.blogspot.com.au/2013/08/deadlock-retry-with-jdk-dynamic-proxy.html">"Deadlock Retry with JDK Dynamic Proxy</a>" we looked at using a JDK proxy. Here we will use Spring AOP.<br />
<br />
The required dependency jar files are 
<br />
<!-- INFOLINKS_OFF -->

<pre class="brush: csharp"> 
        &lt;properties&gt;
  &lt;spring.version&gt;3.0.5.RELEASE&lt;/spring.version&gt;
 &lt;/properties&gt;
&nbsp;
 &lt;dependencies&gt;
&nbsp;
  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
   &lt;version&gt;${spring.version}&lt;/version&gt;
  &lt;/dependency&gt;
&nbsp;
  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
   &lt;version&gt;${spring.version}&lt;/version&gt;
  &lt;/dependency&gt;
&nbsp;
  &lt;!-- Spring AOP + AspectJ --&gt;
  &lt;dependency&gt;
   &lt;groupId&gt;org.springframework&lt;/groupId&gt;
   &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;
   &lt;version&gt;${spring.version}&lt;/version&gt;
  &lt;/dependency&gt;
&nbsp;
  &lt;dependency&gt;
   &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
   &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;
   &lt;version&gt;1.6.11&lt;/version&gt;
  &lt;/dependency&gt;
&nbsp;
  &lt;dependency&gt;
   &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
   &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
   &lt;version&gt;1.6.11&lt;/version&gt;
  &lt;/dependency&gt;
&nbsp;
 &lt;/dependencies&gt;

</pre>
<br />
<br />
<b>Step 1</b>: Define the annotation that can be used.<br />
<br />
<pre class="brush: csharp">package com.myapp.deadlock;

import java.lang.annotation.ElementType;
import java.lang.annotation.Inherited;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
@Inherited
public @interface DeadlockRetry
{
    int maxTries() default 10;
    
    int tryIntervalMillis() default 1000;
}

</pre>
<br />
<br />
<b>Step 2</b>: Define the Aspect that performs the deadlock retry logic<br />
<br />
<pre class="brush: csharp">package com.myapp.deadlock;

import java.lang.reflect.Method;

import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Around;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.reflect.MethodSignature;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.core.Ordered;


@Aspect
public class DeadlockRetryAspect implements Ordered
{
    
    private static final Logger LOG = LoggerFactory.getLogger(DeadlockRetryAspect.class);
    
    @Around(value = "@annotation(deadlockRetry)", argNames = "deadlockRetry")
    public Object invoke(final ProceedingJoinPoint pjp, final DeadlockRetry deadlockRetry) throws Throwable
    {
        final Integer maxTries = deadlockRetry.maxTries();
        long tryIntervalMillis = deadlockRetry.tryIntervalMillis();
        
        Object target = pjp.getTarget();
        MethodSignature signature = (MethodSignature) pjp.getSignature();
        Method method = signature.getMethod();
        
        int count = 0;
        
        do
        {
            try
            {
                count++;
                LOG.info("Attempting to invoke method " + method.getName() + " on " + target.getClass() + " count "
                        + count);
                Object result = pjp.proceed();    // retry
                LOG.info("Completed invocation of method " + method.getName() + " on " + target.getClass());
                return result;
            }
            catch (Throwable e)
            {
                if (!DeadlockUtil.isDeadLock(e))
                {
                    throw new RuntimeException(e);
                }
                
                if (tryIntervalMillis &gt; 0)
                {
                    try
                    {
                        Thread.sleep(tryIntervalMillis);
                    }
                    catch (InterruptedException ie)
                    {
                        LOG.warn("Deadlock retry thread interrupted", ie);
                    }
                }
            }
        }
        while (count &lt;= maxTries);
        
        //gets here only when all attempts have failed
        throw new RuntimeException("DeadlockRetryMethodInterceptor failed to successfully execute target "
                + " due to deadlock in all retry attempts",
                new DeadlockDataAccessException("Created by DeadlockRetryMethodInterceptor", null));
        
    }
    
    @Override
    public int getOrder()
    {
        return 99;
    }
    
}
</pre>
<br />
<br />
<br />
<b>Step 3</b>: Define the util class that checks if an exception is deadlock related.<br />
<br />
<pre class="brush: csharp">package com.myapp.deadlock;

import org.apache.commons.lang.exception.ExceptionUtils;
import org.springframework.dao.CannotAcquireLockException;

public final class DeadlockUtil
{  
    public static final String DEADLOCK_MSG = "encountered a deadlock situation. Please re-run your command.";
    
    static boolean isDeadLock(Throwable throwable)
    {
        boolean isDeadLock = false;
        
        Throwable[] causes = ExceptionUtils.getThrowables(throwable);
        for (Throwable cause : causes)
        {
            if (cause instanceof CannotAcquireLockException || (cause.getMessage() != null
                    &amp;&amp; (cause.getMessage().contains("LockAcquisitionException") || cause.getMessage().contains(
                    DEADLOCK_MSG))))
            
            {
                isDeadLock = true;
                return isDeadLock;
            }
        }
        
        return isDeadLock;
    }
    
}
</pre>
<br />
<br />
<b>Step 4</b>: Finally, apply the annotation where required to perform deadlock retry.<br />
<br />
<pre class="brush: csharp">package com.myapp.engine;

import com.myapp.dao.AccountDAO;
...

import javax.annotation.Resource;
import org.springframework.stereotype.Repository;

@Repository
public class AccountServicePersistenceDelegateImpl implements AccountServicePersistenceDelegate
{
    
    @Resource(name = "accountDao")
    private AccountDAO accountDAO;
    
  @DeadlockRetry(maxTries = 10, tryIntervalMillis = 5000)
    public Account getStatementOfNetAsset(String accountNumber)
    {
        Account account = accountDAO.getAccount(String accountNumber);
        return account;
    }   
}
</pre>
<br />
<br />
Step 5: In your spring cofig file you need to have

<br />
<br />
<pre class="brush: csharp">;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:batch="http://www.springframework.org/schema/batch"
 xmlns:p="http://www.springframework.org/schema/p" xmlns:tx="http://www.springframework.org/schema/tx"
 xmlns:aop="http://www.springframework.org/schema/aop" xmlns:context="http://www.springframework.org/schema/context"
 xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
  http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.0.xsd
   http://www.springframework.org/schema/aop 
     http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
      http://www.springframework.org/schema/context 
                           http://www.springframework.org/schema/context/spring-context-3.0.xsd
  http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd"&gt;

 &lt;aop:aspectj-autoproxy /&gt;
 &lt;context:component-scan base-package="com.myapp"/&gt;

 ...

&lt;/beans&gt;
</pre>
<br />
<br />
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Footer-menu-leader -->
<br />
<ins class="adsbygoogle" data-ad-client="ca-pub-3764234023451771" data-ad-slot="5013459836" style="display: inline-block; height: 90px; width: 728px;"></ins><script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/AOP">AOP</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring">Spring</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Spring%20tutorial">Spring tutorial</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/deadlock-retry-with-spring-aop-using.html" title="permanent link"> 8/29/2013 09:42:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/deadlock-retry-with-spring-aop-using.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/deadlock-retry-with-spring-aop-using.html#comment-form;><span style="text-transform:lowercase">2 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=6252147168854495689" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=6252147168854495689&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 28, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="7356959549971363041"></a>
    
         
    


    <h3 class="post-title">
	 
	 Deadlock Retry with JDK Dynamic Proxy 
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>Here are the key steps in writing a dead lock retry service with JDK Dynamic Proxy.<br />
<br />
<b>Step 1</b>: Define the custom deadlock retry annotation.<br />
<br />

<!-- INFOLINKS_OFF -->

<pre class="brush: csharp">package com.myapp.deadlock;

import java.lang.annotation.ElementType;
import java.lang.annotation.Inherited;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
@Inherited
public @interface DeadlockRetry
{
    int maxTries() default 10;
    
    int tryIntervalMillis() default 1000;
}

</pre>
<br />
<br />
<b>Step 2</b>: Define the JDK dynamic proxy class.<br />
<br />
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Center -- Leader board */
google_ad_slot = "5678244596";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="2755834745";
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<br/>
<br/>
<pre class="brush: csharp">package com.myapp.deadlock;

import java.lang.annotation.Annotation;
import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;


public class DeadlockRetryHandler implements InvocationHandler
{
    
    private static final Logger LOG = LoggerFactory.getLogger(DeadlockRetryHandler.class);
    
    private Object target;
    
    public DeadlockRetryHandler(Object target)
    {
        this.target = target;
    }
    
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable
    {
        
        Annotation[] annotations = method.getAnnotations();
        
        DeadlockRetry deadlockRetry = (DeadlockRetry) annotations[0];
        
        final Integer maxTries = deadlockRetry.maxTries();
        long tryIntervalMillis = deadlockRetry.tryIntervalMillis();
        
        int count = 0;
        
        do
        {
            try
            {
                count++;
                LOG.info("Attempting to invoke method " + method.getName() + " on " + target.getClass() + " count "
                        + count);
                Object result = method.invoke(target, args);    // retry
                LOG.info("Completed invocation of method " + method.getName() + " on " + target.getClass());
                return result;
            }
            catch (Throwable e)
            {
                if (!DeadlockUtil.isDeadLock(e))
                {
                    throw new RuntimeException(e);
                }
                
                if (tryIntervalMillis &gt; 0)
                {
                    try
                    {
                        Thread.sleep(tryIntervalMillis);
                    }
                    catch (InterruptedException ie)
                    {
                        LOG.warn("Deadlock retry thread interrupted", ie);
                    }
                }
            }
        }
        while (count &lt;= maxTries);
        
        //gets here only when all attempts have failed
        throw new RuntimeException("DeadlockRetryMethodInterceptor failed to successfully execute target "
                + " due to deadlock in all retry attempts",
                new DeadlockDataAccessException("Created by DeadlockRetryMethodInterceptor", null));
        
    }
    
}
</pre>
<br />
<br />
<b>Step 3</b>: The utility class used by the dynamic proxy to determine if the exception indicates deadlock.<br />
<br />
<pre class="brush: csharp">package com.myapp.deadlock;

import org.apache.commons.lang.exception.ExceptionUtils;
import org.springframework.dao.CannotAcquireLockException;

public final class DeadlockUtil
{  
    public static final String DEADLOCK_MSG = "encountered a deadlock situation. Please re-run your command.";
    
    static boolean isDeadLock(Throwable throwable)
    {
        boolean isDeadLock = false;
        
        Throwable[] causes = ExceptionUtils.getThrowables(throwable);
        for (Throwable cause : causes)
        {
            if (cause instanceof CannotAcquireLockException || (cause.getMessage() != null
                    &amp;&amp; (cause.getMessage().contains("LockAcquisitionException") || cause.getMessage().contains(
                    DEADLOCK_MSG))))
            
            {
                isDeadLock = true;
                return isDeadLock;
            }
        }
        
        return isDeadLock;
    }
    
}
</pre>
<br />
<br />
<b>Step 4</b>: Define the target object interface with the annotation.<br />
<br />
<pre class="brush: csharp">package com.myapp.engine;

import com.myapp.DeadlockRetry;


public interface AccountServicePersistenceDelegate
{
    @DeadlockRetry(maxTries = 10, tryIntervalMillis = 5000)
    abstract Account getAccount(String accountNumber);
}

</pre>
<br />
<b>Step 5</b>: Define the target object implementaion.<br />
<br />
<pre class="brush: csharp">
package com.myapp.engine;

import com.myapp.dao.AccountDAO;
...

import javax.annotation.Resource;
import org.springframework.stereotype.Repository;

@Repository
public class AccountServicePersistenceDelegateImpl implements AccountServicePersistenceDelegate
{
    
    @Resource(name = "accountDao")
    private AccountDAO accountDAO;
    
    public Account getStatementOfNetAsset(String accountNumber)
    {
        Account account = accountDAO.getAccount(String accountNumber);
        return account;
    }   
}
</pre>
<br />
<br />
<b>Step 6</b>: Invoke the target via the proxy.<br />
<br />
<pre class="brush: csharp">
...
@Component("accountService")
@ThreadSafe
public class AccountServiceImpl implements AccountService
{

    @Resource
    private AccountServicePersistenceDelegate asServicePersistenceDelegate;
    
    private AccountServicePersistenceDelegate proxyAsPersistenceDelegate;

    @PostConstruct
    public void init()
    {
        this.proxyAsPersistenceDelegate = (AccountServicePersistenceDelegate) Proxy
                .newProxyInstance(AccountServicePersistenceDelegate.class.getClassLoader(), new Class&lt;?&gt;[]
                {AccountServicePersistenceDelegate.class}, 
    new DeadlockRetryHandler(asServicePersistenceDelegate));
    }
 
 public void processAccount(String accountNumber) {
     //...
     Account account = proxyAsPersistenceDelegate.getAccount(accountNumber); // invokes the target via the proxy
  //............
 }
}
</pre>
</br>
<br/>
<h2>Other design patterns - real life examples</h2>

<ul>

<li><a href="http://java-success.blogspot.com.au/2012/10/sharing-and-reusing-objects-with.html">Sharing and reusing objects with the flyweight design pattern in Java</a>
</li>
<li><a href="http://java-success.blogspot.com.au/2013/09/when-to-use-builder-design-pattern-real.html">When to use a builder design pattern? real life tips</a></li>
<li><a href="http://java-success.blogspot.com.au/2013/05/proxy-design-pattern-implementing.html">Proxy design pattern implementing thread safe wrappers</a></li>
<li><a href="http://java-success.blogspot.com.au/2013/05/java-io-and-decorator-and-proxy-design.html">Java I/O -- the Decorator and proxy design pattern interview questions and answers</a></li>
<li><a href="http://java-success.blogspot.com.au/2013/03/java-design-pattern-interview-questions.html">Java design pattern interview questions and answers: strategy and factory pattern</a></li>
<li><a href="http://java-success.blogspot.com.au/2012/10/sharing-and-reusing-objects-with.html">Sharing and reusing objects with the flyweight design pattern in Java</a></li>
<li><a href="http://java-success.blogspot.com.au/2011/12/design-patterns-interview-questions-and.html">Observer design pattern for publish/Subscribe model</a></li>
</ul>

<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/design%20pattern">design pattern</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Multi-threading">Multi-threading</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/deadlock-retry-with-jdk-dynamic-proxy.html" title="permanent link"> 8/28/2013 10:59:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/deadlock-retry-with-jdk-dynamic-proxy.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/deadlock-retry-with-jdk-dynamic-proxy.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=7356959549971363041" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=7356959549971363041&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 22, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="2918463218051737669"></a>
    
         
    


    <h3 class="post-title">
	 
	 Are you going for programming jobs at investment banks or financial institutions? - part 2
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>This is a continuation from&nbsp; <a href="http://java-success.blogspot.com.au/2012/08/are-you-going-for-programming-jobs-at.html">Are you going for programming jobs at investment banks or financial institutions?</a> Knowing some investment and trading terms will be useful.&nbsp; <br />
<br />
<b>Q</b>. Can you list some of the financial investment or instrument types?<br />
<b>A</b>. Equities, Fixed Income, Futures, Options, Rights/Warrants, Cash, etc.<br />
<br />
<b>Q</b>. What are the different investment transaction types?<br />
<b>A</b>. Here are some examples of transaction types for various instrument types like <i>Equities</i>, <i>Fixed Income,</i> etc.<br />
<ul>
<li><b>Equities</b>: Buy, Sell, Sell Short, Cover Short, Cash Dividend, etc.</li>
<li><b>Fixed Income</b>: Buy, Sell, Sell Short, Cover Short, Interest Receipt, Reclaim Receipt, Mature, Paydown, Revenue, Expense, Transfer, etc.</li>
<li><b>Options</b>: Buy, Sell, etc</li>
<li><b>Warrants</b>: Buy, Sell, Expire, Transfer, etc</li>
<li><b>Cash</b>: Deposit, Withdrawal, Forward FX, Spot FX, Interest, Transfer, etc.</li>
</ul>
<br />
<b>Q</b>. What do you understand by the term "<b>Portfolio Valuation</b>"?<br />
<b>A.</b> A <b>portfolio </b>in financial terms is set of financial assets such as stocks, bonds, mutual funds and cash equivalents.&nbsp; <br />
<br />
<b>Valuation </b>is the process of <b>estimating </b>what something is worth. Items that are usually valued are a financial asset or liability. Valuations can be done on assets (for example, investments in marketable securities such as stocks, options, business enterprises, or intangible assets such as patents and trademarks) or on liabilities (e.g., bonds issued by a company).&nbsp; <br />
<br />

<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Center -- Leader board */
google_ad_slot = "5678244596";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="2755834745";
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<br/>
<br/>
<b>Q</b>. What do you understand by the terms <b>GAV </b>(Gross Asset Value) and <b>NAV </b>(Net Asset Value)?<br />
<b>A</b>. The Gross Asset Value (GAV) is the sum of value of asset (e.g. number of shares owned * share price) an entity (e.g. investor) owns. Net asset value (NAV) is the value of an entity's assets less the value of its liabilities.<br />
<br />
<b>Q.</b> What do you understand by the terms debit and credit?<br />
<b>A.</b> <br />
<br />
<b>Debit </b>= An entry that increases an asset or decreases a liability<br />
<b>Credit </b>=An entry that increases a liability or decreases an asset <br />
<br />
<b>Q</b>. What do you understand by the term <b>accruals</b>? <br />
<b>A</b>. The term accrual often used as an abbreviation for the terms accrued expense and accrued revenue, but they have the opposite economic/accounting characteristics.<br />
<ul>
<li><b>Accrued revenue</b>: revenue is recognized before cash is received. For example, a service industry enters a contract for 3 month for which the payment of 50,000 will be made at the end of the 3rd month.&nbsp; In the accounting journal entry, the service industry will enter "<b>accrued billings</b>" as 50K debit (i.e. amount owed), and <b>"consulting revenue" </b>as 50K credit. At the end of the 3rd month, "<b>consulting revenue</b>" will be 50K debit, and "<b>accrued billings</b>" will be 50K credit. This is known as the "<b>double entry</b>" accounting.<br />&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li><b>Accrued expense</b>: expense is recognized before cash is paid out. For example, as a business owner, you accrue GST (i.e. Goods and Services Tax) expenses every month, and&nbsp; you pay it off every 3 months. Another example would be to accrue capital gains tax every month, and then pay it off yearly.&nbsp; </li>
</ul>
<br />
<b>Q</b>. What do you do when you are not sure of a financial term?<br />
<b>A</b>. Go to http://www.investopedia.com to get it clarified.<br />
<ul>
</ul>
<br />
<br/>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Bottom - Leader board */
google_ad_slot = "0221266263";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="9089718340";
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Investment%20Banking">Investment Banking</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/are-you-going-for-programming-jobs-at.html" title="permanent link"> 8/22/2013 10:58:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/are-you-going-for-programming-jobs-at.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/are-you-going-for-programming-jobs-at.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/08/are-you-going-for-programming-jobs-at.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=2918463218051737669" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=2918463218051737669&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 19, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="559463911390167955"></a>
    
         
    


    <h3 class="post-title">
	 
	 Visual VM for monitoring Java memory, CPU, threads, etc
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><br />
VisualVM is a visual tool integrating several command line JDK tools and lightweight profiling capabilities. Designed for both production and development time use, it further enhances the capability of monitoring and performance analysis for the Java SE platform. It is packaged as an exe file. \<br />
<br />
<br />
<b>Step 1:</b> You can start the visual vm by double clicking on %JAVA_HOME%/bin/jvisualvm.exe from Java 1.6 version on wards.<br />
<br />
<b>Step 2:</b> Your local processes will be monitored under the local tab. The Visual vm can also used to open the heap dump files i.e *.hprof files to analyze the menory usages. You can find out the process ids of your local Java applications via<br />
<br />
<b>1.</b> <b>netstat </b>-anp | grep 8088 or<br />
<b>2.</b> In windows via the "<b>Windows Task Manager</b>" --&gt; &nbsp;<b>Processes tab</b>. You need to click on <b>View </b>--&gt; <b>Select &nbsp;Columns</b> and then "tick" <b>PID</b> (Process Identifier) check box.<br />
<br />
Double click on the relevant PID in Visual VM console.<br />
<br />
&nbsp; <br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-Xj4aSrls2NQ/VESdD42uR3I/AAAAAAAACzQ/UloPuR-LXUw/s1600/visual-vm-1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-Xj4aSrls2NQ/VESdD42uR3I/AAAAAAAACzQ/UloPuR-LXUw/s1600/visual-vm-1.jpg" height="350" width="640" /></a></div>
<br />
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
</div>
<br />
<br />
You can add remote processes by following the steps shown below.<br />
<br />
<b>1</b>. Right click on &nbsp;"<b>Remote</b>" and then select &nbsp;"<b>Add Remote Host...</b>".<br />
<b>2</b>. Provide the host name like "myapp.com".<br />
<b>3</b>. It searches and adds the host.<br />
<b>4</b>. Right click on the added host name and then select &nbsp;"<b>Add JMX Connection</b>" and in the "Connection" field type the <b>hostname:JMX port number</b> like&nbsp;myapp.com:8083.<br />
<b>5</b>. Double click on this JMX connection to monitor CPU, memory, thread, etc.<br />
<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-iboZkXW1HqA/VESdUZWnnNI/AAAAAAAACzY/AtBa3CHak20/s1600/Visual-vm-2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-iboZkXW1HqA/VESdUZWnnNI/AAAAAAAACzY/AtBa3CHak20/s1600/Visual-vm-2.jpg" height="326" width="640" /></a></div>
<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
</div>
<br />
<br />
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Bottom - Leader board */
google_ad_slot = "0221266263";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="9089718340";
//-->
</script>


<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>

<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Memory">Memory</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Monitoring">Monitoring</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Performance">Performance</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Visual%20VM">Visual VM</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/visual-vm-for-monitoring-java-memory.html" title="permanent link"> 8/19/2013 12:10:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/visual-vm-for-monitoring-java-memory.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/visual-vm-for-monitoring-java-memory.html#comment-form;><span style="text-transform:lowercase">3 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/08/visual-vm-for-monitoring-java-memory.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=559463911390167955" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=559463911390167955&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 14, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="5834280763415193064"></a>
    
         
    


    <h3 class="post-title">
	 
	 Google Gauva library to work with the collection objects.
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>The Guava project contains several of Google's core libraries that we rely on in our Java-based projects: collections, caching, primitives support, concurrency libraries, common annotations, string processing, I/O, and so forth. This blog post deals with the Collection utilities using Functional programming. As of Java 7, functional programming in Java can only be approximated through awkward and verbose use of anonymous classes. This is expected to change in Java 8, Please be aware that excessive use of Guava's functional programming idioms can lead to verbose, confusing, unreadable, and inefficient code. Hre is a sample code to demonstrate partitioning, transforming, and filtering.

<br />
<br />
<br />
<b>Step 1</b>: The Guava library dependency in <b>pom.xml </b>file.<br />
<br />
<!-- INFOLINK_OFF -->

<br />
<pre class="brush: csharp">&lt;!--  Google GUAVA --&gt;
&lt;dependency&gt;
 &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
 &lt;artifactId&gt;guava&lt;/artifactId&gt;
  &lt;version&gt;13.0.1&lt;/version&gt;
&lt;/dependency&gt;
</pre>
<br />
<br />
<b>Step 2</b>: Sample code using the <b>Gauva library</b>.<br />
<br />
<pre class="brush: csharp">package com.mycompany.app11;

import com.google.common.base.Function;
import com.google.common.base.Predicate;
import com.google.common.collect.FluentIterable;
import com.google.common.collect.Iterables;

import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

public class GuavaMain
{
    public static void main(String[] args)
    {
        GuavaMain main = new GuavaMain();
        List&lt;Employee&gt; initialData = main.prepareData();
        
        //Split into batches
        Iterable&lt;List&lt;Employee&gt;&gt; batchedData = main.partitionData(initialData);
        System.out.println("Batching -- 2 batches of employees: " + batchedData);
        
        //transform the above batches of employees to extract their names
        Iterable&lt;Set&lt;String&gt;&gt; transformedData = main.transformData(batchedData);
        System.out.println("Transforming -- " + transformedData);
        
        //concat and filter with a predicate       
        Set&lt;String&gt; filteredData = main.filterData(transformedData);
        System.out.println("Filtering -- " + filteredData);
        
    }
    
    private List&lt;Employee&gt; prepareData()
    {
        //create 4 employees
        Employee john = new Employee(22, "John");
        Employee peter = new Employee(23, "Peter");
        Employee sam = new Employee(24, "Sam");
        Employee eric = new Employee(25, "Eric");
        
        List&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();
        employees.add(john);
        employees.add(peter);
        employees.add(sam);
        employees.add(eric);
        
        return employees;
    }
    
    /**
     * Say we want to process in batches of 2 employees
     */
    public Iterable&lt;List&lt;Employee&gt;&gt; partitionData(List&lt;Employee&gt; departments)
    {
        //using Gauva library's partition method
        return Iterables.partition(departments, 2);// batches of 2 employees.
    }
    
    /**
     * Say we want to transform batched employees to extract their names
     */
    public Iterable&lt;Set&lt;String&gt;&gt; transformData(Iterable&lt;List&lt;Employee&gt;&gt; batchedData)
    {
        //define an anonymous function
        Function&lt;List&lt;Employee&gt;, Set&lt;String&gt;&gt; extractNamesFunction = new Function&lt;List&lt;Employee&gt;, Set&lt;String&gt;&gt;()
        {
            public Set&lt;String&gt; apply(List&lt;Employee&gt; batch)
            {
                final Set&lt;String&gt; names = new HashSet&lt;String&gt;(batch.size());
                for (Employee employee : batch)
                {
                    names.add(employee.getName());
                }
                return names;
            }
            
        };
        
        //using Gauva library's transform method
        Iterable&lt;Set&lt;String&gt;&gt; transformedData = Iterables.transform(batchedData, extractNamesFunction);
        
        return transformedData;
    }
    
    /**
     * Say we want to filter data so that names shorter than 3 characters are
     * filtered out
     */
    public Set&lt;String&gt; filterData(Iterable&lt;Set&lt;String&gt;&gt; transformedData)
    {
        //using Gauva library's concat method
        Iterable&lt;String&gt; concatenatedData = Iterables.concat(transformedData);
        
        //Define a predicate for filtering data as an anonymous function
        Predicate&lt;String&gt; longerThanThreeCharacters = new Predicate&lt;String&gt;()
        {
            public boolean apply(String input)
            {
                return input.length() &gt; 3;
            }
        };
        
        //filter
        FluentIterable&lt;String&gt; filteredData = FluentIterable.from(concatenatedData).filter(longerThanThreeCharacters);
        
        return filteredData.toImmutableSet();
    }
    
}
</pre>
<br />
<br />
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Center -- Leader board */
google_ad_slot = "5678244596";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="2755834745";
//--&gt;
</script>


<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br />
<br/>
<pre class="brush: csharp">package com.mycompany.app11;

public class Employee
{
    private Integer id;
    private String name;
    
    public Employee(Integer id, String name)
    {
        super();
        this.id = id;
        this.name = name;
    }
    
    public Integer getId()
    {
        return id;
    }
    
    public void setId(Integer id)
    {
        this.id = id;
    }
    
    public String getName()
    {
        return name;
    }
    
    public void setName(String name)
    {
        this.name = name;
    }
    
    @Override
    public String toString()
    {
        return "Person [id=" + id + ", name=" + name + "]";
    }
    
}
</pre>
<br />
The <i>Employee </i>POJO:<br />
<br />
<b>Step 3</b>: Finally, the output:<br />
<br />
<pre class="brush: csharp">Batching -- 2 batches of employees: [[Person [id=22, name=John], Person [id=23, name=Peter]], [Person [id=24, name=Sam], Person [id=25, name=Eric]]]
Transforming -- [[Peter, John], [Sam, Eric]]
Filtering -- [Peter, John, Eric]
</pre>
<br />
<br />
<b>Reference</b>: <a href="http://www.blogger.com/%3Cpre%20class=%22brush:%20csharp%22%3E%20Batching%20--%202%20batches%20of%20employees:%20%5B%5BPerson%20%5Bid=22,%20name=John%5D,%20Person%20%5Bid=23,%20name=Peter%5D%5D,%20%5BPerson%20%5Bid=24,%20name=Sam%5D,%20Person%20%5Bid=25,%20name=Eric%5D%5D%5D%20Transforming%20--%20%5B%5BPeter,%20John%5D,%20%5BSam,%20Eric%5D%5D%20Filtering%20--%20%5BPeter,%20John,%20Eric%5D%20%3C/pre%3E" target="_blank">Guava Collection Utilities</a><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Core%20Java">Core Java</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/libraries">libraries</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/the-guava-project-contains-several-of.html" title="permanent link"> 8/14/2013 04:54:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/the-guava-project-contains-several-of.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/the-guava-project-contains-several-of.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/08/the-guava-project-contains-several-of.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=5834280763415193064" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=5834280763415193064&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 12, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="3310359343244371368"></a>
    
         
    


    <h3 class="post-title">
	 
	 BeanIO tutorial
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><b>BeanIO </b>is an open source Java framework for marshaling and 
marshaling Java beans from a flat file, stream, or simple String object.
 It is very powerful with support for  XML, CSV, delimited and fixed 
length stream formats,  Object binding, filed validation, integration 
with spring-batch, etc. Here is a basic tutorial to get started.<br />
<br />
<b>Step 1: </b>The sample CSV file to convert to an object of type Person.<b> </b>The first record is a header record, and the subsequent ones are detail records.<b> </b>The file is <b>person.csv</b> under src/main/resources/<b>data</b><br />
<br />

<!-- INFOLINK_OFF -->

<pre class="brush: csharp">H, 2013-03-12
John,Smith, FAMILY
Peter,Smith, FAMILY
Gregory,Smith, FAMILY
</pre>
<br />
<br />
<b>Step 2</b>: Define the dependency jar in<b> pom.xml </b>file.<br />
<br />
<pre class="brush: csharp">&lt;!-- beanio --&gt;
&lt;dependency&gt;
 &lt;groupId&gt;org.beanio&lt;/groupId&gt;
 &lt;artifactId&gt;beanio&lt;/artifactId&gt;
 &lt;version&gt;2.0.2&lt;/version&gt;
&lt;/dependency&gt;
</pre>
<br />
<b>Step 3</b>:The main class that wires up everything.<br />
<br />
<pre class="brush: csharp">package com.mycompany.app10;

import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import org.beanio.BeanReader;
import org.beanio.StreamFactory;

public class BeanIoMain
{
    
    public void readCSVFileUsingBeanIo()
    {
        StreamFactory factory = StreamFactory.newInstance();
        factory.loadResource("person.xml");
        
        //read it from the classpath : src/main/resources
        InputStream in = this.getClass().getResourceAsStream("/data/persons.csv");
        BeanReader reader = factory.createReader("persons", new InputStreamReader(in));
        Object record = null;
        List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();
        
        // read records from "input.csv"
        while ((record = reader.read()) != null)
        {
            if ("header".equals(reader.getRecordName()))
            {
                
                @SuppressWarnings("unchecked")
                Map&lt;String, Object&gt; header = (Map&lt;String, Object&gt;) record;
                System.out.println(header.get("fileDate"));
            }
            else if ("detail".equals(reader.getRecordName()))
            {
                Person person = (Person) record;
                persons.add(person);
            }
        }
        
        System.out.println(persons);
    }
    
    public static void main(String[] args)
    {
        new BeanIoMain().readCSVFileUsingBeanIo();
    }
}
</pre>
<br />
<b>Step 3</b>: The POJO <i><b>Person </b></i>class.<br />
<br />
<pre class="brush: csharp">package com.mycompany.app10;

public class Person
{
    
    private String firstName;
    private String surname;
    private PersonType type;
    
    public String getFirstName()
    {
        return firstName;
    }
    
    public void setFirstName(String firstName)
    {
        this.firstName = firstName;
    }
    
    public String getSurname()
    {
        return surname;
    }
    
    public void setSurname(String surname)
    {
        this.surname = surname;
    }
    
    public PersonType getType()
    {
        return type;
    }
    
    public void setType(PersonType type)
    {
        this.type = type;
    }
    
    @Override
    public String toString()
    {
        return "Person [firstName=" + firstName + ", surname=" + surname + ", type=" + type + "]";
    }
    
}

</pre>
<br />
<br />
<b>Step 4</b>: The<b> person.xml</b> under src/main/resources where you can map to your POJO Person.java.<br />
<br />
<pre class="brush: csharp">&lt;beanio xmlns="http://www.beanio.org/2012/03"&gt;
 &lt;stream name="persons" format="csv"&gt;
  &lt;parser&gt;
   &lt;property name="delimiter" value="," /&gt;
   &lt;property name="lineSeparator" value="\n" /&gt;
   &lt;property name="whitespaceAllowed" value="true" /&gt;
  &lt;/parser&gt;
   &lt;typeHandler name="personTypeHandler" class="com.mycompany.app10.PersonTypeHandler"/&gt;
  &lt;record name="header" class="map" maxOccurs="1"&gt;
   &lt;!-- 'rid' indicates this field is used to identify the record --&gt;
   &lt;field name="recordType" rid="true" literal="H" /&gt;
   &lt;!-- 'format' can be used to provide Date and Number formats --&gt;
   &lt;field name="fileDate" type="date" format="yyyy-MM-dd" /&gt;
  &lt;/record&gt;
  &lt;record name="detail" minOccurs="0" maxOccurs="unbounded"
   class="com.mycompany.app10.Person"&gt;
   &lt;field name="firstName" /&gt;
   &lt;field name="surname" /&gt;
   &lt;field name="type" typeHandler="personTypeHandler" type="com.mycompany.app10.PersonType" /&gt;
  &lt;/record&gt;
 &lt;/stream&gt;
&lt;/beanio&gt;
</pre>
<br />
<b>Step 5</b>: Next, the handler class that parses <b>Enums </b>to String.<br />
<br />
<pre class="brush: csharp">package com.mycompany.app10;

import org.beanio.types.TypeConversionException;
import org.beanio.types.TypeHandler;

public class PersonTypeHandler implements TypeHandler
{
    
    public Object parse(String text) throws TypeConversionException
    {
        PersonType personType = PersonType.valueOf(text.trim());
        return personType;
    }
    
    public String format(Object value)
    {
        return value != null ? ((PersonType) value).name() : PersonType.SINGLE.name();
    }
    
    public Class&lt;?&gt; getType()
    {
        return PersonType.class;
    }
}
</pre>
<br />
<b>Step 6</b>: The output of the <b>BeanIoMain </b>is:<br />
<br />
<pre class="brush: csharp">
Tue Mar 12 00:00:00 EST 2013
[Person [firstName=John, surname=Smith, type=FAMILY], Person [firstName=Peter, surname=Smith, type=FAMILY], Person [firstName=Gregory, surname=Smith, type=FAMILY]]
</pre>
<br />
<br />
<br /><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Java%20I%2FO">Java I/O</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/beanio-tutorial.html" title="permanent link"> 8/12/2013 11:59:00 AM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/beanio-tutorial.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/beanio-tutorial.html#comment-form;><span style="text-transform:lowercase">2 Comments</span></a>
      
<a class="comment-link" href="http://java-success.blogspot.in/2013/08/beanio-tutorial.html#links"><span style="text-transform:lowercase">Links to this post</span></a>

  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=3310359343244371368" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=3310359343244371368&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 8, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="2430617453127878770"></a>
    
         
    


    <h3 class="post-title">
	 
	 Core Java Best Practices -- Part 1
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div>"<b>Best Practices</b>" is one of the key areas, and often you can impress your interviewers, peers, and code reviewers by applying the best practices to your code.&nbsp; Here is a sample class that can be used as a key to store data in Maps or in Hibernate queries to as where clause parameters. The best practices applied are<br />
<br />
<ol>
<li>Make your objects immutable where possible as immutable classes are inherently thread safe.</li>
<li>Don't reinvent the wheel, and use proven third-party libraries.&nbsp;</li>
<li>&nbsp;Use the Comparable interface if you want to sort your objects naturally.</li>
<li>Implement the hashCode( ) and equals( ) method properly.</li>
<li>override the toString( )as it is handy for logging and debugging.&nbsp;</li>
<li>make the fields final where appropriate.&nbsp;</li>
<li>Using log4j as opposed to System.out.println(......) </li>
</ol>
<br />
Here is the sample code that implements the above best practices.<br />
<br />
<!-- INFOLINKS_OFF-->

<br />
<pre class="brush: csharp">package com.myapp;

import com.myapp.ValuationTypeCd;

import java.util.Date;

import javax.annotation.concurrent.Immutable;

import org.apache.commons.lang.builder.CompareToBuilder;
import org.apache.commons.lang.builder.EqualsBuilder;
import org.apache.commons.lang.builder.HashCodeBuilder;
import org.apache.commons.lang.builder.ToStringBuilder;
import org.apache.commons.lang.builder.ToStringStyle;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.util.Assert;



@Immutable
public class DECalcRunKey implements Comparable&lt;DECalcRunKey&gt;
{
    private static final Logger LOG = LoggerFactory.getLogger(ReportKey.class);
    
    final private long batchId;
    final private String entity;
    final private Date valuationDate;
    final ValuationTypeCd valuationType;
    
    private DECalcRunKey(long batchId, String entity, Date valuationDate, ValuationTypeCd valuationType)
    {
        super();
        this.batchId = batchId;
        this.entity = entity;
        this.valuationDate = valuationDate;
        this.valuationType = valuationType;
    }
    
    public static DECalcRunKey newInstance(long batchId, String entity, Date valuationDate,
            ValuationTypeCd valuationType)
    {
        Assert.notNull(batchId);
        Assert.notNull(entity);
        Assert.notNull(valuationDate);
        Assert.notNull(valuationType);
        return new DECalcRunKey(batchId, entity, valuationDate, valuationType);
    }
    
    public long getBatchId()
    {
        return batchId;
    }
    
    public String getEntity()
    {
        return entity;
    }
    
    public Date getValuationDate()
    {
        return new Date(valuationDate.getTime()); //defensive copy
    }
    
    public ValuationTypeCd getValuationType()
    {
        return valuationType;
    }
    
    @Override
    public int hashCode()
    {
        return new HashCodeBuilder().append(batchId).append(entity).append(valuationDate).append(valuationType)
                .toHashCode();
    }
    
    @Override
    public boolean equals(final Object obj)
    {
        if (obj instanceof DECalcRunKey)
        {
            final DECalcRunKey runKey = (DECalcRunKey) obj;
            return new EqualsBuilder().append(this.batchId, runKey.batchId)
                    .append(this.entity, runKey.entity).append(this.valuationDate, runKey.valuationDate)
                    .append(this.valuationType, runKey.valuationType)
                    .isEquals();
        }
        return false;
    }
    
    @Override
    public int compareTo(DECalcRunKey runKey)
    {
        return new CompareToBuilder().append(this.batchId, runKey.batchId)
                .append(this.entity, runKey.entity).append(this.valuationDate, runKey.valuationDate)
                .append(this.valuationType, runKey.valuationType).toComparison();
    }
    
    @Override
    public String toString()
    {
        return ToStringBuilder.reflectionToString(this, ToStringStyle.SHORT_PREFIX_STYLE);
    }
    
}&nbsp;</pre>



<br/>
<br/>


You will also like: <a href="http://java-success.blogspot.com/2013/10/how-to-write-immutable-java-classes.html">How to write immutable Java classes? -- Core Java Best Practices -- Part 2</a>


<br/>
<br/>

<div style="text-align:center">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Center - Large Rectangle -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-3764234023451771"
     data-ad-slot="1845819831"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/Core%20Java">Core Java</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/core-java-best-practices-part-1.html" title="permanent link"> 8/08/2013 09:12:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/core-java-best-practices-part-1.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/core-java-best-practices-part-1.html#comment-form;><span style="text-transform:lowercase">1 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=2430617453127878770" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=2430617453127878770&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 6, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="2342907915432377705"></a>
    
         
    


    <h3 class="post-title">
	 
	 Spring JMS with Websphere MQ (aka MQ Series) -- Part 2 (Sender)
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//-->
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br />
<br />
This is the continuation of <a href="http://java-success.blogspot.com/2013/07/spring-jms-with-websphere-mq-aka-mq.html">Spring JMS with Websphere MQ -- Part 1</a>.<br />
<br />
<br />
<b>Step 5</b>: In <a href="http://java-success.blogspot.com/2013/07/spring-jms-with-websphere-mq-aka-mq.html">Part 1</a>, we configured the <i><b>Connectionfactory</b></i>, and in this step&nbsp; configure the <i>JMSTemplate </i>with the <b>@Configurable</b> Spring annotation<br />
<br />

<!-- INFOLINKS_OFF -->


<pre class="brush: csharp">package com.myapp.jms;

import java.io.IOException;

import javax.annotation.Resource;
import javax.jms.ConnectionFactory;
import javax.jms.JMSException;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.jms.core.JmsTemplate;

@Configuration
public class MyAppJmsTemplateConfig {

 @Value("${my.queue}")
    private String myAppQueueName;
 
 @Resource (name = "internalJmsConnectionFactory")
 private ConnectionFactory connectionFactory;
 
 @Bean(name = "myAppJmsTemplate")
 public JmsTemplate busniessExceptionJmsTemplate() throws JMSException, IOException {
  
  JmsTemplate jmsTemplate = new JmsTemplate(connectionFactory); 
  jmsTemplate.setExplicitQosEnabled(true);
  jmsTemplate.setDefaultDestinationName(myAppQueueName);
  return jmsTemplate;
 }
}
</pre>
<br />
<b>Step 6</b>: Define the Spring context xml file<b> </b><i>META-INF/spring/<b>myApp-applicationContext.xml </b></i>file.<br />
<br />
<pre class="brush: csharp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:aop="http://www.springframework.org/schema/aop" 
    xmlns:jee="http://www.springframework.org/schema/jee" 
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:util="http://www.springframework.org/schema/util"
    xmlns:task="http://www.springframework.org/schema/task"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:jms="http://www.springframework.org/schema/integration/jms"
    xmlns:cache="http://www.springframework.org/schema/cache"
    xmlns:jdbc="http://www.springframework.org/schema/jdbc" 
    xsi:schemaLocation="
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
            http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd
            http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd
            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.1.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
            http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd
            http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-3.1.xsd
            http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd     
            http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-3.1.xsd"&gt;

 &lt;bean id="placeholderConfig" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt;
    &lt;property name="ignoreUnresolvablePlaceholders" value="false" /&gt;
    &lt;property name="location" value="classpath:calculation/validation.properties" /&gt;
 &lt;/bean&gt;
 
  &lt;context:component-scan base-package="com.myapp.jms"&gt;

&lt;/beans&gt;
</pre>
<br />
<b>Step 7</b>: Define the message sender class that publishes the message to the default queue that was configured earlier.<br />
<br />
<pre class="brush: csharp">package com.myapp.service.impl;

import com.google.common.base.Stopwatch;
import com.myapp.service.MyAppService;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.TimeUnit;

import javax.annotation.PostConstruct;
import javax.annotation.Resource;
import javax.annotation.concurrent.ThreadSafe;
import javax.jms.JMSException;
import javax.jms.Message;
import javax.jms.Session;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.jms.core.JmsTemplate;
import org.springframework.jms.core.MessageCreator;
import org.springframework.stereotype.Component;
import org.springframework.util.Assert;

/**
 * Asynchronously submits a string to the JMS queue
 */
@Component
@ThreadSafe
public class MyAppServiceImpl implements MyAppService
{
    
    private static final Logger LOG = LoggerFactory.getLogger(MyAppServiceImpl.class);
    
    @Resource(name = "myAppJmsTemplate")
    private JmsTemplate jmsTemplate;
    
    @Value("${my.publishers.count}")
    int publisherCount;
    

    private ExecutorService pooledSender;
    
    @PostConstruct
    void init()
    {
        pooledSender = Executors.newFixedThreadPool(publisherCount);
    }
    
   
    @Override
    public void send(final String msg)
    {
        pooledSender.execute(new Runnable()
        {
            @Override
            public void run()
            {
                send(msg);
            }
            
            private void send(final String msg, int retryCount)
            {
                
                Stopwatch stopwatch = new Stopwatch().start();
                try
                {
 
                    jmsTemplate.send(new MessageCreator()
                    {
                        @Override
                        public Message createMessage(Session session) throws JMSException
                        {
                            return session.createTextMessage(msg);
                        }
                    });
                }
                catch (Exception e)
                {
                    LOG.warn("Unable to send message to JMS Queue {}", msg);
                   
                }
                LOG.info(" message sent to JMS Queue in {} ms", stopwatch.elapsedMillis());
            }
        });
    }
}
</pre>
<br />
<br />
<b>Step 8</b>: Finally, the <i><b>JUnit </b></i>test class that <br />
<br />
<pre class="brush: csharp">package com.myapp.service.impl;

import com.myapp.service.MyAppExecutionService;

import java.util.HashMap;
import java.util.Map;

import javax.annotation.Resource;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.context.annotation.PropertySource;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = "classpath:META-INF/spring/myApp-applicationContext.xml")
@PropertySource(
{
    "classpath:jms/internalConnection.properties"
   
})
public class MyAppServiceImplSenderIntegrationTest
{
    
    private static final Logger LOG = LoggerFactory.getLogger(MyAppServiceImplSenderIntegrationTest.class);
    
    @Resource
    private MyAppExecutionService executionService;
    
    
    @Test
    public void myAppIntegrationTest()
    {
        
        for (int i = 0; i &lt; 1; i++)
        {
            final Map&lt;String, String&gt; detailMap = new HashMap&lt;String, String&gt;();
            detailMap.put("KeyA", "ValueA" + i);
            detailMap.put("KeyB", "ValueB" + i);
            executionService.send(detailMap.toString());
        }
    }
}
</pre>
<br />
<br />
<br /><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/JMS">JMS</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Websphere%20MQ">Websphere MQ</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/spring-jms-with-websphere-mq-aka-mq_6.html" title="permanent link"> 8/06/2013 11:30:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/spring-jms-with-websphere-mq-aka-mq_6.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/spring-jms-with-websphere-mq-aka-mq_6.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=2342907915432377705" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=2342907915432377705&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
  






<script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


  <h2 class="date-header">Aug 1, 2013</h2>

  
  
     
  <!-- Begin .post -->
  <div class="post"><a name="3687659959290847309"></a>
    
         
    


    <h3 class="post-title">
	 
	 Spring JMS with Websphere MQ (aka MQ Series) -- Part 2 (Receiver or Subscriber)
	 
    </h3>

    
     
    <div class="post-body">
    <p>
      <div style="clear:both;"></div><script type="text/javascript"><!--
google_ad_client = "ca-pub-3764234023451771";
/* Top - Leader board */
google_ad_slot = "4890304945";
google_ad_width = 728;
google_ad_height = 90;
google_ad_channel ="4262872872";
//-->
</script>
<script src="http://pagead2.googlesyndication.com/pagead/show_ads.js" type="text/javascript">
</script>
<br />
<br />
This is the continuation <a href="http://java-success.blogspot.com/2013/07/spring-jms-with-websphere-mq-aka-mq.html">Spring JMS with Websphere MQ -- Part 1</a> (Configuration), and <a href="http://java-success.blogspot.com/2013/08/spring-jms-with-websphere-mq-aka-mq_6.html">Spring JMS with Websphere MQ -- Part 2 (Sender)</a>.<br />
<br />
<br />
<b>Step 1</b>: Write a listener class to receive the message by invoking the <i>onMessage(Message message) </i>method.<br />
<br />
<pre class="brush: csharp">package com.myapp.service.impl;

import javax.jms.Message;
import javax.jms.MessageListener;
import javax.jms.TextMessage;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Component;

@Component
//@Transactional
public class MyAppListenerListener implements MessageListener
{
    
    private static Logger LOG = LoggerFactory.getLogger(MyAppListenerListener.class);
    
    @Override
    public void onMessage(Message message)
    {
        LOG.info("Entered ...............");
        
        if (message instanceof TextMessage)
        {
            try
            {
                String msg = ((TextMessage) message).getText();
                LOG.debug("Message contents: {} ", msg);
                System.out.println(msg);
            }
            catch (Exception e)
            {
                LOG.error("Error processing the message");
               
            }
            
        }
        
    }
}
</pre>
<br />
<br />
<b>Step 2</b> :&nbsp; Configure the Spring container and bootstrap the <i>MyAppListenerListener&nbsp; </i>to the container. You can set up multiple consumers to run concurrently in multiple threads. This basically involves extending the class <i><b>MyAppJmsTemplateConfig </b></i>defined in part -2.<br />
<br />
<pre class="brush: csharp">package com.myapp.jms;

import java.io.IOException;

import javax.annotation.Resource;
import javax.jms.ConnectionFactory;
import javax.jms.JMSException;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.jms.core.JmsTemplate;

@Configuration
@ComponentScan(basePackageClasses =
{
    MyAppListener.class
})
@PropertySource(
{
    "classpath:jms/internalConnection.properties"
})
public class MyAppJmsTemplateConfig  {

 @Value("${my.queue}")
    private String myAppQueueName;
 
 @Resource (name = "internalJmsConnectionFactory")
 private ConnectionFactory connectionFactory;
 
 @Resource
    private MyAppListener myAppListener;
 
 private int maxConsumers = 3; //3 concurrent consumers
 
 @Bean(name = "myAppJmsTemplate")
 public JmsTemplate myAppJmsTemplate() throws JMSException, IOException {
  
  JmsTemplate jmsTemplate = new JmsTemplate(connectionFactory); 
  jmsTemplate.setExplicitQosEnabled(true);
  jmsTemplate.setDefaultDestinationName(myAppQueueName);
  return jmsTemplate;
 } 
 
   /**
     * Sets up the JMS MessageListener 
     * 
     * @return
     */
    @Bean
    public DefaultMessageListenerContainer myAppListenerContainer()
    {
        DefaultMessageListenerContainer listenerContainer = new DefaultMessageListenerContainer();
        listenerContainer.setConnectionFactory(internalJmsConnectionFactory);
        listenerContainer.setDestinationName(myAppQueueName);
        listenerContainer.setMessageListener(myAppListener);
        listenerContainer.setMaxConcurrentConsumers(maxConsumers);
        listenerContainer.setSessionTransacted(true);
        return listenerContainer;
    }
}
</pre>
<br />
<br />
Refer to the <b>myAppListenerContainer( )</b> method to bind the Spring listener container to the listener you defined earlier itself.<br />
<br />
<br />
<b>Step 3</b>: Finally,the JUnit test class that waits for 10 minutes. In other words, waiting for the <i><b>onMessage(...)</b></i> method to be kicked off asynchronously when a message arrives on the queue.<br />
<br />
<pre class="brush: csharp">package com.myapp.service.impl;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = "classpath:META-INF/spring/myApp-applicationContext.xml")
public class DeCalcRunListenerIntegrationTest
{
    
    @Test
    public void testOnMessage() throws InterruptedException
    {
        Thread.sleep(300000);
    }  
}</pre>
<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://java-success.blogspot.com/search/label/JMS">JMS</a>, <a rel='tag' href="http://java-success.blogspot.com/search/label/Websphere%20MQ">Websphere MQ</a></p>
    </p>
    </div>
    
    <p class="post-footer">
      <em>posted by Arulkumaran Kumaraswamipillai at 
    <a class="post-footer-link" href="http://java-success.blogspot.in/2013/08/spring-jms-with-websphere-mq-aka-mq.html" title="permanent link"> 8/01/2013 01:39:00 PM </a></em>

       |
      <a class="comment-link" href="http://java-success.blogspot.in/2013/08/spring-jms-with-websphere-mq-aka-mq.html#comment-form"location.href=http://java-success.blogspot.com/2013/08/spring-jms-with-websphere-mq-aka-mq.html#comment-form;><span style="text-transform:lowercase">0 Comments</span></a>
      
  <span class="item-action"><a href="https://www.blogger.com/email-post.g?blogID=35897879&postID=3687659959290847309" title="Email Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-341905326"><a style="border:none;" href="https://www.blogger.com/post-edit.g?blogID=35897879&postID=3687659959290847309&from=pencil" title="Edit Post"><img class="icon-action" alt="" src="https://img2.blogblog.com/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <!-- End #comments -->
   

</div></div>
<!-- End #main -->







<!-- Begin #sidebar -->
<div id="sidebar"><div id="sidebar2">

  
  
  <h2 class="sidebar-title">Previous Posts</h2>
    <ul id="recently">
    
        <li><a href="http://java-success.blogspot.in/2014/11/are-you-java-beginner-why-good-java.html">Are you a Java beginner? Why good Java developers ...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/11/java-exception-handling-beginner.html">Java exception handling beginner mistakes and best...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/11/unix-interview-questions-and-answers.html">Unix Interview Questions and Answers for Java deve...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/debugging-and-working-like-pro-with.html">Debugging and working  like a pro with a Java appl...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/yammer-metrics-to-monitor-restful-web_22.html">Yammer metrics to monitor RESTful web services and...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/when-to-use-which-java-collection-or.html">When to use which Java collection or data structur...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2011/09/how-to-prepare-for-javajee-job.html">How to prepare or train for Java and JEE Job Inter...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/10/yammer-metrics-to-monitor-restful-web.html">Yammer metrics to monitor RESTful web services wit...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/09/monitoring-and-gathering-statistics.html">Monitoring and gathering statistics with JMX based...</a></li>
     
        <li><a href="http://java-success.blogspot.in/2014/08/what-are-different-ways-java-thread.html">What are the different ways a Java thread gets blo...</a></li>
     
  </ul>
  
  
  
  <h2 class="sidebar-title">Archives</h2>

    <ul class="archive-list">
   	  
    	<li><a href="http://java-success.blogspot.in/2006_10_01_archive.html">October 2006</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2006_11_01_archive.html">November 2006</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_05_01_archive.html">May 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_10_01_archive.html">October 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2007_12_01_archive.html">December 2007</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2008_08_01_archive.html">August 2008</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_02_01_archive.html">February 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_10_01_archive.html">October 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_11_01_archive.html">November 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2010_12_01_archive.html">December 2010</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_01_01_archive.html">January 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_07_01_archive.html">July 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_09_01_archive.html">September 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_10_01_archive.html">October 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_11_01_archive.html">November 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2011_12_01_archive.html">December 2011</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_01_01_archive.html">January 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_02_01_archive.html">February 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_03_01_archive.html">March 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_04_01_archive.html">April 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_05_01_archive.html">May 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_06_01_archive.html">June 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_07_01_archive.html">July 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_08_01_archive.html">August 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_09_01_archive.html">September 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_10_01_archive.html">October 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_11_01_archive.html">November 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2012_12_01_archive.html">December 2012</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_01_01_archive.html">January 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_02_01_archive.html">February 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_03_01_archive.html">March 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_04_01_archive.html">April 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_05_01_archive.html">May 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_06_01_archive.html">June 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_07_01_archive.html">July 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_08_01_archive.html">August 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_09_01_archive.html">September 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_10_01_archive.html">October 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_11_01_archive.html">November 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2013_12_01_archive.html">December 2013</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_01_01_archive.html">January 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_02_01_archive.html">February 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_03_01_archive.html">March 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_04_01_archive.html">April 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_05_01_archive.html">May 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_06_01_archive.html">June 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_07_01_archive.html">July 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_08_01_archive.html">August 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_09_01_archive.html">September 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_10_01_archive.html">October 2014</a></li>
	  
    	<li><a href="http://java-success.blogspot.in/2014_11_01_archive.html">November 2014</a></li>
	  

  </ul>
  
  
  
  <!-- Begin #profile-container -->
  
    <div id="profile-container"><h2 class="sidebar-title">About Me</h2>
<dl class="profile-datablock"><dt class="profile-img"><a href="https://plus.google.com/109240621969095737337"><img src="//lh3.googleusercontent.com/-XMLxx0v_R7A/AAAAAAAAAAI/AAAAAAAACxk/8BeHFmsEuy8/s80-c/photo.jpg" width="80" height="80" alt="My Photo"></a></dt>
<dd class="profile-data"><strong>Name:</strong> <a rel="author" href="https://plus.google.com/109240621969095737337"> Arulkumaran Kumaraswamipillai </a></dd>
</dl>
<p class="profile-textblock">Java freelancer from Australia. As a contractor, attended 100+ job interviews and received multiple job offers. Authored Java career books that sold over 30,000 copies.<br><br><a href="http://www.java-success.com" rel="nofollow" target="_blank">www.java-success.com</a> for 500+ Java/JEE job interview questions and answers and tutorials.<br></p>
<p class="profile-link"><a rel="author" href="https://plus.google.com/109240621969095737337">View my complete profile</a></p></div>
  
  <!-- End #profile -->

  
  <p id="powered-by"><a href="http://www.blogger.com"><img src="http://buttons.blogger.com/bloggerbutton1.gif" alt="Powered by Blogger" /></a></p>
  <p id="blogfeeds">Subscribe to<br />Posts [<a target="_blank" href="http://java-success.blogspot.com/feeds/posts/default" type="application/atom+xml">Atom</a>]</p>

  <script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>  
   
  <!--
  <p>This is a paragraph of text that could go in the sidebar.</p>
  -->
  
  <script type="text/javascript"><!--
google_ad_client = "pub-3764234023451771";
google_ad_host = "pub-1556223355139109";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>  



</div></div>
<!-- End #sidebar -->




<!-- Begin #footer -->
<div id="footer"><hr />

  <p><!-- This is an optional footer. If you want text here, place it inside these tags, and remove this comment. -->&nbsp;</p>

  </div>
<!-- End #footer -->




</div>
<!-- End #content -->






</div></div></div></div>
<!-- End wraps -->

</body>
</html>